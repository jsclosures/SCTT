
D:\apps\solr-8.2.0\server\scripts\cloud-scripts\zkcli.bat -cmd upconfig -z localhost:9983 -confname validate -confdir validate/confdir

D:\apps\solr-8.2.0\server\scripts\cloud-scripts\zkcli.bat -cmd putfile -z localhost:9983 /security.json validate\security.json

asssets:

{
        "assetname":"interpretScript",
        "assettype":"script",
        "assetnotes":"aW50ZXJwcmV0",
        "assetscript_s":"",
        "id":"ASSET1692807197004",
        "contenttype":"ASSET",
        "crawldate":"2023-09-15T19:17:38.621Z",
        "assetscript":"ZnVuY3Rpb24oY29tbWFuZExpbmUpewogIGNvbnNvbGUubG9nKCJjb21tYW5kIixjb21tYW5kTGluZSk7CmZ1bmN0aW9uIGdldE9mZnNldCggZWwgKSB7CiAgICAvL3ZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAvL2xldCByZWN0ID0gZ2V0Q3VycmVudENvbnRleHQoKS5kb21HZW9tLnBvc2l0aW9uKGVsKTsKICAgIGxldCByZWN0ID0gZG9qby5jb29yZHMoZWwpOwogICAgY29uc29sZS5sb2cocmVjdCk7CiAgICByZXR1cm4gewogICAgICAgIGxlZnQ6IHJlY3QubCwKICAgICAgICB0b3A6IHJlY3QudCwKICAgICAgICB3aWR0aDogcmVjdC53LAogICAgICAgIGhlaWdodDogcmVjdC5oCiAgICB9Owp9CgpmdW5jdGlvbiBnZXRTZWN0aW9uVGl0bGUoYWxsRGF0YSxzb3VyY2UsYUxpc3QpewogICAgbGV0IHNvdXJjZVZhbHVlID0gYWxsRGF0YVtzb3VyY2VdLnNvdXJjZTsKICAgIGxldCBzb3VyY2VLZXkgPSBzb3VyY2U7CgogICAgaWYoIGFMaXN0ICYmIGFMaXN0Lmxlbmd0aCA+IDAgKXsKICAgICAgIHNvdXJjZUtleSA9IGFMaXN0WzBdLmlkLmluZGV4T2YoIkJFRk9SRSIpID4gLTEgPyAiQiIgOiAiQSI7CiAgICB9CiAgICBsZXQgcmVzdWx0ID0gIjxiPiIgKyBzb3VyY2VLZXkgKyAiPC9CPjogIiArIHNvdXJjZVZhbHVlOwogICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2VBbGwoIiwiLCItIik7CgogICAgcmV0dXJuKCByZXN1bHQgKTsKfQoKZnVuY3Rpb24gY29ubmVjdFdpdGhMaW5lKGRpdjEsIGRpdjIsIGNvbG9yLCB0aGlja25lc3MpIHsgLy8gZHJhdyBhIGxpbmUgY29ubmVjdGluZyBlbGVtZW50cwogICAgdmFyIG9mZjEgPSBnZXRPZmZzZXQoZGl2MSk7CiAgICB2YXIgb2ZmMiA9IGdldE9mZnNldChkaXYyKTsKICAgIGNvbnNvbGUubG9nKCJidWlsZCBsaW5lIixvZmYxLG9mZjIpOwogICAgCiAgICAvLyBib3R0b20gcmlnaHQKICAgIHZhciB4MSA9IG9mZjEubGVmdDsvLyArIE1hdGgucm91bmQob2ZmMS53aWR0aC8yKTsKICAgIHZhciB5MSA9IG9mZjEudG9wICsgMTA7CiAgICAvLyB0b3AgcmlnaHQKICAgIHZhciB4MiA9IG9mZjIubGVmdCAtIDIwOwogICAgdmFyIHkyID0gb2ZmMi50b3AgKyAxMDsKICAgIC8vIGRpc3RhbmNlCiAgICB2YXIgbGVuZ3RoID0gTWF0aC5zcXJ0KCgoeDIteDEpICogKHgyLXgxKSkgKyAoKHkyLXkxKSAqICh5Mi15MSkpKTsKICAgIC8vIGNlbnRlcgogICAgdmFyIGN4ID0gKCh4MSArIHgyKSAvIDIpIC0gKGxlbmd0aCAvIDIpOwogICAgdmFyIGN5ID0gKCh5MSArIHkyKSAvIDIpIC0gKHRoaWNrbmVzcyAvIDIpOwogICAgLy8gYW5nbGUKICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIoKHkxLXkyKSwoeDEteDIpKSooMTgwL01hdGguUEkpOwogICAgLy8gbWFrZSBocgogICAgLy92YXIgaHRtbExpbmUgPSAiPGRpdiBzdHlsZT0ncGFkZGluZzowcHg7IG1hcmdpbjowcHg7IGhlaWdodDoiICsgdGhpY2tuZXNzICsgInB4OyBiYWNrZ3JvdW5kLWNvbG9yOiIgKyBjb2xvciArICI7IGxpbmUtaGVpZ2h0OjFweDsgcG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6IiArIGN4ICsgInB4OyB0b3A6IiArIGN5ICsgInB4OyB3aWR0aDoiICsgbGVuZ3RoICsgInB4OyAtbW96LXRyYW5zZm9ybTpyb3RhdGUoIiArIGFuZ2xlICsgImRlZyk7IC13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgiICsgYW5nbGUgKyAiZGVnKTsgLW8tdHJhbnNmb3JtOnJvdGF0ZSgiICsgYW5nbGUgKyAiZGVnKTsgLW1zLXRyYW5zZm9ybTpyb3RhdGUoIiArIGFuZ2xlICsgImRlZyk7IHRyYW5zZm9ybTpyb3RhdGUoIiArIGFuZ2xlICsgImRlZyk7JyAvPiI7CiAgICAvLwogICAgLy8gYWxlcnQoaHRtbExpbmUpOwogICAgLy9jb250YWluZXIuaW5uZXJIVE1MICs9IGh0bWxMaW5lOwogICAgbGV0IHJlc3VsdCA9IFdJREdFVEZBQ1RPUlkuYnVpbGRXaWRnZXQoe3doaWNoOiJkaXYiLHN0eWxlOiB7InBhZGRpbmciOiAiMHB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXJnaW4iOiAiMHB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiB0aGlja25lc3MgKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImJhY2tncm91bmQtY29sb3IiOiBjb2xvciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsaW5lLWhlaWdodCI6ICIxcHgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInBvc2l0aW9uIjogImFic29sdXRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsZWZ0IjogY3ggKyAicHgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRvcCI6IGN5ICsgInB4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6IGxlbmd0aCArICJweCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiLW1vei10cmFuc2Zvcm0iOiAicm90YXRlKCIgKyBhbmdsZSArICJkZWcpIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICItd2Via2l0LXRyYW5zZm9ybSI6ICJyb3RhdGUoIiArIGFuZ2xlICsgImRlZykiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIi1vLXRyYW5zZm9ybSI6ICJyb3RhdGUoIiArIGFuZ2xlICsgImRlZykiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIi1tcy10cmFuc2Zvcm0iOiAicm90YXRlKCIgKyBhbmdsZSArICJkZWcpIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0cmFuc2Zvcm0iOiAicm90YXRlKCIgKyBhbmdsZSArICJkZWcpIn19KTsKICAgIGNvbnNvbGUubG9nKCJuZXcgd2lkZ2V0IixyZXN1bHQpOwogICAgcmV0dXJuKCByZXN1bHQgKTsKfQp2YXIgcHJvZmlsZU1hbmFnZXIgPSBnZXRDdXJyZW50Q29udGV4dCgpLlVJUHJvZmlsZU1hbmFnZXI7CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IHNlYXJjaEJveCA9IHRoaXMuc2VhcmNoQm94OwogICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2VCb3ggPSB0aGlzLm1lc3NhZ2VCb3g7CiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0UGFuZWxBID0gdGhpcy5yZXN1bHRQYW5lbEE7CiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0UGFuZWxCID0gdGhpcy5yZXN1bHRQYW5lbEI7CiAgICAgICAgICAgICAgICBsZXQgdGVzdCA9IHRoaXMudGVzdDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IGFsbERhdGEgPSB7fTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZnVuY3Rpb24gZmluZE1hdGNoKHJlYyxrZXkxLGtleTIsb3RoZXJMaXN0KXsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gLTE7CiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDtpIDwgb3RoZXJMaXN0Lmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgICAgICBpZiggKHJlY1trZXkxXSAmJiByZWNba2V5MV0gPT09IG90aGVyTGlzdFtpXVtrZXkxXSkgfHwgKHJlY1trZXkyXSAmJiByZWNba2V5Ml0gPT09IG90aGVyTGlzdFtpXVtrZXkyXSkgKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHJldHVybiggcmVzdWx0ICk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gaW5kZXhPZihzdHIsb3RoZXJMaXN0KXsKICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gLTE7CiAgICAgICAgICAgICAgICAgICAgaWYoIG90aGVyTGlzdCApewogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7aSA8IG90aGVyTGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHN0ciA9PSBvdGhlckxpc3RbaV0gKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImNoZWNraW5nIGluZGV4IixyZXN1bHQsc3RyLG90aGVyTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuKCByZXN1bHQgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IGNhbGxiYWNrID0gZnVuY3Rpb24oYXJncyxyZXNwKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTsKICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0UGFuZWxBID0gdGhpcy5yZXN1bHRQYW5lbEE7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdFBhbmVsQiA9IHRoaXMucmVzdWx0UGFuZWxCOwogICAgICAgICAgICAgICAgICAgIGxldCBpbnB1dCA9IHRoaXMuaW5wdXQ7CiAgICAgICAgICAgICAgICAgICAgbGV0IHNvdXJjZUEgPSAiQSI7CiAgICAgICAgICAgICAgICAgICAgbGV0IHNvdXJjZUIgPSAiQiI7CiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYW5uZWwgPSB0aGlzLmNoYW5uZWw7CiAgICAgICAgICAgICAgICAgICAgbGV0IG1hc3RlckNvbnRhaW5lciA9IHRoaXMucGFyZW50OwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIFdJREdFVEZBQ1RPUlkuY2xlYXJDaGlsZHJlbih7d2lkZ2V0OiByZXN1bHRQYW5lbEF9KTsKICAgICAgICAgICAgICAgICAgICBXSURHRVRGQUNUT1JZLmNsZWFyQ2hpbGRyZW4oe3dpZGdldDogcmVzdWx0UGFuZWxCfSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgbGV0IGRvY3MgPSByZXNwLml0ZW1zOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmKCBkb2NzLmxlbmd0aCA+IDAgKXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF0YVtzb3VyY2VBXSA9IHtkb2NzOiBbZG9jc1swXV0scmVzdWx0UGFuZWw6IHJlc3VsdFBhbmVsQSxzb3VyY2U6IHNvdXJjZUEsY2hhbm5lbDogY2hhbm5lbH07CiAgICAgICAgICAgICAgICAgICAgICAgIGFsbERhdGFbc291cmNlQV0uc291cmNlID0gZG9jc1swXS5zb3VyY2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBhbGxEYXRhW3NvdXJjZUFdID0ge2RvY3M6IFtdLHJlc3VsdFBhbmVsOiByZXN1bHRQYW5lbEEsc291cmNlOiBzb3VyY2VBLGNoYW5uZWw6IGNoYW5uZWx9OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiggZG9jcy5sZW5ndGggPiAxKXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF0YVtzb3VyY2VCXSA9IHtkb2NzOiBbZG9jc1sxXV0scmVzdWx0UGFuZWw6IHJlc3VsdFBhbmVsQixzb3VyY2U6IHNvdXJjZUIsY2hhbm5lbDogY2hhbm5lbH07CiAgICAgICAgICAgICAgICAgICAgICAgIGFsbERhdGFbc291cmNlQl0uc291cmNlID0gZG9jc1sxXS5zb3VyY2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBhbGxEYXRhW3NvdXJjZUJdID0ge2RvY3M6IFtdLHJlc3VsdFBhbmVsOiByZXN1bHRQYW5lbEIsc291cmNlOiBzb3VyY2VCLGNoYW5uZWw6IGNoYW5uZWx9OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBsZXQgZG9uZSA9IDA7CgogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgcCBpbiBhbGxEYXRhKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGFsbERhdGEuaGFzT3duUHJvcGVydHkocCkgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSsrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiggZG9uZSA9PSAyICl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzTGlzdCA9IFtzb3VyY2VBLHNvdXJjZUJdOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgYUxpc3QgPSBhbGxEYXRhW3NvdXJjZUFdLmRvY3M7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiTGlzdCA9IGFsbERhdGFbc291cmNlQl0uZG9jczsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZWZ0Q29sb3IgPSAiZ3JlZW4iOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmlnaHRDb2xvciA9ICJncmVlbiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhRG9jV2lkZ2V0OwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgYkRvY1dpZGdldDsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSBpbiBhTGlzdCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbmRleCIsaSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaSA9PSAwICl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYURvY1dpZGdldCA9IFdJREdFVEZBQ1RPUlkuYnVpbGRXaWRnZXQoe3doaWNoOiJkaXYiLGlubmVySFRNTDogZ2V0U2VjdGlvblRpdGxlKGFsbERhdGEsc291cmNlQSxhTGlzdCkgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImFkb2MiLGFEb2NXaWRnZXQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdJREdFVEZBQ1RPUlkuYWRkV2lkZ2V0VG9Db250YWluZXIoe3BhcmVudDogYWxsRGF0YVtzb3VyY2VBXS5yZXN1bHRQYW5lbCxjaGlsZDogYURvY1dpZGdldH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJEb2NXaWRnZXQgPSBXSURHRVRGQUNUT1JZLmJ1aWxkV2lkZ2V0KHt3aGljaDoiZGl2Iixpbm5lckhUTUw6IGdldFNlY3Rpb25UaXRsZShhbGxEYXRhLHNvdXJjZUIsYkxpc3QpIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdJREdFVEZBQ1RPUlkuYWRkV2lkZ2V0VG9Db250YWluZXIoe3BhcmVudDogYWxsRGF0YVtzb3VyY2VCXS5yZXN1bHRQYW5lbCxjaGlsZDogYkRvY1dpZGdldH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hJbmRleCA9IGZpbmRNYXRjaChhTGlzdFtpXSwiaWQiLCJ0b3Bkb2MiLGJMaXN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIG1hdGNoSW5kZXggPiAtMSApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAgbWF0Y2hJbmRleCAhPSBpICl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBtYXRjaEluZGV4IDwgaSApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdENvbG9yID0gInJlZCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodENvbG9yID0gInJlZCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0Q29sb3IgPSAiZ3JlZW4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRDb2xvciA9ICJncmVlbiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRDb2xvciA9ICJncmVlbiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0Q29sb3IgPSAiZ3JlZW4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRDb2xvciA9ICJ5ZWxsb3ciOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0Q29sb3IgPSAieWVsbG93IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVudHJ5V2lkZ2V0QSA9IFdJREdFVEZBQ1RPUlkuYnVpbGRXaWRnZXQoe3doaWNoOiJ1bCIsaW5uZXJIVE1MOiAiRG9jdW1lbnQgIiArIGksc3R5bGU6IHsiYmFja2dyb3VuZC1jb2xvciI6IGxlZnRDb2xvcn19KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdJREdFVEZBQ1RPUlkuYWRkSGFuZGxlcih7d2lkZ2V0OiBlbnRyeVdpZGdldEEsaGFuZGxlcjogW3tuYW1lOiAiY2xpY2siLGNhbGxiYWNrOiBoYW5kbGVDbGljay5iaW5kKHtkb2M6IGFMaXN0W2ldLGlucHV0OiBpbnB1dH0pfV19KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgYSBpbiBhTGlzdFtpXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFhLnN0YXJ0c1dpdGgoIl8iKSAmJiBbImlkIiwic2NvcmUiLCJxdGltZSIsInJvd2NvdW50IiwidG9wZG9jIiwicXVlcnlfdHh0Il0uaW5kZXhPZihhKSA+IC0xICl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBhID09ICd0b3Bkb2MnICl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZExpc3QgPSBhTGlzdFtpXVsidG9wZG9jIl07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXR0cmlidXRlV2lkZ2V0ID0gV0lER0VURkFDVE9SWS5idWlsZFdpZGdldCh7d2hpY2g6ImxpIixpbm5lckhUTUw6IGEgKyAiOiAifSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXSURHRVRGQUNUT1JZLmFkZFdpZGdldFRvQ29udGFpbmVyKHtwYXJlbnQ6IGVudHJ5V2lkZ2V0QSxjaGlsZDogYXR0cmlidXRlV2lkZ2V0fSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGRMaXN0ICl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYUxpc3RbaV1bIl90b3Bkb2N3aWRnZXQiXSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2NMaXN0V2lkZ2V0ID0gV0lER0VURkFDVE9SWS5idWlsZFdpZGdldCh7d2hpY2g6InVsIixzdHlsZTogeyJiYWNrZ3JvdW5kLWNvbG9yIjogbGVmdENvbG9yfX0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdJREdFVEZBQ1RPUlkuYWRkV2lkZ2V0VG9Db250YWluZXIoe3BhcmVudDogZW50cnlXaWRnZXRBLGNoaWxkOiBkb2NMaXN0V2lkZ2V0fSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZExpc3QgPSBkTGlzdC5zcGxpdCgifiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFMaXN0W2ldWyJfdG9wZG9jIl0gPSBkTGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGRpIGluIGRMaXN0KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRvY0l0ZW1XaWRnZXQgPSBXSURHRVRGQUNUT1JZLmJ1aWxkV2lkZ2V0KHt3aGljaDoibGkiLGlubmVySFRNTDogZExpc3RbZGldfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdJREdFVEZBQ1RPUlkuYWRkV2lkZ2V0VG9Db250YWluZXIoe3BhcmVudDogZG9jTGlzdFdpZGdldCxjaGlsZDogZG9jSXRlbVdpZGdldH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhTGlzdFtpXVsiX3RvcGRvY3dpZGdldCJdLnB1c2goZG9jSXRlbVdpZGdldCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXR0cmlidXRlV2lkZ2V0ID0gV0lER0VURkFDVE9SWS5idWlsZFdpZGdldCh7d2hpY2g6ImxpIixpbm5lckhUTUw6IGEgKyAiOiAiICsgYUxpc3RbaV1bYV19KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdJREdFVEZBQ1RPUlkuYWRkV2lkZ2V0VG9Db250YWluZXIoe3BhcmVudDogZW50cnlXaWRnZXRBLGNoaWxkOiBhdHRyaWJ1dGVXaWRnZXR9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdJREdFVEZBQ1RPUlkuYWRkV2lkZ2V0VG9Db250YWluZXIoe3BhcmVudDogYURvY1dpZGdldCxjaGlsZDogZW50cnlXaWRnZXRBfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpIDwgYkxpc3QubGVuZ3RoICl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVudHJ5V2lkZ2V0QiA9IFdJREdFVEZBQ1RPUlkuYnVpbGRXaWRnZXQoe3doaWNoOiJ1bCIsaW5uZXJIVE1MOiAiRG9jdW1lbnQgIiArIGksc3R5bGU6IHsiYmFja2dyb3VuZC1jb2xvciI6IHJpZ2h0Q29sb3J9fSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV0lER0VURkFDVE9SWS5hZGRIYW5kbGVyKHt3aWRnZXQ6IGVudHJ5V2lkZ2V0QixoYW5kbGVyOiBbe25hbWU6ICJjbGljayIsY2FsbGJhY2s6IGhhbmRsZUNsaWNrLmJpbmQoe2RvYzogYkxpc3RbaV0saW5wdXQ6IGlucHV0fSl9XX0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdJREdFVEZBQ1RPUlkuYWRkV2lkZ2V0VG9Db250YWluZXIoe3BhcmVudDogYkRvY1dpZGdldCxjaGlsZDogZW50cnlXaWRnZXRCfSk7ICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGEgaW4gYkxpc3RbaV0pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIWEuc3RhcnRzV2l0aCgiXyIpICYmIFsiaWQiLCJzY29yZSIsInF0aW1lIiwicm93Y291bnQiLCJ0b3Bkb2MiLCJxdWVyeV90eHQiXS5pbmRleE9mKGEpID4gLTEgKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBhID09ICd0b3Bkb2MnICl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZExpc3QgPSBiTGlzdFtpXVsidG9wZG9jIl07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXR0cmlidXRlV2lkZ2V0ID0gV0lER0VURkFDVE9SWS5idWlsZFdpZGdldCh7d2hpY2g6ImxpIixpbm5lckhUTUw6IGEgKyAiOiAifSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXSURHRVRGQUNUT1JZLmFkZFdpZGdldFRvQ29udGFpbmVyKHtwYXJlbnQ6IGVudHJ5V2lkZ2V0QixjaGlsZDogYXR0cmlidXRlV2lkZ2V0fSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGRMaXN0ICl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRvY0xpc3RXaWRnZXQgPSBXSURHRVRGQUNUT1JZLmJ1aWxkV2lkZ2V0KHt3aGljaDoidWwiLHN0eWxlOiB7ImJhY2tncm91bmQtY29sb3IiOiByaWdodENvbG9yfX0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdJREdFVEZBQ1RPUlkuYWRkV2lkZ2V0VG9Db250YWluZXIoe3BhcmVudDogZW50cnlXaWRnZXRCLGNoaWxkOiBkb2NMaXN0V2lkZ2V0fSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZExpc3QgPSBkTGlzdC5zcGxpdCgifiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJMaXN0W2ldWyJfdG9wZG9jIl0gPSBkTGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiTGlzdFtpXVsiX3RvcGRvY3dpZGdldCJdID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBkaSBpbiBkTGlzdCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkb2NJdGVtV2lkZ2V0ID0gV0lER0VURkFDVE9SWS5idWlsZFdpZGdldCh7d2hpY2g6ImxpIixpbm5lckhUTUw6IGRMaXN0W2RpXX0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXSURHRVRGQUNUT1JZLmFkZFdpZGdldFRvQ29udGFpbmVyKHtwYXJlbnQ6IGRvY0xpc3RXaWRnZXQsY2hpbGQ6IGRvY0l0ZW1XaWRnZXR9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYkxpc3RbaV1bIl90b3Bkb2N3aWRnZXQiXS5wdXNoKGRvY0l0ZW1XaWRnZXQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jTWF0Y2hJbmRleCA9IGluZGV4T2YoZExpc3RbZGldLGFMaXN0W2ldWyJfdG9wZG9jIl0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBkb2NNYXRjaEluZGV4PiAtMSAmJiBhTGlzdFtpXVsiX3RvcGRvY3dpZGdldCJdW2RvY01hdGNoSW5kZXhdICl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGluZSA9IGNvbm5lY3RXaXRoTGluZShhTGlzdFtpXVsiX3RvcGRvY3dpZGdldCJdW2RvY01hdGNoSW5kZXhdLCBkb2NJdGVtV2lkZ2V0LCAiI2YwMCIsICIxIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZHJhdyBsaW5lIixkb2NNYXRjaEluZGV4KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdJREdFVEZBQ1RPUlkuYWRkV2lkZ2V0VG9Db250YWluZXIoe3BhcmVudDogcmVzdWx0UGFuZWxBICxjaGlsZDogbGluZX0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZVdpZGdldCA9IFdJREdFVEZBQ1RPUlkuYnVpbGRXaWRnZXQoe3doaWNoOiJsaSIsaW5uZXJIVE1MOiBhICsgIjogIiArIGJMaXN0W2ldW2FdfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV0lER0VURkFDVE9SWS5hZGRXaWRnZXRUb0NvbnRhaW5lcih7cGFyZW50OiBlbnRyeVdpZGdldEIsY2hpbGQ6IGF0dHJpYnV0ZVdpZGdldH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGdldEN1cnJlbnRDb250ZXh0KCkuc2V0QnVzeSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzZWFyY2hCb3gsbWVzc2FnZUJveCxyZXN1bHRQYW5lbEEscmVzdWx0UGFuZWxCKTsKICAgICAgICAgICAgICAgIGxldCBpbnB1dCA9IHNlYXJjaEJveC52YWx1ZTsKICAgICAgICAgICAgICAgIGdldEN1cnJlbnRDb250ZXh0KCkuc2V0QnVzeSh0cnVlLCJDT01QQVJFIik7ICAgIAogICAgICAgICAgICAgICAgbGV0IG5ld0NhbGxiYWNrID0gY2FsbGJhY2suYmluZCh7cGFyZW50OiBjb250YWluZXIscmVzdWx0UGFuZWxBOiByZXN1bHRQYW5lbEEscmVzdWx0UGFuZWxCOiByZXN1bHRQYW5lbEIsaW5wdXQ6IGlucHV0LHNlYXJjaEJveDogc2VhcmNoQm94LHRlc3Q6IHRlc3R9KTsKICAgICAgICAgICAgICAgIGdldEN1cnJlbnRDb250ZXh0KCkuQ2FjaGVNYW5hZ2VyLmdldERhdGEoe2NvbnRlbnR0eXBlOiAiQ09NUEFSRSIsd2luZG93OiB3aW5kb3cscXVlcnk6eyBjb250ZW50dHlwZTogIkNPTVBBUkUiLHBhcmVudGlkOiBpbnB1dCx0ZXN0bmFtZTogdGVzdC50ZXN0bmFtZX0sY2FsbGJhY2s6IG5ld0NhbGxiYWNrLG5vY2FjaGU6IHRydWV9KTsgICAgICAgICAgICAgICAgCgp9Cg==",
        "_version_":1777132328580022272},
      {
        "assetname":"detailsScript",
        "assettype":"script",
        "assetnotes":"",
        "assetscript_s":"testName=",
        "id":"ASSET1695307336511",
        "contenttype":"ASSET",
        "crawldate":"2023-09-22T17:10:44.147Z",
        "assetscript":"ZnVuY3Rpb24oY29tbWFuZExpbmUsY2FsbGJhY2spewoKdmFyIHNvbHJIb3N0ID0gQ09OVEVYVC5TT0xSSE9TVDsKICAgICAgICB2YXIgc29sclBvcnQgPSBDT05URVhULlNPTFJQT1JUOwogICAgICAgIHZhciBzb2xyUGF0aCA9ICIvYXBpL3NvbHIvdmFsaWRhdGUvc2VsZWN0P3E9KjoqIjsKICAgICAgICAKICAgICAgICBsZXQgdGVzdE5hbWUgPSAiZGVmYXVsdCI7IAoKICAgICAgICBpZiggY29tbWFuZExpbmUudGVzdG5hbWUgKQogICAgICAgICAgICB0ZXN0TmFtZSA9IGFyZ3MucXVlcnlPYmoudGVzdG5hbWU7CiAgICAgICAgCiAgICAgICAgaWYoIHRlc3ROYW1lICl7CiAgICAgICAgICAgIHNvbHJQYXRoICs9ICImZnE9dGVzdG5hbWU6IiArIHRlc3ROYW1lOwogICAgICAgIH0KICAgICAgICB2YXIgZmluYWxSZXN1bHQgPSB7aXRlbXM6IFtdfTsKCiAgICAgICAgdmFyIGNvbGxlY3RvckNCID0gZnVuY3Rpb24oZGF0YSl7CiAgICAgICAgICAgIGlmKCBkYXRhLml0ZW1zICl7CiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5pdGVtcyA9IHRoaXMucmVzdWx0Lml0ZW1zLmNvbmNhdChkYXRhLml0ZW1zKTsKICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0Lm51bUZvdW5kID0gdGhpcy5yZXN1bHQuX3RvdGFsSXRlbXM7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiY29uY2F0IGl0ZW1zIix0aGlzLnJlc3VsdCx0aGlzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoIHRoaXMubmV4dEVudHJ5ICkKICAgICAgICAgICAgICAgIENPTlRFWFQubGliLmdldFJFU1REYXRhKHtob3N0OiBzb2xySG9zdCxwb3J0OiBzb2xyUG9ydCxwYXRoOiB0aGlzLm5leHRFbnRyeS5wYXRoLHR5cGU6IHRoaXMubmV4dEVudHJ5LnR5cGUsY2FsbGJhY2s6IHRoaXMubmV4dEVudHJ5LmNhbGxiYWNrLGVudHJ5OiB0aGlzLm5leHRFbnRyeX0pOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMucmVzdWx0KTsKICAgICAgICB9CiAgICAgICAgdmFyIHBhdGhMaXN0ID0gWwogICAgICAgICAgICAgICAgICAgICAgICB7dHlwZTogInF1ZXJ5IixsYWJlbDogIlN1bW1hcnlNYXhRVGltZXMiLGZpZWxkOiAicXRpbWUiLHBhdGg6IHNvbHJQYXRoICsgIiZmcT1jb250ZW50dHlwZTpTVU1NQVJZJnJvd3M9MSZzb3J0PXF0aW1lK2Rlc2MifSwKICAgICAgICAgICAgICAgICAgICAgICAge3R5cGU6ICJxdWVyeSIsbGFiZWw6ICJTdW1tYXJ5TWF4Um93Q291bnQiLGZpZWxkOiAicm93Y291bnQiLHBhdGg6IHNvbHJQYXRoICsgIiZmcT1jb250ZW50dHlwZTpTVU1NQVJZJnJvd3M9MSZzb3J0PXJvd2NvdW50K2Rlc2MifSwKICAgICAgICAgICAgICAgICAgICAgICAge3R5cGU6ICJxdWVyeSIsbGFiZWw6ICJTdW1tYXJ5TWluUVRpbWUiLGZpZWxkOiAicXRpbWUiLHBhdGg6IHNvbHJQYXRoICsgIiZmcT1jb250ZW50dHlwZTpTVU1NQVJZJnJvd3M9MSZzb3J0PXF0aW1lK2FzYyJ9LAogICAgICAgICAgICAgICAgICAgICAgICB7dHlwZTogInF1ZXJ5IixsYWJlbDogIlN1bW1hcnlNaW5Sb3dDb3VudCIsZmllbGQ6ICJyb3djb3VudCIscGF0aDogc29sclBhdGggKyAiJmZxPWNvbnRlbnR0eXBlOlNVTU1BUlkmcm93cz0xJnNvcnQ9cm93Y291bnQrYXNjIn0sCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICB7dHlwZTogInF1ZXJ5IixsYWJlbDogIkJlZm9yZU1heFFUaW1lIixmaWVsZDogInF0aW1lIixwYXRoOiBzb2xyUGF0aCArICImZnE9Y29udGVudHR5cGU6QkVGT1JFJnJvd3M9MSZzb3J0PXF0aW1lK2Rlc2MifSwKICAgICAgICAgICAgICAgICAgICAgICAge3R5cGU6ICJxdWVyeSIsbGFiZWw6ICJCZWZvcmVNYXhSb3dDb3VudCIsZmllbGQ6ICJyb3djb3VudCIscGF0aDogc29sclBhdGggKyAiJmZxPWNvbnRlbnR0eXBlOkJFRk9SRSZyb3dzPTEmc29ydD1yb3djb3VudCtkZXNjIn0sCiAgICAgICAgICAgICAgICAgICAgICAgIHt0eXBlOiAicXVlcnkiLGxhYmVsOiAiQWZ0ZXJNYXhRVGltZSIsZmllbGQ6ICJxdGltZSIscGF0aDogc29sclBhdGggKyAiJmZxPWNvbnRlbnR0eXBlOkFGVEVSJnJvd3M9MSZzb3J0PXF0aW1lK2Rlc2MifSwKICAgICAgICAgICAgICAgICAgICAgICAge3R5cGU6ICJxdWVyeSIsbGFiZWw6ICJBZnRlck1heFJvd0NvdW50IixmaWVsZDogInJvd2NvdW50IixwYXRoOiBzb2xyUGF0aCArICImZnE9Y29udGVudHR5cGU6QUZURVImcm93cz0xJnNvcnQ9cm93Y291bnQrZGVzYyJ9LAogICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgIHt0eXBlOiAicXVlcnkiLGxhYmVsOiAiQmVmb3JlTWluUVRpbWUiLGZpZWxkOiAicXRpbWUiLHBhdGg6IHNvbHJQYXRoICsgIiZmcT1jb250ZW50dHlwZTpCRUZPUkUmcm93cz0xJnNvcnQ9cXRpbWUrYXNjIn0sCiAgICAgICAgICAgICAgICAgICAgICAgIHt0eXBlOiAicXVlcnkiLGxhYmVsOiAiQmVmb3JlTWluUm93Q291bnQiLGZpZWxkOiAicm93Y291bnQiLHBhdGg6IHNvbHJQYXRoICsgIiZmcT1jb250ZW50dHlwZTpCRUZPUkUmcm93cz0xJnNvcnQ9cm93Y291bnQrYXNjIn0sCiAgICAgICAgICAgICAgICAgICAgICAgIHt0eXBlOiAicXVlcnkiLGxhYmVsOiAiQWZ0ZXJNaW5RVGltZSIsZmllbGQ6ICJxdGltZSIscGF0aDogc29sclBhdGggKyAiJmZxPWNvbnRlbnR0eXBlOkFGVEVSJnJvd3M9MSZzb3J0PXF0aW1lK2FzYyJ9LAogICAgICAgICAgICAgICAgICAgICAgICB7dHlwZTogInF1ZXJ5IixsYWJlbDogIkFmdGVyTWluUm93Q291bnQiLGZpZWxkOiAicm93Y291bnQiLHBhdGg6IHNvbHJQYXRoICsgIiZmcT1jb250ZW50dHlwZTpBRlRFUiZyb3dzPTEmc29ydD1yb3djb3VudCthc2MifSwKCiAgICAgICAgICAgICAgICAgICAgICAgIC8qe3R5cGU6ICJxdWVyeSIsbGFiZWw6ICJaZXJvUm93Q291bnRBIixmaWVsZDogInJvd2NvdW50YSIscGF0aDogc29sclBhdGggKyAiJmZxPWNvbnRlbnR0eXBlOkFGVEVSJmZxPXJvd2NvdW50YTowJnJvd3M9MSZzb3J0PXJvd2NvdW50YSthc2MifSwKICAgICAgICAgICAgICAgICAgICAgICAge3R5cGU6ICJxdWVyeSIsbGFiZWw6ICJaZXJvUm93Q291bnRCIixmaWVsZDogInJvd2NvdW50YiIscGF0aDogc29sclBhdGggKyAiJmZxPWNvbnRlbnR0eXBlOkJFRk9SRSZmcT1yb3djb3VudGI6MCZyb3dzPTEmc29ydD1yb3djb3VudGIrYXNjIn0sCiAgICAgICAgICAgICAgICAgICAgICAgIHt0eXBlOiAicXVlcnkiLGxhYmVsOiAiWmVyb1Jvd0NvdW50IixmaWVsZDogInJvd2NvdW50IixwYXRoOiBzb2xyUGF0aCArICImZnE9Y29udGVudHR5cGU6QkVGT1JFJmZxPXJvd2NvdW50OjAmcm93cz0xJnNvcnQ9cm93Y291bnQrYXNjIn0sKi8KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIHt0eXBlOiAiZmFjZXQiLHBhdGg6IHNvbHJQYXRoICsgIiZmYWNldC5maWVsZD1jb250ZW50dHlwZSZmYWNldD1vbiZmYWNldC5taW5jb3VudD0xJnJvd3M9MCJ9CiAgICAgICAgICAgICAgICAgICAgICAgIF07CiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgcGF0aExpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgICAgIGlmKCBpKzEgPCBwYXRoTGlzdC5sZW5ndGggKQogICAgICAgICAgICAgICAgcGF0aExpc3RbaV0uY2FsbGJhY2sgPSBjb2xsZWN0b3JDQi5iaW5kKHthcmdzOiBjb21tYW5kTGluZSxyZXN1bHQ6IGZpbmFsUmVzdWx0LG5leHRFbnRyeTogcGF0aExpc3RbaSsxXSxjYWxsYmFjazogY2FsbGJhY2sgfSk7CiAgICAgICAgICAgIGVsc2UgICAgCiAgICAgICAgICAgICAgICBwYXRoTGlzdFtpXS5jYWxsYmFjayA9IGNvbGxlY3RvckNCLmJpbmQoe2FyZ3M6IGNvbW1hbmRMaW5lLHJlc3VsdDogZmluYWxSZXN1bHQsY2FsbGJhY2s6IGNhbGxiYWNrIH0pOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coInNvbHJwYXRoIixwYXRoTGlzdFswXS5wYXRoKTsKICAgICAgICBDT05URVhULmxpYi5nZXRSRVNURGF0YSh7aG9zdDogc29sckhvc3QscG9ydDogc29sclBvcnQscGF0aDogcGF0aExpc3RbMF0ucGF0aCx0eXBlOiBwYXRoTGlzdFswXS50eXBlLGNhbGxiYWNrOiBwYXRoTGlzdFswXS5jYWxsYmFjayxlbnRyeTogcGF0aExpc3RbMF19KTsKCgp9",
        "_version_":1777758522989084672},
      {
        "assetname":"copyCollectionScript",
        "assettype":"script",
        "assetnotes":"",
        "assetscript_s":"",
        "id":"ASSET1695667632522",
        "contenttype":"ASSET",
        "crawldate":"2023-09-25T18:47:12.826Z",
        "assetscript":"ZnVuY3Rpb24ob0NvbW1hbmRMaW5lKXsKCmZ1bmN0aW9uIGNsb25lQ29sbGVjdGlvbihjb21tYW5kTGluZSl7CnZhciBiYXRjaFNpemUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnYmF0Y2hTaXplJykgPyBjb21tYW5kTGluZVsnYmF0Y2hTaXplJ10gOiAxMDAwOwp2YXIgc291cmNlU29scklkRmllbGQgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlU29scklkRmllbGQnKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VTb2xySWRGaWVsZCddIDogImlkIjsKdmFyIHNvdXJjZVNvbHJRdWVyeSA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdzb3VyY2VTb2xyUXVlcnknKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VTb2xyUXVlcnknXSA6ICIqOioiOwp2YXIgbG9hZERhdGEgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnbG9hZERhdGEnKSA/IGNvbW1hbmRMaW5lWydsb2FkRGF0YSddID09ICd0cnVlJyA6IHRydWU7CnZhciB0ZXN0TmFtZSA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd0ZXN0TmFtZScpID8gY29tbWFuZExpbmVbJ3Rlc3ROYW1lJ10gOiAnZGVmYXVsdCc7Cgp2YXIgc291cmNlU29sckhvc3QgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlU29sckhvc3QnKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VTb2xySG9zdCddIDogInNvbHJzZXJ2ZXIiOwp2YXIgc291cmNlU29sclBvcnQgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlU29sclBvcnQnKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VTb2xyUG9ydCddIDogODE4MDsKdmFyIHNvdXJjZVNvbHJDb2xsZWN0aW9uID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVNvbHJDb2xsZWN0aW9uJykgPyBjb21tYW5kTGluZVsnc291cmNlU29sckNvbGxlY3Rpb24nXSA6ICdjb2xsZWN0aW9uMSc7CnZhciBzb3VyY2VTb2xyUGF0aCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdzb3VyY2VTb2xyUGF0aCcpID8gY29tbWFuZExpbmVbJ3NvdXJjZVNvbHJQYXRoJ10gOiAiL3NvbHIvIiArIHNvdXJjZVNvbHJDb2xsZWN0aW9uICsgIi9zZWxlY3Q/d3Q9anNvbiZzb3J0PSIgKyBzb3VyY2VTb2xySWRGaWVsZCArICIrYXNjJnJvd3M9IiArIGJhdGNoU2l6ZSArICImcT0iICsgc291cmNlU29sclF1ZXJ5OwoKdmFyIGRlc3RpbmF0aW9uU29sckhvc3QgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnZGVzdGluYXRpb25Tb2xySG9zdCcpID8gY29tbWFuZExpbmVbJ2Rlc3RpbmF0aW9uU29sckhvc3QnXSA6ICJzb2xyc2VydmVyMiI7CnZhciBkZXN0aW5hdGlvblNvbHJQb3J0ID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ2Rlc3RpbmF0aW9uU29sclBvcnQnKSA/IGNvbW1hbmRMaW5lWydkZXN0aW5hdGlvblNvbHJQb3J0J10gOiA4MTgwOwp2YXIgZGVzdGluYXRpb25Tb2xyQ29sbGVjdGlvbiA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdkZXN0aW5hdGlvblNvbHJDb2xsZWN0aW9uJykgPyBjb21tYW5kTGluZVsnZGVzdGluYXRpb25Tb2xyQ29sbGVjdGlvbiddIDogJ2NvbGxlY3Rpb24xJzsKdmFyIGRlc3RpbmF0aW9uU29sclVwZGF0ZVBhdGggPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnZGVzdGluYXRpb25Tb2xyVXBkYXRlUGF0aCcpID8gY29tbWFuZExpbmVbJ2Rlc3RpbmF0aW9uU29sclVwZGF0ZVBhdGgnXSA6ICIvc29sci8iICsgZGVzdGluYXRpb25Tb2xyQ29sbGVjdGlvbiArICIvdXBkYXRlIjsKdmFyIGRlc3RpbmF0aW9uU29sckNvbmZpZ1NldCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdkZXN0aW5hdGlvblNvbHJDb25maWdTZXQnKSA/IGNvbW1hbmRMaW5lWydkZXN0aW5hdGlvblNvbHJDb25maWdTZXQnXSA6IGZhbHNlOwp2YXIgZG9TeW5jTG9hZCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdkb1N5bmNMb2FkJykgPyBjb21tYW5kTGluZVsnZG9TeW5jTG9hZCddIDogdHJ1ZTsKdmFyIGpteEluZm9Qb3J0ID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ2pteEluZm9Qb3J0JykgPyBjb21tYW5kTGluZVsnam14SW5mb1BvcnQnXSA6IDE4MTgwOwp2YXIgdmFsaWRhdGVTb2xySG9zdCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJIb3N0JykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xySG9zdCddIDogImxvY2FsaG9zdCI7CnZhciB2YWxpZGF0ZVNvbHJQb3J0ID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3ZhbGlkYXRlU29sclBvcnQnKSA/IGNvbW1hbmRMaW5lWyd2YWxpZGF0ZVNvbHJQb3J0J10gOiA4OTgzOwp2YXIgdmFsaWRhdGVTb2xyVXBkYXRlUGF0aCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJVcGRhdGVQYXRoJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyVXBkYXRlUGF0aCddIDogIi9zb2xyL3ZhbGlkYXRlL3VwZGF0ZSI7CnZhciB2YWxpZGF0ZVNvbHJUeXBlRmllbGQgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndmFsaWRhdGVTb2xyVHlwZUZpZWxkJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyVHlwZUZpZWxkJ10gOiAiY29udGVudHR5cGUiOwp2YXIgdmFsaWRhdGVTb2xyVHlwZSA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJUeXBlJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyVHlwZSddIDogIk1FTU9SWVVQREFURSI7Cgp2YXIgY3Vyc29yTWFyayA9ICIqIjsKCnZhciBqbXhDbGllbnQgPSBmYWxzZTsKCmlmKCBqbXhJbmZvUG9ydCA+IDAgKXsKCWxldCBjbGllbnQgPSBqbXguY3JlYXRlQ2xpZW50KHsKCSAgaG9zdDogZGVzdGluYXRpb25Tb2xySG9zdCwgLy8gb3B0aW9uYWwKCSAgcG9ydDogam14SW5mb1BvcnQKCX0pOwoJIAoJY2xpZW50LmNvbm5lY3QoKTsKCWNsaWVudC5vbigiY29ubmVjdCIsIGZ1bmN0aW9uKCkgewogCQlqbXhDbGllbnQgPSBjbGllbnQ7CiAJIAljb25zb2xlLmxvZygiSk1YIiwiUkVBRFkiKTsKCX0pOwp9CgpmdW5jdGlvbiBnZXRKTVhTdGF0cyhqbXhDbGllbnQsdGVzdE5hbWUsd2hpY2gsY2FsbGJhY2spewogIGxldCByZXN1bHQgPSB7dGVzdG5hbWU6IHRlc3ROYW1lfTsKICAgIHJlc3VsdFt2YWxpZGF0ZVNvbHJUeXBlRmllbGRdID0gdmFsaWRhdGVTb2xyVHlwZTsKICAgIAogICAgaWYoIGpteENsaWVudCApewogICAgam14Q2xpZW50LmdldEF0dHJpYnV0ZSgiamF2YS5sYW5nOnR5cGU9R2FyYmFnZUNvbGxlY3RvcixuYW1lPUcxIFlvdW5nIEdlbmVyYXRpb24iLCAiQ29sbGVjdGlvbkNvdW50IiwgZnVuY3Rpb24oZGF0YSkgewogICAgICAvL2NvbnNvbGUubG9nKCJNaW5vciBDb2xsZWN0aW9uQ291bnQiLGRhdGEudG9TdHJpbmcoKSk7CiAgICAgIHRoaXMucmVzdWx0Lm1pbm9yY29sbGVjdGlvbmNvdW50X3MgPSBkYXRhLnRvU3RyaW5nKCk7CiAgICAgIC8vY2FsbGJhY2socmVzdWx0KTsKICAgICAgam14Q2xpZW50LmdldEF0dHJpYnV0ZSgiamF2YS5sYW5nOnR5cGU9R2FyYmFnZUNvbGxlY3RvcixuYW1lPUcxIFlvdW5nIEdlbmVyYXRpb24iLCAiQ29sbGVjdGlvblRpbWUiLCBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCJNaW5vciBDb2xsZWN0aW9uVGltZSIsZGF0YS50b1N0cmluZygpKTsKICAgICAgICAgIHRoaXMucmVzdWx0Lm1pbm9yY29sbGVjdGlvbnRpbWVfcyA9IGRhdGEudG9TdHJpbmcoKTsKICAgICAgICAgIC8vY2FsbGJhY2socmVzdWx0KTsKICAgICAgICAgIGpteENsaWVudC5nZXRBdHRyaWJ1dGUoImphdmEubGFuZzp0eXBlPUdhcmJhZ2VDb2xsZWN0b3IsbmFtZT1HMSBPbGQgR2VuZXJhdGlvbiIsICJDb2xsZWN0aW9uQ291bnQiLCBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgIC8vY29uc29sZS5sb2coIk1ham9yIENvbGxlY3Rpb25Db3VudCIsZGF0YS50b1N0cmluZygpKTsKICAgICAgICAgICAgdGhpcy5yZXN1bHQubWFqb3Jjb2xsZWN0aW9uY291bnRfcyA9IGRhdGEudG9TdHJpbmcoKTsKICAgICAgICAgICAgLy9jYWxsYmFjayhyZXN1bHQpOwogICAgICAgICAgICBqbXhDbGllbnQuZ2V0QXR0cmlidXRlKCJqYXZhLmxhbmc6dHlwZT1HYXJiYWdlQ29sbGVjdG9yLG5hbWU9RzEgT2xkIEdlbmVyYXRpb24iLCAiQ29sbGVjdGlvblRpbWUiLCBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygiTWFqb3IgQ29sbGVjdGlvblRpbWUiLGRhdGEudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgdGhpcy5yZXN1bHQubWFqb3Jjb2xsZWN0aW9udGltZV9zID0gZGF0YS50b1N0cmluZygpOwoKICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCJKTVhSRVNVTFQiLHRoaXMucmVzdWx0KTsKICAgICAgICAgICAgICAvL2NhbGxiYWNrKHRoaXMucmVzdWx0KTsKICAgICAgICAgICAgICBqbXhDbGllbnQuZ2V0QXR0cmlidXRlKCJqYXZhLmxhbmc6dHlwZT1NZW1vcnlQb29sLG5hbWU9RzEgRWRlbiBTcGFjZSIsICJVc2FnZSIsIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgICAgIGxldCB1c2VkID0gZGF0YS5nZXRTeW5jKCd1c2VkJyk7CiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5lZGVudXNhZ2VfcyA9IHVzZWQubG9uZ1ZhbHVlOwoKICAgICAgICAgICAgICAgIGpteENsaWVudC5nZXRBdHRyaWJ1dGUoImphdmEubGFuZzp0eXBlPU1lbW9yeVBvb2wsbmFtZT1HMSBPbGQgR2VuIiwgIlVzYWdlIiwgZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICAgICAgICBsZXQgdXNlZCA9IGRhdGEuZ2V0U3luYygndXNlZCcpOwogICAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5vbGRnZW51c2FnZV9zID0gdXNlZC5sb25nVmFsdWU7CgogICAgICAgICAgICAgICAgICBjYWxsYmFjayh0aGlzLnJlc3VsdCk7CiAgICAgICAgICAgICAgICB9LmJpbmQoe3Jlc3VsdDogdGhpcy5yZXN1bHR9KSk7CiAgICAgICAgICAgICAgfS5iaW5kKHtyZXN1bHQ6IHRoaXMucmVzdWx0fSkpOwogICAgICAgICAgICB9LmJpbmQoe3Jlc3VsdDogdGhpcy5yZXN1bHR9KSk7CiAgICAgICAgICB9LmJpbmQoe3Jlc3VsdDogdGhpcy5yZXN1bHR9KSk7CiAgICAgICAgfS5iaW5kKHtyZXN1bHQ6IHRoaXMucmVzdWx0fSkpOwogICAgfS5iaW5kKHtyZXN1bHQ6IHJlc3VsdH0pKTsgIAogIH0KCiAgcmV0dXJuKCByZXN1bHQgKTsKfQoKZnVuY3Rpb24gcXVlcnlDYWxsYmFjayhyZXMpIHsKICBsZXQgc3RyID0gIiI7CiAgCQkKICByZXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsKICAgICAgICAgICAgICBzdHIgKz0gY2h1bms7CiAgICAgICAgICAgICAgCiAgICAgICAgfSk7CgogIHJlcy5vbignZW5kJywgZnVuY3Rpb24gKCkgewogICAgICAgIC8vY29uc29sZS5sb2cocmVzLmZpZWxkKTsKCQkvL2NvbnNvbGUubG9nKHN0cik7CgkJCgkJbGV0IGRhdGEgPSBKU09OLnBhcnNlKHN0cik7CgkJCgkJaWYoIGRhdGEucmVzcG9uc2UgJiYgZGF0YS5yZXNwb25zZS5kb2NzICl7CgkJCWZvcihsZXQgZCBpbiBkYXRhLnJlc3BvbnNlLmRvY3MpewoJCQkJbGV0IGRvYyA9IGRhdGEucmVzcG9uc2UuZG9jc1tkXTsKCQkJCWZvciggbGV0IHAgaW4gZG9jKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kb2NbIlByU3RhdHVzIl0gPSA0OwoJCQkJCWlmKCBkb2MuaGFzT3duUHJvcGVydHkocCkgKXsKCQkJCQkJaWYoIHAgPT09ICdfdmVyc2lvbl8nIHx8IHAgPT09ICdzY29yZScgKXsKCQkJCQkJCQoJCQkJCQkJZGVsZXRlIGRvY1twXTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJCQoJCQl9CgkJCQoJCQljb3B5RG9jdW1lbnRzKGRhdGEucmVzcG9uc2UuZG9jcyxkYXRhKTsKCQl9CgkJLy9jb25zb2xlLmxvZyhkYXRhKTsKCQlpZiggIWRvU3luY0xvYWQgKXsKCQkJaWYoIGRhdGEubmV4dEN1cnNvck1hcmsgKXsKCQkJCWlmKCBjdXJzb3JNYXJrICE9IGRhdGEubmV4dEN1cnNvck1hcmsgKXsJCgkJCQkJY3Vyc29yTWFyayA9IGRhdGEubmV4dEN1cnNvck1hcms7CgkJCQkJbG9hZFF1ZXJ5QmF0Y2goY3Vyc29yTWFyaykKCQkJCX0KCQkJCWVsc2UgewoJCQkJCWNvbnNvbGUubG9nKCJjb21wbGV0ZSIpOwoJCQkJCWRvQ29tbWl0KCk7CgkJCQl9CgkJCX0KCQl9CiAgfSk7Cn0KCmZ1bmN0aW9uIHN0YXRzVXBkYXRlQ2FsbGJhY2socmVzKSB7CiAgbGV0IHN0ciA9ICIiOwogIGxldCBkYXRhID0gdGhpcy5kYXRhOwogIHJlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewogICAgICAgICAgICAgIHN0ciArPSBjaHVuazsKICAgICAgICAgICAgICAKICAgICAgICB9KTsKCiAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIlNUQVRTVVBEQVRFIixzdHIpOwogIH0pOwp9CgoKZnVuY3Rpb24gc2F2ZVVwZGF0ZVN0YXRzKHJlc3BEYXRhLHF1ZXJ5RGF0YSl7CglsZXQgY2IgPSBmdW5jdGlvbihqbXhEYXRhKXsKCQlsZXQgdENhbGxiYWNrID0gc3RhdHNVcGRhdGVDYWxsYmFjay5iaW5kKHtyZXNwRGF0YTogcmVzcERhdGEsZGF0YTogcXVlcnlEYXRhfSk7CgoJCWpteERhdGEucXRpbWUgPSByZXNwRGF0YS5yZXNwb25zZUhlYWRlci5RVGltZTsKCgkJbGV0IGRvY3MgPSBbIGpteERhdGEgXTsKCQljb25zb2xlLmxvZyhkb2NzKTsKCQlsZXQgdCA9IGh0dHAucmVxdWVzdCh7aG9zdG5hbWU6IHZhbGlkYXRlU29sckhvc3QscG9ydDogdmFsaWRhdGVTb2xyUG9ydCxwYXRoOiB2YWxpZGF0ZVNvbHJVcGRhdGVQYXRoLG1ldGhvZDogJ1BPU1QnLGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfX0sIHRDYWxsYmFjayk7CgkJdC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7Y29uc29sZS5sb2coIkdvdCBlcnJvcjogIiArIGUubWVzc2FnZSk7fSk7CgkJdC53cml0ZShKU09OLnN0cmluZ2lmeShkb2NzKSk7CgkJdC5lbmQoKTsKCX07CgoJZ2V0Sk1YU3RhdHMoam14Q2xpZW50LHRlc3ROYW1lLCJBTEwiLGNiKTsKfQoKZnVuY3Rpb24gdXBkYXRlQ2FsbGJhY2socmVzKSB7CiAgbGV0IHN0ciA9ICIiOwogIGxldCBkYXRhID0gdGhpcy5kYXRhOwogIHJlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewogICAgICAgICAgICAgIHN0ciArPSBjaHVuazsKICAgICAgICAgICAgICAKICAgICAgICB9KTsKCiAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIlVQREFURSIsc3RyKTsKICAgICAgICBsZXQgcmVzcERhdGEgPSBKU09OLnBhcnNlKHN0cik7CiAgICAgICAgc2F2ZVVwZGF0ZVN0YXRzKHJlc3BEYXRhLGRhdGEpOwoKICAgICAgICBpZiggZG9TeW5jTG9hZCApewogICAgICAgIAlpZiggZGF0YS5uZXh0Q3Vyc29yTWFyayApewoJCQkJaWYoIGN1cnNvck1hcmsgIT0gZGF0YS5uZXh0Q3Vyc29yTWFyayApewkKCQkJCQljdXJzb3JNYXJrID0gZGF0YS5uZXh0Q3Vyc29yTWFyazsKCQkJCQlsb2FkUXVlcnlCYXRjaChjdXJzb3JNYXJrKTsKCQkJCX0KCQkJCWVsc2UgewoJCQkJCWNvbnNvbGUubG9nKCJjb21wbGV0ZSIpOwoJCQkJCWRvQ29tbWl0KCk7CgkJCQl9CgkJCX0KICAgICAgICB9CiAgfSk7Cn0KCmZ1bmN0aW9uIGNvbW1pdENhbGxiYWNrKHJlcykgewogIGxldCBzdHIgPSAiIjsKICByZXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsKICAgICAgICAgICAgICBzdHIgKz0gY2h1bms7CiAgICAgICAgICAgICAgCiAgICAgICAgfSk7CgogIHJlcy5vbignZW5kJywgZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJDT01NSVQiKTsKCQkKCQlyZWxvYWRDb2xsZWN0aW9uKGRlc3RpbmF0aW9uU29sckNvbGxlY3Rpb24sdHJ1ZSk7CgoJCWlmKCBjb21tYW5kTGluZS5jYWxsYmFjayApewoJCQljb21tYW5kTGluZS5jYWxsYmFjaygpOwoJCX0KICB9KTsKfQoKZnVuY3Rpb24gY29weURvY3VtZW50cyhkb2NzLGRhdGEpewoJbGV0IHRDYWxsYmFjayA9IHVwZGF0ZUNhbGxiYWNrLmJpbmQoe2RhdGE6IGRhdGF9KTsKCQljb25zb2xlLmxvZyhkZXN0aW5hdGlvblNvbHJIb3N0LGRlc3RpbmF0aW9uU29sclVwZGF0ZVBhdGgpOwoJbGV0IHQgPSBodHRwLnJlcXVlc3Qoe2hvc3RuYW1lOiBkZXN0aW5hdGlvblNvbHJIb3N0LHBvcnQ6IGRlc3RpbmF0aW9uU29sclBvcnQscGF0aDogZGVzdGluYXRpb25Tb2xyVXBkYXRlUGF0aCxtZXRob2Q6ICdQT1NUJyxoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ319LCB0Q2FsbGJhY2spOwoJdC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7Y29uc29sZS5sb2coIkdvdCBlcnJvcjogIiArIGUubWVzc2FnZSk7fSk7Cgl0LndyaXRlKEpTT04uc3RyaW5naWZ5KGRvY3MpKTsKCXQuZW5kKCk7Cn0KCmZ1bmN0aW9uIGxvYWRRdWVyeUJhdGNoKGN1cnNvck1hcmspewoJaWYoIGxvYWREYXRhICl7CgkJY29uc29sZS5sb2coIkRPSU5HV09SSyIpOwoJCWxldCB0Q2FsbGJhY2sgPSBxdWVyeUNhbGxiYWNrLmJpbmQoe30pOwoJCQoJCWxldCB0U291cmNlU29sclBhdGggPSBzb3VyY2VTb2xyUGF0aCArICImY3Vyc29yTWFyaz0iICsgY3Vyc29yTWFyazsKCQlsZXQgdCA9IGh0dHAucmVxdWVzdCh7aG9zdG5hbWU6IHNvdXJjZVNvbHJIb3N0LHBvcnQ6IHNvdXJjZVNvbHJQb3J0LHBhdGg6IHRTb3VyY2VTb2xyUGF0aCxtZXRob2Q6ICdHRVQnLGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfX0sIHRDYWxsYmFjayk7CgkJdC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7Y29uc29sZS5sb2coIkdvdCBlcnJvcjogIiArIGUubWVzc2FnZSk7fSk7CgkJdC5lbmQoKTsKCX0KCWVsc2UgewoJCWNvbnNvbGUubG9nKCJOT1RET0lOR1dPUksiKTsKCX0KfQoKZnVuY3Rpb24gZG9Db21taXQoKXsKCWxldCB0Q2FsbGJhY2sgPSBjb21taXRDYWxsYmFjay5iaW5kKHt9KTsKCWxldCB0ID0gaHR0cC5nZXQoe2hvc3Q6IGRlc3RpbmF0aW9uU29sckhvc3QscG9ydDogZGVzdGluYXRpb25Tb2xyUG9ydCxwYXRoOiBkZXN0aW5hdGlvblNvbHJVcGRhdGVQYXRoICsgIj9zdHJlYW0uYm9keT08Y29tbWl0Lz4ifSwgdENhbGxiYWNrKTsKfQoKZnVuY3Rpb24gcmVsb2FkQ29sbGVjdGlvbkNhbGxiYWNrKHJlcykgewogIGxldCBzdHIgPSAiIjsKICBsZXQgY29sbGVjdGlvbiA9IHRoaXMuY29sbGVjdGlvbjsKICBsZXQgZG9Ob3RoaW5nID0gdGhpcy5kb05vdGhpbmc7CiAgCiAgcmVzLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7CiAgICAgICAgICAgICAgc3RyICs9IGNodW5rOwogICAgICAgICAgICAgIAogICAgICAgIH0pOwoKICByZXMub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygiUkVMT0FEQ09MTEVDVElPTiIpOwoJCWlmKCAhZG9Ob3RoaW5nICkKCQkJbG9hZFF1ZXJ5QmF0Y2goY3Vyc29yTWFyayk7CgkJCQogIH0pOwp9CgoKZnVuY3Rpb24gcmVsb2FkQ29sbGVjdGlvbihjb2xsZWN0aW9uTmFtZSxkb05vdGhpbmcpewoJbGV0IHRDYWxsYmFjayA9IHJlbG9hZENvbGxlY3Rpb25DYWxsYmFjay5iaW5kKHtjb2xsZWN0aW9uOiBjb2xsZWN0aW9uTmFtZSxkb05vdGhpbmc6IGRvTm90aGluZ30pOwoJbGV0IHRTb2xyUGF0aCA9ICIvc29sci9hZG1pbi9jb2xsZWN0aW9ucz9fPTE1NzIyNzkyMzI2NTYmYWN0aW9uPVJFTE9BRCZuYW1lPSIgKyBjb2xsZWN0aW9uTmFtZSArICImd3Q9anNvbiI7CgkKCWxldCB0ID0gaHR0cC5nZXQoe2hvc3Q6IGRlc3RpbmF0aW9uU29sckhvc3QscG9ydDogZGVzdGluYXRpb25Tb2xyUG9ydCxjb2xsZWN0aW9uOiBjb2xsZWN0aW9uTmFtZSxwYXRoOiB0U29sclBhdGh9LCB0Q2FsbGJhY2spOwp9CgoKZnVuY3Rpb24gY29weUZpZWxkc0NhbGxiYWNrKHJlcykgewogIGxldCBzdHIgPSAiIjsKICBsZXQgY29sbGVjdGlvbiA9IHRoaXMuY29sbGVjdGlvbjsKICAKICByZXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsKICAgICAgICAgICAgICBzdHIgKz0gY2h1bms7CiAgICAgICAgICAgICAgCiAgICAgICAgfSk7CgogIHJlcy5vbignZW5kJywgZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJDT1BZRklFTERTIik7CgkJbGV0IHJlc3AgPSBKU09OLnBhcnNlKHN0cik7CgkJCgkJaWYoIHJlc3AuZmllbGRzICl7CgkJCWZpZWxkTGlzdCA9IHJlc3AuZmllbGRzOwoJCQlmb3IobGV0IGkgaW4gcmVzcC5maWVsZHMpewoJCQkJbGV0IHRGaWVsZCA9IHJlc3AuZmllbGRzW2ldOwoJCQkJY29weUZpZWxkVG9EZXN0aW5hdGlvbihjb2xsZWN0aW9uLHRGaWVsZCk7CgkJCX0KCQl9CgkJZWxzZSB7CgkJCWNvbnNvbGUubG9nKCJOT0ZJRUxEUyIscmVzcCk7CgkJfQoJCQogIH0pOwp9Cgp2YXIgZmllbGRMaXN0Q291bnRlciA9IDA7CnZhciBmaWVsZExpc3QgPSBmYWxzZTsKZnVuY3Rpb24gY29weUZpZWxkcyhjb2xsZWN0aW9uTmFtZSl7Cgljb25zb2xlLmxvZygiTE9BRElOR0ZJRUxEUyIsY29sbGVjdGlvbk5hbWUpOwoJbGV0IHRDYWxsYmFjayA9IGNvcHlGaWVsZHNDYWxsYmFjay5iaW5kKHtjb2xsZWN0aW9uOiBjb2xsZWN0aW9uTmFtZX0pOwoJbGV0IHQgPSBodHRwLmdldCh7aG9zdDogc291cmNlU29sckhvc3QscG9ydDogc291cmNlU29sclBvcnQsY29sbGVjdGlvbjogZGVzdGluYXRpb25Tb2xyQ29sbGVjdGlvbixwYXRoOiAiL3NvbHIvIiArIHNvdXJjZVNvbHJDb2xsZWN0aW9uICsgIi9zY2hlbWEvZmllbGRzP3d0PWpzb24ifSwgdENhbGxiYWNrKTsKfQoKZnVuY3Rpb24gY29weUZpZWxkVG9EZXN0aW5hdGlvbkNhbGxiYWNrKHJlcykgewogIGxldCBzdHIgPSAiIjsKICBsZXQgY29sbGVjdGlvbiA9IHRoaXMuY29sbGVjdGlvbjsKICByZXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsKICAgICAgICAgICAgICBzdHIgKz0gY2h1bms7CiAgICAgICAgICAgICAgCiAgICAgICAgfSk7CgogIHJlcy5vbignZW5kJywgZnVuY3Rpb24gKCkgewogICAgICAgIAoJCWZpZWxkTGlzdENvdW50ZXIrKzsKCQkKCQlpZiggZmllbGRMaXN0Q291bnRlciA9PSBmaWVsZExpc3QubGVuZ3RoICl7CgkJCWNvbnNvbGUubG9nKCJBRERMQVNURklFTEQiLHN0cik7CgkJCXJlbG9hZENvbGxlY3Rpb24oY29sbGVjdGlvbik7CgkJfQoJCWVsc2UgewoJCQljb25zb2xlLmxvZygiQURERklFTEQiLHN0cik7CgkJfQoJCQogIH0pOwp9CgpmdW5jdGlvbiBjb3B5RmllbGRUb0Rlc3RpbmF0aW9uKGNvbGxlY3Rpb25OYW1lLHBheWxvYWQpewoJbGV0IHRDYWxsYmFjayA9IGNvcHlGaWVsZFRvRGVzdGluYXRpb25DYWxsYmFjay5iaW5kKHtjb2xsZWN0aW9uOiBjb2xsZWN0aW9uTmFtZSxmaWVsZDogcGF5bG9hZH0pOwoJbGV0IHREZXN0aW5hdGlvblNvbHJQYXRoID0gIi9zb2xyLyIgKyBjb2xsZWN0aW9uTmFtZSArICIvc2NoZW1hIjsKCWxldCB0ID0gaHR0cC5yZXF1ZXN0KHtob3N0bmFtZTogZGVzdGluYXRpb25Tb2xySG9zdCxwb3J0OiBkZXN0aW5hdGlvblNvbHJQb3J0LHBhdGg6IHREZXN0aW5hdGlvblNvbHJQYXRoLG1ldGhvZDogJ1BPU1QnLGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfX0sIHRDYWxsYmFjayk7Cgl0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHtjb25zb2xlLmxvZygiR290IGVycm9yOiAiICsgZS5tZXNzYWdlKTt9KTsKCXQud3JpdGUoSlNPTi5zdHJpbmdpZnkoeyJhZGQtZmllbGQiOiBwYXlsb2FkIH0pKTsKCXQuZW5kKCk7Cn0KCmZ1bmN0aW9uIGNvcHlGaWVsZFR5cGVUb0Rlc3RpbmF0aW9uQ2FsbGJhY2socmVzKSB7CiAgbGV0IHN0ciA9ICIiOwogIGxldCBjb2xsZWN0aW9uID0gdGhpcy5jb2xsZWN0aW9uOwogIAogIHJlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewogICAgICAgICAgICAgIHN0ciArPSBjaHVuazsKICAgICAgICAgICAgICAKICAgICAgICB9KTsKCiAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZmllbGRUeXBlTGlzdENvdW50ZXIrKzsKCQkKCQlpZiggZmllbGRUeXBlTGlzdENvdW50ZXIgPT0gZmllbGRUeXBlTGlzdC5sZW5ndGggKXsKCQkJY29uc29sZS5sb2coIkFERExBU1RGSUVMRFRZUEUiLHN0cik7CgkJCgkJCWNvcHlGaWVsZHMoY29sbGVjdGlvbik7CgkJfQoJCWVsc2UgewoJCQljb25zb2xlLmxvZygiQURERklFTERUWVBFIixzdHIpOwoJCX0KICB9KTsKfQoKZnVuY3Rpb24gY29weUZpZWxkVHlwZVRvRGVzdGluYXRpb24oY29sbGVjdGlvbk5hbWUscGF5bG9hZCl7CglsZXQgdENhbGxiYWNrID0gY29weUZpZWxkVHlwZVRvRGVzdGluYXRpb25DYWxsYmFjay5iaW5kKHtjb2xsZWN0aW9uOiBjb2xsZWN0aW9uTmFtZSxmaWVsZFR5cGU6IHBheWxvYWR9KTsKCWxldCB0RGVzdGluYXRpb25Tb2xyUGF0aCA9ICIvc29sci8iICsgY29sbGVjdGlvbk5hbWUgKyAiL3NjaGVtYSI7CglsZXQgdCA9IGh0dHAucmVxdWVzdCh7aG9zdG5hbWU6IGRlc3RpbmF0aW9uU29sckhvc3QscG9ydDogZGVzdGluYXRpb25Tb2xyUG9ydCxwYXRoOiB0RGVzdGluYXRpb25Tb2xyUGF0aCxtZXRob2Q6ICdQT1NUJyxoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ319LCB0Q2FsbGJhY2spOwoJdC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7Y29uc29sZS5sb2coIkdvdCBlcnJvcjogIiArIGUubWVzc2FnZSk7fSk7Cgl0LndyaXRlKEpTT04uc3RyaW5naWZ5KHsiYWRkLWZpZWxkLXR5cGUiOiBwYXlsb2FkIH0pKTsKCXQuZW5kKCk7Cn0KCnZhciBmaWVsZFR5cGVMaXN0Q291bnRlciA9IDA7CnZhciBmaWVsZFR5cGVMaXN0ID0gZmFsc2U7CmZ1bmN0aW9uIGNvcHlGaWVsZFR5cGVzQ2FsbGJhY2socmVzKSB7CiAgbGV0IHN0ciA9ICIiOwogIGxldCBjb2xsZWN0aW9uID0gdGhpcy5jb2xsZWN0aW9uOwogIAogIHJlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewogICAgICAgICAgICAgIHN0ciArPSBjaHVuazsKICAgICAgICAgICAgICAKICAgICAgICB9KTsKCiAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIkNPUFlGSUVMRFRZUEVTIik7CgkJbGV0IHJlc3AgPSBKU09OLnBhcnNlKHN0cik7CgkJCgkJaWYoIHJlc3AuZmllbGRUeXBlcyApewoJCQlmaWVsZFR5cGVMaXN0ID0gcmVzcC5maWVsZFR5cGVzOwoJCQlmb3IobGV0IGkgaW4gcmVzcC5maWVsZFR5cGVzKXsKCQkJCWxldCB0RmllbGRUeXBlID0gcmVzcC5maWVsZFR5cGVzW2ldOwoJCQkJY29weUZpZWxkVHlwZVRvRGVzdGluYXRpb24oY29sbGVjdGlvbix0RmllbGRUeXBlKTsKCQkJfQoJCX0KCQllbHNlIHsKCQkJY29uc29sZS5sb2coIk5PRklFTERUWVBFUyIsc3RyKTsKCQl9CiAgfSk7Cn0KCmZ1bmN0aW9uIGNvcHlGaWVsZFR5cGVzKGNvbGxlY3Rpb25OYW1lKXsKCWxldCB0Q2FsbGJhY2sgPSBjb3B5RmllbGRUeXBlc0NhbGxiYWNrLmJpbmQoe2NvbGxlY3Rpb246IGNvbGxlY3Rpb25OYW1lfSk7CglsZXQgdCA9IGh0dHAuZ2V0KHtob3N0OiBzb3VyY2VTb2xySG9zdCxwb3J0OiBzb3VyY2VTb2xyUG9ydCxjb2xsZWN0aW9uOiBkZXN0aW5hdGlvblNvbHJDb2xsZWN0aW9uLHBhdGg6ICIvc29sci8iICsgc291cmNlU29sckNvbGxlY3Rpb24gKyAiL3NjaGVtYS9maWVsZHR5cGVzP3d0PWpzb24ifSwgdENhbGxiYWNrKTsKfQoKZnVuY3Rpb24gYnVpbGRDb2xsZWN0aW9uQ2FsbGJhY2socmVzKSB7CiAgbGV0IHN0ciA9ICIiOwogIGxldCBjb2xsZWN0aW9uID0gdGhpcy5jb2xsZWN0aW9uOwogIAogIHJlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewogICAgICAgICAgICAgIHN0ciArPSBjaHVuazsKICAgICAgICAgICAgICAKICAgICAgICB9KTsKCiAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIkJVSUxEQ09MTEVDVElPTiIsc3RyKTsKCQkKCQlpZiggZGVzdGluYXRpb25Tb2xyQ29uZmlnU2V0ICl7CgkJCWxvYWRRdWVyeUJhdGNoKGN1cnNvck1hcmspOwoJCX0KCQllbHNlIHsKCQkJY29weUZpZWxkVHlwZXMoY29sbGVjdGlvbik7CgkJfQogIH0pOwp9CgpmdW5jdGlvbiBidWlsZENvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWUpewoJbGV0IHRDYWxsYmFjayA9IGJ1aWxkQ29sbGVjdGlvbkNhbGxiYWNrLmJpbmQoe2NvbGxlY3Rpb246IGNvbGxlY3Rpb25OYW1lfSk7CgkKCWxldCB0U29sclBhdGggPSAiL3NvbHIvYWRtaW4vY29sbGVjdGlvbnM/Xz0xNTcyMjc5MjMyNjU2JmFjdGlvbj1DUkVBVEUmYXV0b0FkZFJlcGxpY2FzPWZhbHNlJm1heFNoYXJkc1Blck5vZGU9MSZuYW1lPSIgKyBjb2xsZWN0aW9uTmFtZSArICImbnVtU2hhcmRzPTEmcmVwbGljYXRpb25GYWN0b3I9MSZyb3V0ZXIubmFtZT1jb21wb3NpdGVJZCZ3dD1qc29uIjsKCQoJaWYoIGRlc3RpbmF0aW9uU29sckNvbmZpZ1NldCApewoJCXRTb2xyUGF0aCArPSAiJmNvbGxlY3Rpb24uY29uZmlnTmFtZT0iICsgZGVzdGluYXRpb25Tb2xyQ29uZmlnU2V0OwoJfQoJCglsZXQgdCA9IGh0dHAuZ2V0KHtob3N0OiBkZXN0aW5hdGlvblNvbHJIb3N0LHBvcnQ6IGRlc3RpbmF0aW9uU29sclBvcnQsY29sbGVjdGlvbjogZGVzdGluYXRpb25Tb2xyQ29sbGVjdGlvbixwYXRoOiB0U29sclBhdGh9LCB0Q2FsbGJhY2spOwp9CgoKZnVuY3Rpb24gZGVzdGluYXRpb25DaGVja0NhbGxiYWNrKHJlcykgewogIGxldCBzdHIgPSAiIjsKICBsZXQgY29sbGVjdGlvbiA9IHRoaXMuY29sbGVjdGlvbjsKICAKICByZXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsKICAgICAgICAgICAgICBzdHIgKz0gY2h1bms7CiAgICAgICAgICAgICAgCiAgICAgICAgfSk7CgogIHJlcy5vbignZW5kJywgZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJDTFVTVEVSU1RBVFVTIik7CgkJbGV0IGNsdXN0ZXJTdGF0dXMgPSBKU09OLnBhcnNlKHN0cik7CgkJCgkJaWYoIGNsdXN0ZXJTdGF0dXMuY2x1c3RlciAgJiYgY2x1c3RlclN0YXR1cy5jbHVzdGVyLmNvbGxlY3Rpb25zICYmIGNsdXN0ZXJTdGF0dXMuY2x1c3Rlci5jb2xsZWN0aW9uc1tjb2xsZWN0aW9uXSApewoJCQlsb2FkUXVlcnlCYXRjaChjdXJzb3JNYXJrKTsKCQl9CgkJZWxzZSB7CgkJCS8vY3JlYXRlIGNvbGxlY3Rpb24KCQkJY29uc29sZS5sb2coIk5PIERFU1RJTkFUSU9OIixjb2xsZWN0aW9uKTsKCQkJYnVpbGRDb2xsZWN0aW9uKGNvbGxlY3Rpb24pOwoJCX0KICB9KTsKfQoKCgoKZnVuY3Rpb24gY2hlY2tEZXN0aW5hdGlvbigpewoJaWYoICFjb21tYW5kTGluZS5kaXNhYmxlZCApewoJCWxldCB0Q2FsbGJhY2sgPSBkZXN0aW5hdGlvbkNoZWNrQ2FsbGJhY2suYmluZCh7Y29sbGVjdGlvbjogZGVzdGluYXRpb25Tb2xyQ29sbGVjdGlvbn0pOwoJCWxldCB0ID0gaHR0cC5nZXQoe2hvc3Q6IGRlc3RpbmF0aW9uU29sckhvc3QscG9ydDogZGVzdGluYXRpb25Tb2xyUG9ydCxjb2xsZWN0aW9uOiBkZXN0aW5hdGlvblNvbHJDb2xsZWN0aW9uLHBhdGg6ICIvc29sci9hZG1pbi9jb2xsZWN0aW9ucz9hY3Rpb249Q0xVU1RFUlNUQVRVUyZ3dD1qc29uIn0sIHRDYWxsYmFjayk7Cgl9CgllbHNlIHsKCQlpZiggY29tbWFuZExpbmUuY2FsbGJhY2sgKXsKCQkJY29uc29sZS5sb2coIkNBTExCQUNLIiwiZG9pbmcgY2FsbGJhY2siKTsKCQkJY29tbWFuZExpbmUuY2FsbGJhY2soKTsKCQl9CgkJZWxzZSB7CgkJCWNvbnNvbGUubG9nKCJDT01QTEVURSIsIm5vIGNhbGxiYWNrIGFuZCBkaXNhYmxlZCIpOwoJCX0KCX0KfQoKCmNoZWNrRGVzdGluYXRpb24oKTsKCgp9CgoKbGV0IHNvdXJjZVNvbHJBID0ge3Rlc3ROYW1lOiBvQ29tbWFuZExpbmUudGVzdE5hbWUgPyBvQ29tbWFuZExpbmUudGVzdE5hbWUgOiJkZW5vcm0iLAoJCQkJCXNvdXJjZVNvbHJIb3N0OiBvQ29tbWFuZExpbmUuc291cmNlU29sckhvc3RBID8gb0NvbW1hbmRMaW5lLnNvdXJjZVNvbHJIb3N0QSA6ImMzLnNvbHJjbG91ZC5zZXJ2aWNlLmludHJhYm8xLmNvbnN1bC5jc256b28uY29tIiwKCQkJCQlzb3VyY2VTb2xyUG9ydDogb0NvbW1hbmRMaW5lLnNvdXJjZVNvbHJQb3J0QSA/IG9Db21tYW5kTGluZS5zb3VyY2VTb2xyUG9ydEEgOiI4MTgwIiwKCQkJCQlzb3VyY2VTb2xyQ29sbGVjdGlvbjogb0NvbW1hbmRMaW5lLnNvdXJjZVNvbHJDb2xsZWN0aW9uQSA/IG9Db21tYW5kTGluZS5zb3VyY2VTb2xyQ29sbGVjdGlvbkEgOiJkZW5vcm1fdXMiLAoJCQkJCXNvdXJjZVNvbHJJZEZpZWxkOiBvQ29tbWFuZExpbmUuc291cmNlU29scklkRmllbGQgPyBvQ29tbWFuZExpbmUuc291cmNlU29scklkRmllbGQgOiJQclNLVU9wdGlvbkNvbWJpbmF0aW9uSUQiLAoJCQkJCWRlc3RpbmF0aW9uU29sckhvc3Q6IG9Db21tYW5kTGluZS5kZXN0aW5hdGlvblNvbHJIb3N0QSA/IG9Db21tYW5kTGluZS5kZXN0aW5hdGlvblNvbHJIb3N0QSA6InNvbHJjbG91ZGMyM24xLmhvc3QuYm8xLmNzbnpvby5jb20iLAoJCQkJCWRlc3RpbmF0aW9uU29sclBvcnQ6IG9Db21tYW5kTGluZS5kZXN0aW5hdGlvblNvbHJQb3J0QSA/IG9Db21tYW5kTGluZS5kZXN0aW5hdGlvblNvbHJQb3J0QSA6IjgxODAiLAoJCQkJCWRlc3RpbmF0aW9uU29sckNvbGxlY3Rpb246IG9Db21tYW5kTGluZS5kZXN0aW5hdGlvblNvbHJDb2xsZWN0aW9uQSA/IG9Db21tYW5kTGluZS5kZXN0aW5hdGlvblNvbHJDb2xsZWN0aW9uQSA6ICJkZW5vcm1fdXNfYmVmb3JlIiwKCQkJCQlkaXNhYmxlZDogdHJ1ZSwKCQkJCQlqbXhJbmZvUG9ydDogMTgxODAsCiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVTb2xyVHlwZTogIk1FTU9SWVVQREFURUJFRk9SRSJ9OwoKZm9yKGxldCBhIGluIG9Db21tYW5kTGluZSl7Cglzb3VyY2VTb2xyQVthXSA9IG9Db21tYW5kTGluZVthXTsKfQoKbGV0IGNhbGxiYWNrID0gZnVuY3Rpb24oKXsKCWNvbnNvbGUubG9nKCJjb21wbGV0ZWQgZnJvbSBzdGFydGluZyBhZnRlciIpOwogICAgbGV0IG9Db21tYW5kTGluZSA9IHRoaXMub0NvbW1hbmRMaW5lOwoKCWxldCBzb3VyY2VTb2xyQiA9IHt0ZXN0TmFtZTogb0NvbW1hbmRMaW5lLnRlc3ROYW1lID8gb0NvbW1hbmRMaW5lLnRlc3ROYW1lIDoiZGVub3JtIiwKCQkJCQlzb3VyY2VTb2xySG9zdDogb0NvbW1hbmRMaW5lLmRlc3RpbmF0aW9uU29sckhvc3RBID8gb0NvbW1hbmRMaW5lLmRlc3RpbmF0aW9uU29sckhvc3RBIDoic29scmNsb3VkYzIzbjEuaG9zdC5ibzEuY3Nuem9vLmNvbSIsCgkJCQkJc291cmNlU29sclBvcnQ6IG9Db21tYW5kTGluZS5kZXN0aW5hdGlvblNvbHJQb3J0QSA/IG9Db21tYW5kTGluZS5kZXN0aW5hdGlvblNvbHJQb3J0QSA6IjgxODAiLAoJCQkJCXNvdXJjZVNvbHJDb2xsZWN0aW9uOiBvQ29tbWFuZExpbmUuZGVzdGluYXRpb25Tb2xyQ29sbGVjdGlvbkEgPyBvQ29tbWFuZExpbmUuZGVzdGluYXRpb25Tb2xyQ29sbGVjdGlvbkEgOiJkZW5vcm1fdXNfYmVmb3JlIiwKCQkJCQlzb3VyY2VTb2xySWRGaWVsZDogb0NvbW1hbmRMaW5lLnNvdXJjZVNvbHJJZEZpZWxkID8gb0NvbW1hbmRMaW5lLnNvdXJjZVNvbHJJZEZpZWxkIDoiUHJTS1VPcHRpb25Db21iaW5hdGlvbklEIiwKCQkJCQlkZXN0aW5hdGlvblNvbHJIb3N0OiBvQ29tbWFuZExpbmUuZGVzdGluYXRpb25Tb2xySG9zdEIgPyBvQ29tbWFuZExpbmUuZGVzdGluYXRpb25Tb2xySG9zdEIgOiJzb2xyY2xvdWRjMjNuMi5ob3N0LmJvMS5jc256b28uY29tIiwKCQkJCQlkZXN0aW5hdGlvblNvbHJQb3J0OiBvQ29tbWFuZExpbmUuZGVzdGluYXRpb25Tb2xyUG9ydEIgPyBvQ29tbWFuZExpbmUuZGVzdGluYXRpb25Tb2xyUG9ydEIgOiI4MTgwIiwKCQkJCQlkZXN0aW5hdGlvblNvbHJDb2xsZWN0aW9uOiBvQ29tbWFuZExpbmUuZGVzdGluYXRpb25Tb2xyQ29sbGVjdGlvbkIgPyBvQ29tbWFuZExpbmUuZGVzdGluYXRpb25Tb2xyQ29sbGVjdGlvbkIgOiJkZW5vcm1fdXNfYWZ0ZXIiLAogICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlU29sclR5cGU6ICJNRU1PUllVUERBVEVBRlRFUiJ9OwoJCglmb3IobGV0IGEgaW4gb0NvbW1hbmRMaW5lKXsKCQlzb3VyY2VTb2xyQlthXSA9IG9Db21tYW5kTGluZVthXTsKCX0KCgljbG9uZUNvbGxlY3Rpb24oc291cmNlU29sckIpOwoKfS5iaW5kKHtvQ29tbWFuZExpbmU6IG9Db21tYW5kTGluZX0pOwoKc291cmNlU29sckEuY2FsbGJhY2sgPSBjYWxsYmFjazsKCmNsb25lQ29sbGVjdGlvbihzb3VyY2VTb2xyQSk7CgoKCn0=",
        "_version_":1778036383759204352},
      {
        "assetname":"summaryExportScript",
        "assettype":"script",
        "assetnotes":"",
        "assetscript_s":"",
        "id":"ASSET1695081264116",
        "contenttype":"ASSET",
        "crawldate":"2023-09-26T17:28:17.931Z",
        "assetscript":"ZnVuY3Rpb24oY29tbWFuZExpbmUpewogICAgY29uc3QgYmF0Y2hTaXplID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ2JhdGNoU2l6ZScpID8gY29tbWFuZExpbmVbJ2JhdGNoU2l6ZSddIDogMTA7CiAgICBjb25zdCB0ZXN0TmFtZSA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd0ZXN0TmFtZScpID8gY29tbWFuZExpbmVbJ3Rlc3ROYW1lJ10gOiAnZGVmYXVsdCc7CiAgICAKICAgIGNvbnN0IHZhbGlkYXRlU29sckhvc3QgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndmFsaWRhdGVTb2xySG9zdCcpID8gY29tbWFuZExpbmVbJ3ZhbGlkYXRlU29sckhvc3QnXSA6IENPTlRFWFQuU09MUkhPU1Q7CiAgICBjb25zdCB2YWxpZGF0ZVNvbHJQb3J0ID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3ZhbGlkYXRlU29sclBvcnQnKSA/IGNvbW1hbmRMaW5lWyd2YWxpZGF0ZVNvbHJQb3J0J10gOiBDT05URVhULlNPTFJQT1JUOwogICAgY29uc3QgdmFsaWRhdGVTb2xyQ29sbGVjdGlvbiA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJDb2xsZWN0aW9uJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyQ29sbGVjdGlvbiddIDogQ09OVEVYVC5TT0xSQ09MTEVDVElPTjsKICAgIGNvbnN0IHZhbGlkYXRlU29sclBhdGggPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndmFsaWRhdGVTb2xyUGF0aCcpID8gY29tbWFuZExpbmVbJ3ZhbGlkYXRlU29sclBhdGgnXSA6ICIvYXBpL3NvbHIvIiArIHZhbGlkYXRlU29sckNvbGxlY3Rpb24gKyAiL3NlbGVjdD9xPShjb250ZW50dHlwZTpTVU1NQVJZK0FORCt0ZXN0bmFtZToiICsgdGVzdE5hbWUgKyAiKSZ3dD1qc29uJnNvcnQ9aWQrZGVzYyZyb3dzPSIgKyBiYXRjaFNpemU7CiAgICBjb25zdCB2YWxpZGF0ZVNvbHJUeXBlRmllbGQgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndmFsaWRhdGVTb2xyVHlwZUZpZWxkJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyVHlwZUZpZWxkJ10gOiAiY29udGVudHR5cGUiOwogICAgY29uc3QgdmFsaWRhdGVTb2xyVHlwZSA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJUeXBlJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyVHlwZSddIDogIlNVTU1BUlkiOwogICAgCiAgICB2YXIgY3Vyc29yTWFyayA9ICIqIjsKICAgIHZhciBxdWVyeUNvdW50ID0gMDsKICAgIGNvbnN0IExPT1BDVFggPSB7b2Zmc2V0OiAwLGRvY3M6IFtdLHNpemU6IDAsYnVmZmVyOiAicXVlcnksZW52aXJvbm1lbnQsZGVsdGEscm93Y291bnQsZG9jIn07IAogICAgCiAgICBmdW5jdGlvbiBsb29wUmVzdWx0cygpewogICAgICAgIGxldCBjdHggPSB0aGlzLmN0eDsKICAgICAgICBsZXQgaGFzTW9yZSA9IHRoaXMuaGFzTW9yZTsKICAgIAogICAgICAgIGlmKCBjdHgub2Zmc2V0IDwgY3R4LnNpemUgKXsKICAgICAgICAgICAgbGV0IGRvYyA9IGN0eC5kb2NzW2N0eC5vZmZzZXQrK107CiAgICAgICAgICAgIHZhbGlkYXRlUXVlcnkoZG9jLGhhc01vcmUsY3R4KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlmKCBoYXNNb3JlICkKICAgICAgICAgICAgICAgIGxvYWRWYWxpZGF0aW9uRGF0YShjdXJzb3JNYXJrLGN0eCk7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGRvQ29tcGxldGUoY3R4KTsKICAgICAgICB9CiAgICB9CiAgICAgICAgCiAgICAKICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ2FsbGJhY2socmVzKSB7CiAgICAgIGxldCBzdHIgPSAiIjsKICAgICAgbGV0IGN0eCA9IHRoaXMuY3R4OwogICAgICAKICAgICAgcmVzLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7CiAgICAgICAgICAgICAgICAgIHN0ciArPSBjaHVuazsKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwogICAgCiAgICAgIHJlcy5vbignZW5kJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlcy5maWVsZCk7CiAgICAgICAgICAgIC8vY29uc29sZS5sb2coc3RyKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShzdHIpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYoIGRhdGEucmVzcG9uc2UgJiYgZGF0YS5yZXNwb25zZS5kb2NzICl7CiAgICAgICAgICAgICAgICAgICAgcXVlcnlDb3VudCA9IGRhdGEucmVzcG9uc2UuZG9jcy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgY3R4LnNpemUgPSBkYXRhLnJlc3BvbnNlLmRvY3MubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIGN0eC5kb2NzID0gZGF0YS5yZXNwb25zZS5kb2NzOwogICAgICAgICAgICAgICAgICAgIGN0eC5vZmZzZXQgPSAwOwogICAgICAgICAgICAgICAgICAgIGxldCBoYXNNb3JlID0gZGF0YS5uZXh0Q3Vyc29yTWFyayAmJiBjdXJzb3JNYXJrICE9IGRhdGEubmV4dEN1cnNvck1hcmsgJiYgcXVlcnlDb3VudCA9PSBiYXRjaFNpemU7CiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgICAgICAgICBpZiggZGF0YS5uZXh0Q3Vyc29yTWFyayApewogICAgICAgICAgICAgICAgICAgICAgICBpZiggY3Vyc29yTWFyayAhPSBkYXRhLm5leHRDdXJzb3JNYXJrICl7CQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yTWFyayA9IGRhdGEubmV4dEN1cnNvck1hcms7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndzbG9nKCJjb21wbGV0ZSIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgCiAgICAgICAgICAgICAgICBsb29wUmVzdWx0cy5iaW5kKHtjdHgsaGFzTW9yZX0pKCk7CiAgICAgICAgICAgIH0KICAgIAogICAgICB9KTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcm93Q2FsbGJhY2socmVzKSB7CiAgICAgICAgbGV0IHF1ZXJ5RG9jID0gdGhpcy5xdWVyeURvYzsKICAgICAgICBsZXQgaGFzTW9yZSA9IHRoaXMuaGFzTW9yZTsKICAgICAgICBsZXQgY3R4ID0gdGhpcy5jdHg7CiAgICAKICAgICAgICBjb25zb2xlLndzbG9nKHF1ZXJ5RG9jLmlkLCJDQiIpOwogICAgICAgIGNvbnNvbGUud3Nsb2coImNoZWNraW5nIHF1ZXJ5IGNvdW50IixxdWVyeUNvdW50KTsKICAgICAgICBpZiggcXVlcnlDb3VudCA8PSAwICkgewogICAgICAgICAgICBjb25zb2xlLndzbG9nKCJjYWxsIGxvYWQgc3liYyIsaGFzTW9yZSk7CiAgICAgICAgfQogICAgICAgIGxvb3BSZXN1bHRzLmJpbmQoe2N0eCxoYXNNb3JlfSkoKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdmFsaWRhdGVRdWVyeShkb2MsaGFzTW9yZSxjdHgpewogICAgICAgIGxldCB0Q2FsbGJhY2sgPSByb3dDYWxsYmFjay5iaW5kKHtxdWVyeURvYzogZG9jLGhhc01vcmU6IGhhc01vcmUsY3R4fSk7CiAgICAgICAgLy9jb25zb2xlLmxvZyhkb2MpOwogICAgICAgICAgICAgICAgCiAgICAgICAgbGV0IHJvd2NvdW50YmVmb3JlID0gZG9jWyJyb3djb3VudGJlZm9yZSJdOwogICAgICAgIGxldCByb3djb3VudGFmdGVyID0gZG9jWyJyb3djb3VudGFmdGVyIl07CiAgICAgICAgbGV0IHF0aW1lYiA9IGRvY1sicXRpbWViIl07CiAgICAgICAgbGV0IHF0aW1lYSA9IGRvY1sicXRpbWVhIl07CiAgICAgICAgbGV0IHF0aW1lID0gZG9jWyJxdGltZSJdOwogICAgICAgIGxldCByb3djb3VudGIgPSBkb2NbInJvd2NvdW50YiJdOwogICAgICAgIGxldCByb3djb3VudGEgPSBkb2NbInJvd2NvdW50YSJdOwogICAgICAgIGxldCByb3djb3VudCA9IGRvY1sicm93Y291bnQiXTsKICAgICAgICBsZXQgbWF0Y2hzY29yZSA9IGRvY1sibWF0Y2hzY29yZSJdOwogICAgICAgIGxldCBtYXRjaHNjb3JlbGlzdCA9IGRvY1sibWF0Y2hzY29yZWxpc3QiXTsKICAgICAgICBsZXQgZGlmZmVyZW5jZXNjb3JlID0gZG9jWyJkaWZmZXJlbmNlc2NvcmUiXTsKICAgICAgICBsZXQgY291bnRzY29yZSA9IGRvY1siY291bnRzY29yZSJdOwoKICAgICAgICBpZiggY3R4Lm9mZnNldCA+IDAgKQogICAgICAgICAgICBjdHguYnVmZmVyICs9ICJcbiI7CiAgICAgICAgbGV0IGJ1ZmZlciA9ICIiOwogICAgICAgIGxldCB0b3Bkb2NiZWZvcmUgPSBkb2NbInRvcGRvY2JlZm9yZSJdOwogICAgICAgIGlmKCB0b3Bkb2NiZWZvcmUgJiYgdG9wZG9jYmVmb3JlLmluZGV4T2YoIn4iKSApewogICAgICAgICAgICBsZXQgZG9jcyA9IHRvcGRvY2JlZm9yZS5zcGxpdCgifiIpOwogICAgICAgICAgICBmb3IobGV0IHJlY1N0ciBvZiBkb2NzKXsKICAgICAgICAgICAgICAgIGlmKCBidWZmZXIubGVuZ3RoID4gMCApewogICAgICAgICAgICAgICAgICAgIGJ1ZmZlciArPSAiXG4iOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnVmZmVyICs9IGRvYy5xdWVyeV90eHQgICsgIiwiICsgIlBSRVBST0QiICsgIiwiICsgcm93Y291bnQgKyAiLCIgKyByb3djb3VudGIgICsgIiwiICsgcmVjU3RyLnJlcGxhY2VBbGwoIjo6IiwiLCIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBidWZmZXIgKz0gZG9jLnF1ZXJ5X3R4dCAgKyAiLCIgKyAiUFJFUFJPRCIgKyAiLCIgKyByb3djb3VudCArICIsIiArIHJvd2NvdW50YiAgKyAiLCIgKyB0b3Bkb2NiZWZvcmU7ICAgCiAgICAgICAgfQoKICAgICAgICBjdHguYnVmZmVyICs9IGJ1ZmZlcjsKICAgICAgICBjdHguYnVmZmVyICs9ICJcbiI7CgogICAgICAgIGJ1ZmZlciA9ICIiOwogICAgICAgIGxldCB0b3Bkb2NhZnRlciA9IGRvY1sidG9wZG9jYWZ0ZXIiXTsKICAgICAgICBpZiggdG9wZG9jYWZ0ZXIgJiYgdG9wZG9jYWZ0ZXIuaW5kZXhPZigifiIpICl7CiAgICAgICAgICAgIGxldCBkb2NzID0gdG9wZG9jYWZ0ZXIuc3BsaXQoIn4iKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGZvcihsZXQgcmVjU3RyIG9mIGRvY3MpewogICAgICAgICAgICAgICAgaWYoIGJ1ZmZlci5sZW5ndGggPiAwICl7CiAgICAgICAgICAgICAgICAgICAgYnVmZmVyICs9ICJcbiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBidWZmZXIgKz0gZG9jLnF1ZXJ5X3R4dCAgKyAiLCIgKyAiUFJPRCIgKyAiLCIgKyByb3djb3VudCArICIsIiArIHJvd2NvdW50YSAgKyAiLCIgKyByZWNTdHIucmVwbGFjZUFsbCgiOjoiLCIsIik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGJ1ZmZlciArPSBkb2MucXVlcnlfdHh0ICArICIsIiArICJQUk9EIiArICIsIiArIHJvd2NvdW50ICsgIiwiICsgcm93Y291bnRhICArICIsIiArIHRvcGRvY2FmdGVyOwogICAgICAgIH0KCiAgICAgICAgY3R4LmJ1ZmZlciArPSBidWZmZXI7CiAgICAgICAgCiAgICAgICAgdENhbGxiYWNrKCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGxvYWRWYWxpZGF0aW9uRGF0YShjdXJzb3JNYXJrLGN0eCl7CiAgICAgICAgbGV0IHRDYWxsYmFjayA9IHZhbGlkYXRlQ2FsbGJhY2suYmluZCh7Y3R4fSk7CiAgICAgICAgCiAgICAgICAgbGV0IHRWYWxpZGF0ZVNvbHJQYXRoID0gdmFsaWRhdGVTb2xyUGF0aCArICImY3Vyc29yTWFyaz0iICsgY3Vyc29yTWFyazsKICAgICAgICBjb25zb2xlLmxvZyh0VmFsaWRhdGVTb2xyUGF0aCk7CiAgICAgICAgbGV0IGNvbmYgPSB7aG9zdG5hbWU6IHZhbGlkYXRlU29sckhvc3QscG9ydDogdmFsaWRhdGVTb2xyUG9ydCxwYXRoOiB0VmFsaWRhdGVTb2xyUGF0aCxtZXRob2Q6ICdHRVQnLGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfX07CiAgICAKICAgICAgICBpZiggQ09OVEVYVC5BVVRIS0VZICkKICAgICAgICAgICAgY29uZi5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmFzaWMgJyArIENPTlRFWFQuQVVUSEtFWTsKICAgICAgICBsZXQgdCA9IENPTlRFWFQubGliLmh0dHBzLnJlcXVlc3QoY29uZiwgdENhbGxiYWNrKTsKICAgICAgICB0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHtjb25zb2xlLmxvZygiR290IGVycm9yOiAiICsgZS5tZXNzYWdlKTt9KTsKICAgICAgICB0LmVuZCgpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBkb0NvbXBsZXRlKGN0eCl7CiAgICAgICAgaWYoIGNvbW1hbmRMaW5lLmNhbGxiYWNrICl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJkbyBjb21wbGV0ZSBjYWxsYmFjayIpOwogICAgICAgICAgICBjb21tYW5kTGluZS5jYWxsYmFjayh7cGF5bG9hZDogY3R4LmJ1ZmZlcixoZWFkZXJzOiBbe25hbWU6ICJDb250ZW50LVR5cGUiLHZhbHVlOiAiYXBwbGljYXRpb24vY3N2In1dfSk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBsb2FkVmFsaWRhdGlvbkRhdGEoY3Vyc29yTWFyayxMT09QQ1RYKTsKICAgIAogICAgfQ==",
        "_version_":1778122015828344832},
      {
        "assetname":"extractGroupScript",
        "assettype":"script",
        "assetnotes":"",
        "assetscript_s":"",
        "id":"ASSET1695822084300",
        "contenttype":"ASSET",
        "crawldate":"2023-10-10T03:32:52.964Z",
        "assetscript":"ZnVuY3Rpb24ob0NvbW1hbmRMaW5lKXsKCWZ1bmN0aW9uIGV4dHJhY3RUZXN0KGNvbW1hbmRMaW5lKXsKCXZhciBiYXRjaFNpemUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnYmF0Y2hTaXplJykgPyBjb21tYW5kTGluZVsnYmF0Y2hTaXplJ10gOiAxMjsKCXZhciBzb3VyY2VSZXN1bHRTaXplID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVJlc3VsdFNpemUnKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VSZXN1bHRTaXplJ10gOiAxMjsKCXZhciB2ZWhpY2xlSWQ9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2ZWhpY2xlSWQnKSA/IGNvbW1hbmRMaW5lWyd2ZWhpY2xlSWQnXSA6ICcnOwoJdmFyIHNvdXJjZU1vZGUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlTW9kZScpID8gY29tbWFuZExpbmVbJ3NvdXJjZU1vZGUnXSA6ICdTT0xSJzsKICAgICAgICB2YXIgdGVzdE5hbWUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndGVzdE5hbWUnKSA/IGNvbW1hbmRMaW5lWyd0ZXN0TmFtZSddIDogJyc7Cgl2YXIgc291cmNlU29sckhvc3QgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlU29sckhvc3QnKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VTb2xySG9zdCddIDogQ09OVEVYVC5TT0xSSE9TVDsKCXZhciBzb3VyY2VTb2xyUG9ydCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdzb3VyY2VTb2xyUG9ydCcpID8gY29tbWFuZExpbmVbJ3NvdXJjZVNvbHJQb3J0J10gOiBDT05URVhULlNPTFJQT1JUOwoJdmFyIHNvdXJjZVNvbHJDb2xsZWN0aW9uID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVNvbHJDb2xsZWN0aW9uJykgPyBjb21tYW5kTGluZVsnc291cmNlU29sckNvbGxlY3Rpb24nXSA6IENPTlRFWFQuU09MUkNPTExFQ1RJT047Cgl2YXIgc291cmNlU29sclBhdGggPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlU29sclBhdGgnKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VTb2xyUGF0aCddIDogIi9hcGkvc29sci8iICsgc291cmNlU29sckNvbGxlY3Rpb24gKyAiL3NlbGVjdD9mbD0qJnd0PWpzb24mcm93cz0iICsgc291cmNlUmVzdWx0U2l6ZSArICImIjsKCXZhciBzb3VyY2VTb2xyRmllbGQgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlU29sckZpZWxkJykgPyBjb21tYW5kTGluZVsnc291cmNlU29sckZpZWxkJ10gOiAiaWQiOwoJdmFyIHNvdXJjZVNvbHJJZEZpZWxkID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVNvbHJJZEZpZWxkJykgPyBjb21tYW5kTGluZVsnc291cmNlU29scklkRmllbGQnXSA6ICJpZCI7CgoJdmFyIHZhbGlkYXRlU29sckhvc3QgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndmFsaWRhdGVTb2xySG9zdCcpID8gY29tbWFuZExpbmVbJ3ZhbGlkYXRlU29sckhvc3QnXSA6IENPTlRFWFQuU09MUkhPU1Q7Cgl2YXIgdmFsaWRhdGVTb2xyUG9ydCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJQb3J0JykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyUG9ydCddIDogQ09OVEVYVC5TT0xSUE9SVDsKCXZhciB2YWxpZGF0ZVNvbHJQYXRoID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3ZhbGlkYXRlU29sclBhdGgnKSA/IGNvbW1hbmRMaW5lWyd2YWxpZGF0ZVNvbHJQYXRoJ10gOiAiL2FwaS9zb2xyLyIgKyBDT05URVhULlNPTFJDT0xMRUNUSU9OICsgIi9zZWxlY3Q/ZnE9Y29udGVudHR5cGU6U0VBUkNIJnE9KHRlc3RuYW1lOiIgKyB0ZXN0TmFtZSArICIpJnd0PWpzb24mc29ydD1pZCtkZXNjJnJvd3M9IiArIGJhdGNoU2l6ZTsKCXZhciB2YWxpZGF0ZVNvbHJVcGRhdGVQYXRoID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3ZhbGlkYXRlU29sclVwZGF0ZVBhdGgnKSA/IGNvbW1hbmRMaW5lWyd2YWxpZGF0ZVNvbHJVcGRhdGVQYXRoJ10gOiAiL2FwaS9zb2xyLyIgKyBDT05URVhULlNPTFJDT0xMRUNUSU9OICsgIi91cGRhdGUiOwoJdmFyIHZhbGlkYXRlU29sclR5cGVGaWVsZCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJUeXBlRmllbGQnKSA/IGNvbW1hbmRMaW5lWyd2YWxpZGF0ZVNvbHJUeXBlRmllbGQnXSA6ICJjb250ZW50dHlwZSI7Cgl2YXIgdmFsaWRhdGVTb2xyVHlwZSA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJUeXBlJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyVHlwZSddIDogIkJFRk9SRSI7Cgl2YXIgdmFsaWRhdGVTb2xyRmllbGQgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndmFsaWRhdGVTb2xyRmllbGQnKSA/IGNvbW1hbmRMaW5lWyd2YWxpZGF0ZVNvbHJGaWVsZCddIDogInF1ZXJ5X3R4dCI7Cgl2YXIgdmFsaWRhdGVTb2xySWRGaWVsZCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJJZEZpZWxkJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xySWRGaWVsZCddIDogImlkIjsKCXZhciBpbmNsdWRlRGV0YWlsID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ2luY2x1ZGVEZXRhaWwnKSA/IGNvbW1hbmRMaW5lWydpbmNsdWRlRGV0YWlsJ10gOiAnJzsKCXZhciB3cml0ZU1vZGUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnd3JpdGVNb2RlJykgPyBjb21tYW5kTGluZVsnd3JpdGVNb2RlJ10gOiAndHJ1bmNhdGUnOwoJdmFyIGN1cnNvck1hcmsgPSAiKiI7Cgl2YXIgcXVlcnlDb3VudCA9IDA7CgkJCglsZXQgTE9PUENUWCA9IHtvZmZzZXQ6IDAsZG9jczogW10sc2l6ZTogMH07IAoKICAgIGZ1bmN0aW9uIGxvb3BSZXN1bHRzKCl7CgkJbGV0IGN0eCA9IHRoaXMuY3R4OwoJCWxldCBoYXNNb3JlID0gdGhpcy5oYXNNb3JlOwoKCQlpZiggY3R4Lm9mZnNldCA8IGN0eC5zaXplICl7CgkJCWxldCBkb2MgPSBjdHguZG9jc1tjdHgub2Zmc2V0KytdOwoJCQl2YWxpZGF0ZVF1ZXJ5KGRvYyxoYXNNb3JlLGN0eCk7CgkJfQoJCWVsc2UgewoJCQlpZiggaGFzTW9yZSApCgkJCQlsb2FkVmFsaWRhdGlvbkRhdGEoY3Vyc29yTWFyayxjdHgpOwoJCQllbHNlCgkJCQlkb0NvbW1pdCgpOwoJCX0KCX0KCglmdW5jdGlvbiB2YWxpZGF0ZUNhbGxiYWNrKHJlcykgewoJICBsZXQgc3RyID0gIiI7CgkgIGxldCBjdHggPSB0aGlzLmN0eDsKCgkgIHJlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewoJCQkJICBzdHIgKz0gY2h1bms7CgkJCQkgIAoJCQl9KTsKCgkgIHJlcy5vbignZW5kJywgZnVuY3Rpb24gKCkgewoJCQlsZXQgZGF0YSA9IEpTT04ucGFyc2Uoc3RyKTsKCQkJCgkJCWlmKCBkYXRhLnJlc3BvbnNlICYmIGRhdGEucmVzcG9uc2UuZG9jcyApewoJCQkJcXVlcnlDb3VudCA9IGRhdGEucmVzcG9uc2UuZG9jcy5sZW5ndGg7CgkJCQljdHguc2l6ZSA9IGRhdGEucmVzcG9uc2UuZG9jcy5sZW5ndGg7CgkJCQljdHguZG9jcyA9IGRhdGEucmVzcG9uc2UuZG9jczsKCQkJCWN0eC5vZmZzZXQgPSAwOwoJCQkJbGV0IGhhc01vcmUgPSBkYXRhLm5leHRDdXJzb3JNYXJrICYmIGN1cnNvck1hcmsgIT0gZGF0YS5uZXh0Q3Vyc29yTWFyayAmJiBxdWVyeUNvdW50ID09IGJhdGNoU2l6ZTsKCgkJCQkvL2NvbnNvbGUud3Nsb2coZGF0YSk7CgkJCQlpZiggZGF0YS5uZXh0Q3Vyc29yTWFyayApewoJCQkJCWlmKCBjdXJzb3JNYXJrICE9IGRhdGEubmV4dEN1cnNvck1hcmsgKXsJCgkJCQkJCWN1cnNvck1hcmsgPSBkYXRhLm5leHRDdXJzb3JNYXJrOwoJCQkJCX0KCQkJCQllbHNlIHsKCQkJCQkJY29uc29sZS53c2xvZygiY29tcGxldGUiKTsKCQkJCQl9CgkJCQl9CgoJCQkJbG9vcFJlc3VsdHMuYmluZCh7Y3R4LGhhc01vcmV9KSgpOwoJCQkJLyoKCQkJCWZvcihsZXQgZCBpbiBkYXRhLnJlc3BvbnNlLmRvY3MpewoJCQkJCWxldCBkb2MgPSBkYXRhLnJlc3BvbnNlLmRvY3NbZF07CgkJCQkJCgkJCQkJdmFsaWRhdGVRdWVyeShkb2MsZGF0YS5uZXh0Q3Vyc29yTWFyayAmJiBjdXJzb3JNYXJrICE9IGRhdGEubmV4dEN1cnNvck1hcmsgJiYgcXVlcnlDb3VudCA9PSBiYXRjaFNpemUpOwoJCQkJfSovCgkJCX0KCQkJCgkgIH0pOwoJfQoKCWZ1bmN0aW9uIHVwZGF0ZUNhbGxiYWNrKHJlcykgewoJICBsZXQgc3RyID0gIiI7CgkgIGxldCBxdWVyeURvYyA9IHRoaXMucXVlcnlEb2M7CgkgIGxldCBoYXNNb3JlID0gdGhpcy5oYXNNb3JlOwoJICBsZXQgY3R4ID0gdGhpcy5jdHg7CgoJICByZXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsKCQkJCSAgc3RyICs9IGNodW5rOwoJCQkJICAKCQkJfSk7CgoJICByZXMub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHsKCQkJY29uc29sZS53c2xvZyhxdWVyeURvYy5pZCwiVVBEQVRFIixzdHIpOwoJCQkKCQkJY29uc29sZS53c2xvZygiY2hlY2tpbmcgcXVlcnkgY291bnQiLHF1ZXJ5Q291bnQpOwoJCQlpZiggcXVlcnlDb3VudCA8PSAwICkgewoJCQkJY29uc29sZS53c2xvZygiY2FsbCBsb2FkIHN5YmMiLGhhc01vcmUpOwoJCQkJCgkJCQkvKmlmKCBoYXNNb3JlICkKCQkJCQlsb2FkVmFsaWRhdGlvbkRhdGEoY3Vyc29yTWFyayk7CgkJCQllbHNlCgkJCQkJZG9Db21taXQoKTsqLwoJCQl9CgkJCWxvb3BSZXN1bHRzLmJpbmQoe2N0eCxoYXNNb3JlfSkoKTsKCSAgfSk7Cgl9CgoJZnVuY3Rpb24gY2FsbGJhY2socmVzKSB7CgkgIHZhciBzdHIgPSAiIjsKCSAgcmVzLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7CgkJCQkgIHN0ciArPSBjaHVuazsKCQkJCSAgCgkJCX0pOwoKCSAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CgkJCWNvbnNvbGUud3Nsb2coIkNPTU1JVCIpOwoJICB9KTsKCX0KCglmdW5jdGlvbiBnZXRJdGVtU291cmNlSWQoZG9jLGZpZWxkU3RyKXsKCQlsZXQgcmVzdWx0ID0gIiI7CgoJCWxldCBmaWVsZExpc3QgPSBmaWVsZFN0ci5zcGxpdCgiLCIpOwoKCQlmb3IobGV0IGZpIGluIGZpZWxkTGlzdCl7CgkJCWlmKCBmaSA+IDAgKQoJCQkJcmVzdWx0ICs9ICI6OiI7CgoJCQlyZXN1bHQgKz0gZG9jW2ZpZWxkTGlzdFtmaV1dOwoJCX0KCgkJaWYoICFyZXN1bHQgKQoJCQlyZXN1bHQgPSBkb2MuaWQ7CgoJCXJldHVybiggcmVzdWx0ICk7Cgl9CgkgCglmdW5jdGlvbiBxdWVyeUNhbGxiYWNrKHJlcykgewoJICBsZXQgc3RyID0gIiI7CgkgIGxldCBxdWVyeURvYyA9IHRoaXMucXVlcnlEb2M7CgkgIGxldCBoYXNNb3JlID0gdGhpcy5oYXNNb3JlOwoJICBsZXQgY3R4ID0gdGhpcy5jdHg7CgoJICByZXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsKCQkJCSAgc3RyICs9IGNodW5rOwoJCQkJICAgCgkJCX0pOwoKCSAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CgkJCS8vY29uc29sZS53c2xvZyhyZXMuZmllbGQpOwoJCQlsZXQgZG9jID0gcXVlcnlEb2M7CgkJCXF1ZXJ5Q291bnQtLTsKCgkJCQoKCQkJLy9jb25zb2xlLndzbG9nKHJlcy5xdWVyeURvYyxzdHIpOwoJCQkKCQkJbGV0IGRhdGEgPSBKU09OLnBhcnNlKHN0cik7CgkJCWxldCBkb2NEZXRhaWxMaXN0ID0gW107CgkJCQoJCQlsZXQgbmV3RG9jID0geyAgCgkJCQkJCQlpZDogdmFsaWRhdGVTb2xyVHlwZSArIGRvY1t2YWxpZGF0ZVNvbHJJZEZpZWxkXSwKCQkJCQkJCXBhcmVudGlkOiBkb2NbdmFsaWRhdGVTb2xySWRGaWVsZF0sCgkJCQkJCQlxdWVyeV90eHQ6IGRvY1t2YWxpZGF0ZVNvbHJGaWVsZF0sCgkJCQkJCQl0ZXN0bmFtZTogZG9jWyJ0ZXN0bmFtZSJdLAoJCQkJCQkJbGFuZ3VhZ2VpZDogZG9jWyJsYW5ndWFnZWlkIl0sCgkJCQkJCQljaGFubmVsaWQ6IGRvY1siY2hhbm5lbGlkIl0sCgkJCQkJCQlzb3VyY2U6IHNvdXJjZVNvbHJIb3N0ICsgJy0nICsgc291cmNlU29sckNvbGxlY3Rpb24KCQkJCQkJfTsKCQkJCQkJbmV3RG9jW3ZhbGlkYXRlU29sclR5cGVGaWVsZF0gPSB2YWxpZGF0ZVNvbHJUeXBlOwoKCQkJbGV0IGRvY0xpc3QgPSBmYWxzZTsKCQkJaWYoIHNvdXJjZU1vZGUgPT0gJ0NPVkVPJyApewoJCQkJbmV3RG9jWyJyb3djb3VudCJdID0gZGF0YS50b3RhbENvdW50ID8gZGF0YS50b3RhbENvdW50IDogMDsKCQkJCW5ld0RvY1sicXRpbWUiXSA9IGRhdGEuZHVyYXRpb24gPyBkYXRhLmR1cmF0aW9uIDogMDsKCQkJCW5ld0RvY1sic3RhdHVzX2kiXSA9IGRhdGEuZHVyYXRpb24gPyBkYXRhLmR1cmF0aW9uIDogMDsKCQkJCWRvY0xpc3QgPSBkYXRhLnJlc3VsdHM7CgkJCX0KCQkJZWxzZSBpZiggc291cmNlTW9kZSA9PSAnQVonICl7CgkJCQluZXdEb2NbInJvd2NvdW50Il0gPSBkYXRhLnNlYXJjaFJlc3VsdHMgPyBkYXRhLnNlYXJjaFJlc3VsdHMudG90YWxOdW1iZXJPZlJlY29yZHMgOiAwOwoJCQkJbmV3RG9jWyJxdGltZSJdID0gMTsKCQkJCW5ld0RvY1sic3RhdHVzX2kiXSA9IDE7CgkJCQlkb2NMaXN0ID0gZGF0YT8uc2VhcmNoUmVzdWx0cz8ucGFydFR5cGVSZWNvcmRzOwoJCQl9CiAgICAgICAgICAgIGVsc2UgaWYoIHNvdXJjZU1vZGUgPT0gJ0FaUCcgKXsKCQkJCW5ld0RvY1sicm93Y291bnQiXSA9IGRhdGEuc2VhcmNoUmVzdWx0cyA/IGRhdGEuc2VhcmNoUmVzdWx0cy50b3RhbE51bWJlck9mUmVjb3JkcyA6IDA7CgkJCQluZXdEb2NbInF0aW1lIl0gPSAxOwoJCQkJbmV3RG9jWyJzdGF0dXNfaSJdID0gMTsKCQkJCWRvY0xpc3QgPSBkYXRhPy5zZWFyY2hSZXN1bHRzPy5wYXJ0VHlwZVJlY29yZHM7CgkJCX0KCQkJZWxzZSBpZiggc291cmNlTW9kZSA9PSAnQVpGJyApewoJCQkJbmV3RG9jWyJyb3djb3VudCJdID0gZGF0YS50b3RhbENvdW50ID8gZGF0YS50b3RhbENvdW50IDogMDsKCQkJCW5ld0RvY1sicXRpbWUiXSA9IGRhdGEuZHVyYXRpb24gPyBkYXRhLmR1cmF0aW9uIDogMDsKCQkJCW5ld0RvY1sic3RhdHVzX2kiXSA9IGRhdGEuZHVyYXRpb24gPyBkYXRhLmR1cmF0aW9uIDogMDsKCQkJCWRvY0xpc3QgPSBkYXRhLnJlc3VsdHM7CgkJCX0KCQkJZWxzZSB7CgkJCQluZXdEb2NbInJvd2NvdW50Il0gPSBkYXRhLnJlc3BvbnNlICYmIGRhdGEucmVzcG9uc2UubnVtRm91bmQgPyBkYXRhLnJlc3BvbnNlLm51bUZvdW5kIDogMDsKCQkJCW5ld0RvY1sicXRpbWUiXSA9IGRhdGEucmVzcG9uc2VIZWFkZXIgJiYgZGF0YS5yZXNwb25zZUhlYWRlci5RVGltZSA/IGRhdGEucmVzcG9uc2VIZWFkZXIuUVRpbWUgOiAwOwoJCQkJbmV3RG9jWyJzdGF0dXNfaSJdID0gZGF0YS5yZXNwb25zZUhlYWRlciAmJiBkYXRhLnJlc3BvbnNlSGVhZGVyLnN0YXR1cyA/IGRhdGEucmVzcG9uc2VIZWFkZXIuc3RhdHVzIDogMDsKCQkJCWRvY0xpc3QgPSBkYXRhLnJlc3BvbnNlLmRvY3M7CgkJCX0KCgkJCQoJCQlpZiggZG9jTGlzdCAmJiBkb2NMaXN0Lmxlbmd0aCA+IDAgKXsKCQkJCWxldCBidWZmZXIgPSAnJzsKCQkJCQoJCQkJZm9yKGxldCBpID0gMDtpIDwgZG9jTGlzdC5sZW5ndGg7aSsrKXsKCQkJCQlpZiggaSA+IDAgKQoJCQkJCQlidWZmZXIgKz0gIn4iOwoJCQkJCWxldCBzb3VyY2VGaWVsZFR4dCA9IGdldEl0ZW1Tb3VyY2VJZChkb2NMaXN0W2ldLHNvdXJjZVNvbHJJZEZpZWxkKTsKCgkJCQkJYnVmZmVyICs9IHNvdXJjZUZpZWxkVHh0OwoJCQkJCQoJCQkJCWxldCBuZXdEb2NEZXRhaWwgPSB7CgkJCQkJCQkJCQkiaWQiOiB2YWxpZGF0ZVNvbHJUeXBlICsgc291cmNlRmllbGRUeHQgKyBpLAoJCQkJCQkJCQkJInBhcmVudGlkIjogc291cmNlRmllbGRUeHQsCgkJCQkJCQkJCQkicXVlcnlfdHh0IjogZG9jW3ZhbGlkYXRlU29sckZpZWxkXSwKCQkJCQkJCQkJCXRlc3RuYW1lOiBkb2NbInRlc3RuYW1lIl0sCgkJCQkJCQkJCQlsYW5ndWFnZWlkOiBkb2NbImxhbmd1YWdlaWQiXSwKCQkJCQkJCQkJCSJjaGFubmVsaWQiOiBkb2NbImNoYW5uZWxpZCJdCgkJCQkJCQkJCX07CgkJCQkJbmV3RG9jRGV0YWlsW3ZhbGlkYXRlU29sclR5cGVGaWVsZF0gPSB2YWxpZGF0ZVNvbHJUeXBlICsgIkRFVEFJTCI7CgkJCQkJbmV3RG9jRGV0YWlsWyJzZXF1ZW5jZSJdID0gaTsKCQkJCQluZXdEb2NEZXRhaWxbImRvY3Njb3JlIl0gPSBkb2NMaXN0W2ldLnNjb3JlOwoJCQkJCWlmKCBpbmNsdWRlRGV0YWlsICkgZG9jRGV0YWlsTGlzdC5wdXNoKG5ld0RvY0RldGFpbCk7CgkJCQl9CgkJCQkKCQkJCW5ld0RvY1sidG9wZG9jIl0gPSBidWZmZXI7CgkJCX0KCQkJZWxzZQoJCQkJbmV3RG9jWyJ0b3Bkb2MiXSA9ICdub25lJzsKCgkJCWxldCB0Q2FsbGJhY2sgPSB1cGRhdGVDYWxsYmFjay5iaW5kKHtxdWVyeURvYzogZG9jLGhhc01vcmU6IGhhc01vcmUsY3R4fSk7CgkJCQoJCQlkb2NEZXRhaWxMaXN0LnB1c2gobmV3RG9jKTsKCQkJCgkJCWxldCBoZWFkZXJzID0geydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9OwoJCQlpZiAoY29tbWFuZExpbmUuQVVUSEtFWSkKCQkJCWhlYWRlcnNbIkF1dGhvcml6YXRpb24iXSA9ICJCYXNpYyAiICsgY29tbWFuZExpbmUuQVVUSEtFWTsKCgkJCXZhciB0ID0gQ09OVEVYVC5saWIuaHR0cHMucmVxdWVzdCh7aG9zdG5hbWU6IHZhbGlkYXRlU29sckhvc3QscG9ydDogdmFsaWRhdGVTb2xyUG9ydCxwYXRoOiB2YWxpZGF0ZVNvbHJVcGRhdGVQYXRoLG1ldGhvZDogJ1BPU1QnLGhlYWRlcnM6IGhlYWRlcnN9LCB0Q2FsbGJhY2spOwoJCQl0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHtjb25zb2xlLndzbG9nKCJHb3QgZXJyb3I6ICIgKyBlLm1lc3NhZ2UpO30pOwoJCQl0LndyaXRlKEpTT04uc3RyaW5naWZ5KGRvY0RldGFpbExpc3QpKTsKCQkJdC5lbmQoKTsKCQkJCgkgIH0pOwoJfQoKCWZ1bmN0aW9uIHZhbGlkYXRlUXVlcnkoZG9jLGhhc01vcmUsY3R4KXsKCQlsZXQgdENhbGxiYWNrID0gcXVlcnlDYWxsYmFjay5iaW5kKHtxdWVyeURvYzogZG9jLGhhc01vcmU6IGhhc01vcmUsY3R4fSk7CgkJLy9jb25zb2xlLndzbG9nKGRvY1t2YWxpZGF0ZVNvbHJGaWVsZF0pOwoJCQoJCWlmKCBzb3VyY2VNb2RlID09ICdDT1ZFTycgKXsKCQkJbGV0IHBheWxvYWQgID0ge3E6IGRvY1sicXVlcnlfdHh0Il0scGlwZWxpbmU6IHNvdXJjZVNvbHJDb2xsZWN0aW9uLHNvcnRDcml0ZXJpYTogInJlbGV2YW5jeSIsZmlyc3RSZXN1bHQ6IDAsbnVtYmVyT2ZSZXN1bHRzOiBiYXRjaFNpemV9OwoJCQkvL2NvbnNvbGUud3Nsb2codFNvdXJjZVNvbHJQYXRoKTsKCQkJbGV0IHQgPSBDT05URVhULmxpYi5odHRwcy5yZXF1ZXN0KHtob3N0bmFtZTogc291cmNlU29sckhvc3QscG9ydDogc291cmNlU29sclBvcnQscGF0aDogc291cmNlU29sclBhdGgsbWV0aG9kOiAnUE9TVCcsaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9fSwgdENhbGxiYWNrKTsKCQkJdC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7Y29uc29sZS53c2xvZygiR290IGVycm9yOiAiICsgZS5tZXNzYWdlKTt9KTsKCQkJdC53cml0ZShKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7CgkJCXQuZW5kKCk7CgkJfQoJCWVsc2UgaWYoIHNvdXJjZU1vZGUgPT0gJ0FaJyApewoJCQlsZXQgcGF5bG9hZCA9IHsKCQkJCSJwcmV2aWV3IjogZmFsc2UsCgkJCQkiY291bnRyeSI6ICJVU0EiLAoJCQkJImN1c3RvbWVyVHlwZSI6ICJCMkMiLAoJCQkJInNhbGVzQ2hhbm5lbCI6ICJFQ09NTSIsCgkJCQkicmVjb3Jkc1BlclBhZ2UiOiBiYXRjaFNpemUsCgkJCQkic2VhcmNoVGV4dCI6IGRvY1sicXVlcnlfdHh0Il0KCQkJfTsKCQkJLy9sZXQgcGF5bG9hZCAgPSB7ImNvdW50cnkiOiAiVVNBIiwiY3VzdG9tZXJUeXBlIjogIkIyQyIsImRldmljZVR5cGUiOiAiYXBwIiwiaWdub3JlVmVoaWNsZVNwZWNpZmljUHJvZHVjdHNDaGVjayI6IGZhbHNlLCJpc1ZlaGljbGVTcGVjaWZpYyI6IGZhbHNlLCJrZXl3b3JkU2VhcmNoVmlzdWFsIjogZmFsc2UsInBhZ2VOdW1iZXIiOiAxLCJwcmV2aWV3IjogZmFsc2UsInJlY29yZHNQZXJQYWdlIjogYmF0Y2hTaXplLCJzYWxlc0NoYW5uZWwiOiAiRUNPTU0iLCJzZWFyY2hUZXh0IjogZG9jWyJxdWVyeV90eHQiXSwic3RvcmVJZCI6IDYwMjksInZlaGljbGVJZCI6IHZlaGljbGVJZH07CgkJCS8vY29uc29sZS53c2xvZyh0U291cmNlU29sclBhdGgpOwoJCQlsZXQgaGVhZGVycyA9IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfTsKCQkJbGV0IGNvbmYgPSB7aG9zdG5hbWU6IHNvdXJjZVNvbHJIb3N0LHBvcnQ6IHNvdXJjZVNvbHJQb3J0LHBhdGg6ICIvdjEvcHJvZHVjdHMvc2VhcmNoIixtZXRob2Q6ICdQT1NUJyxoZWFkZXJzOiBoZWFkZXJzfTsKCQkJY29uZi5hZ2VudCA9ICBDT05URVhULmxpYi5odHRwcy5BZ2VudCh7a2VlcEFsaXZlOnRydWV9KTsKCQkJbGV0IHQgPSBDT05URVhULmxpYi5odHRwcy5yZXF1ZXN0KGNvbmYsIHRDYWxsYmFjayk7CgoJCQl0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHsKCQkJCWNvbnNvbGUud3Nsb2coIkdvdCBlcnJvcjogIiArIGUubWVzc2FnZSk7CgkJCX0pOwoJCQl0Lm9uKCdzb2NrZXQnLCBmdW5jdGlvbiAoc29ja2V0KSB7CgkJCQlzb2NrZXQuc2V0VGltZW91dCg1MDAwKTsgIAoJCQkJLy9zb2NrZXQuc2V0RW5jb2RpbmcoJ3V0ZjgnKTsKCQkJCXNvY2tldC5vbigndGltZW91dCcsIGZ1bmN0aW9uKCkgewoJCQkJCXQuYWJvcnQoKTsKCQkJCQljb25zb2xlLmxvZygidGltZW91dCIpOwoJCQkJfSk7CgkJCX0pOwoJCQkKCQkJdC53cml0ZShKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7CgkJCXQuZW5kKCk7CgkJfQogICAgICAgIGVsc2UgaWYoIHNvdXJjZU1vZGUgPT0gJ0FaUCcgKXsKCQkJbGV0IHBheWxvYWQgPSB7CgkJCQkicHJldmlldyI6IHRydWUsCgkJCQkiY291bnRyeSI6ICJVU0EiLAoJCQkJImN1c3RvbWVyVHlwZSI6ICJCMkMiLAoJCQkJInNhbGVzQ2hhbm5lbCI6ICJFQ09NTSIsCgkJCQkicmVjb3Jkc1BlclBhZ2UiOiBiYXRjaFNpemUsCgkJCQkic2VhcmNoVGV4dCI6IGRvY1sicXVlcnlfdHh0Il0KCQkJfTsKCQkJLy9sZXQgcGF5bG9hZCAgPSB7ImNvdW50cnkiOiAiVVNBIiwiY3VzdG9tZXJUeXBlIjogIkIyQyIsImRldmljZVR5cGUiOiAiYXBwIiwiaWdub3JlVmVoaWNsZVNwZWNpZmljUHJvZHVjdHNDaGVjayI6IGZhbHNlLCJpc1ZlaGljbGVTcGVjaWZpYyI6IGZhbHNlLCJrZXl3b3JkU2VhcmNoVmlzdWFsIjogZmFsc2UsInBhZ2VOdW1iZXIiOiAxLCJwcmV2aWV3IjogZmFsc2UsInJlY29yZHNQZXJQYWdlIjogYmF0Y2hTaXplLCJzYWxlc0NoYW5uZWwiOiAiRUNPTU0iLCJzZWFyY2hUZXh0IjogZG9jWyJxdWVyeV90eHQiXSwic3RvcmVJZCI6IDYwMjksInZlaGljbGVJZCI6IHZlaGljbGVJZH07CgkJCS8vY29uc29sZS53c2xvZyh0U291cmNlU29sclBhdGgpOwoJCQlsZXQgaGVhZGVycyA9IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfTsKCQkJbGV0IGNvbmYgPSB7aG9zdG5hbWU6IHNvdXJjZVNvbHJIb3N0LHBvcnQ6IHNvdXJjZVNvbHJQb3J0LHBhdGg6ICIvdjEvcHJvZHVjdHMvc2VhcmNoIixtZXRob2Q6ICdQT1NUJyxoZWFkZXJzOiBoZWFkZXJzfTsKCQkJY29uZi5hZ2VudCA9ICBDT05URVhULmxpYi5odHRwcy5BZ2VudCh7a2VlcEFsaXZlOnRydWV9KTsKCQkJbGV0IHQgPSBDT05URVhULmxpYi5odHRwcy5yZXF1ZXN0KGNvbmYsIHRDYWxsYmFjayk7CgoJCQl0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHsKCQkJCWNvbnNvbGUud3Nsb2coIkdvdCBlcnJvcjogIiArIGUubWVzc2FnZSk7CgkJCX0pOwoJCQl0Lm9uKCdzb2NrZXQnLCBmdW5jdGlvbiAoc29ja2V0KSB7CgkJCQlzb2NrZXQuc2V0VGltZW91dCg1MDAwKTsgIAoJCQkJLy9zb2NrZXQuc2V0RW5jb2RpbmcoJ3V0ZjgnKTsKCQkJCXNvY2tldC5vbigndGltZW91dCcsIGZ1bmN0aW9uKCkgewoJCQkJCXQuYWJvcnQoKTsKCQkJCQljb25zb2xlLmxvZygidGltZW91dCIpOwoJCQkJfSk7CgkJCX0pOwoJCQkKCQkJdC53cml0ZShKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7CgkJCXQuZW5kKCk7CgkJfQoJCWVsc2UgewoJCQlsZXQgdFNvdXJjZVNvbHJQYXRoICA9IHNvdXJjZVNvbHJQYXRoICsgInE9dGl0bGVfdHh0OiIgKyBkb2NbInF1ZXJ5X3R4dCJdOwoJCQljb25zb2xlLndzbG9nKCJzb2xyIHBhdGgiLHRTb3VyY2VTb2xyUGF0aCk7CgkJCWxldCBoZWFkZXJzID0geydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9OwoJCQlpZiAoY29tbWFuZExpbmUuQVVUSEtFWSkKCQkJCWhlYWRlcnNbIkF1dGhvcml6YXRpb24iXSA9ICJCYXNpYyAiICsgY29tbWFuZExpbmUuQVVUSEtFWTsKCQkJbGV0IHQgPSBDT05URVhULmxpYi5odHRwcy5yZXF1ZXN0KHtob3N0bmFtZTogc291cmNlU29sckhvc3QscG9ydDogc291cmNlU29sclBvcnQscGF0aDogZW5jb2RlVVJJKHRTb3VyY2VTb2xyUGF0aCksbWV0aG9kOiAnR0VUJyxoZWFkZXJzOiBoZWFkZXJzfSwgdENhbGxiYWNrKTsKCQkJdC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7Y29uc29sZS53c2xvZygiR290IGVycm9yOiAiICsgZS5tZXNzYWdlKTt9KTsKCQkJdC5lbmQoKTsKCQl9ICAgICAgICAgCgl9CgoJZnVuY3Rpb24gbG9hZFZhbGlkYXRpb25EYXRhKGN1cnNvck1hcmssY3R4KXsKCQlsZXQgdENhbGxiYWNrID0gdmFsaWRhdGVDYWxsYmFjay5iaW5kKHtjdHh9KTsKCQkKCQlsZXQgdFZhbGlkYXRlU29sclBhdGggPSB2YWxpZGF0ZVNvbHJQYXRoICsgIiZjdXJzb3JNYXJrPSIgKyBjdXJzb3JNYXJrOwoJCWNvbnNvbGUud3Nsb2coIlNFQVJDSFVSTCIsdFZhbGlkYXRlU29sclBhdGgpOwoJCWxldCBoZWFkZXJzID0geydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9OwoJCQlpZiAoY29tbWFuZExpbmUuQVVUSEtFWSkKCQkJCWhlYWRlcnNbIkF1dGhvcml6YXRpb24iXSA9ICJCYXNpYyAiICsgY29tbWFuZExpbmUuQVVUSEtFWTsKCQlsZXQgdCA9IENPTlRFWFQubGliLmh0dHBzLnJlcXVlc3Qoe2hvc3RuYW1lOiB2YWxpZGF0ZVNvbHJIb3N0LHBvcnQ6IHZhbGlkYXRlU29sclBvcnQscGF0aDogdFZhbGlkYXRlU29sclBhdGgsbWV0aG9kOiAnR0VUJyxoZWFkZXJzOiBoZWFkZXJzfSwgdENhbGxiYWNrKTsKCQl0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHtjb25zb2xlLndzbG9nKCJHb3QgZXJyb3I6ICIgKyBlLm1lc3NhZ2UpO30pOwoJCXQuZW5kKCk7Cgl9CgoJZnVuY3Rpb24gdHJ1bmNhdGVSZXN1bHRzKHdyaXRlTW9kZSxjYWxsYmFjayl7CgkJaWYoIHdyaXRlTW9kZSA9PSAidHJ1bmNhdGUiICl7CgkJCWxldCB0Q2FsbGJhY2sgPSBjYWxsYmFjay5iaW5kKHt9KTsKCQkJbGV0IHBheWxvYWQgPSB7ImRlbGV0ZSI6IHsicXVlcnkiOiAiY29udGVudHR5cGU6IiArIHZhbGlkYXRlU29sclR5cGUgKyAiK0FORCt0ZXN0bmFtZToiICsgdGVzdE5hbWV9fTsKCQkJbGV0IHRWYWxpZGF0ZVNvbHJQYXRoID0gdmFsaWRhdGVTb2xyVXBkYXRlUGF0aCArICI/Y29tbWl0PXRydWUiOwoJCQlsZXQgaGVhZGVycyA9IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfTsKCQkJaWYgKGNvbW1hbmRMaW5lLkFVVEhLRVkpCgkJCQloZWFkZXJzWyJBdXRob3JpemF0aW9uIl0gPSAiQmFzaWMgIiArIGNvbW1hbmRMaW5lLkFVVEhLRVk7CgkJCWxldCB0ID0gQ09OVEVYVC5saWIuaHR0cHMucmVxdWVzdCh7aG9zdG5hbWU6IHZhbGlkYXRlU29sckhvc3QscG9ydDogdmFsaWRhdGVTb2xyUG9ydCxwYXRoOiB0VmFsaWRhdGVTb2xyUGF0aCxtZXRob2Q6ICdQT1NUJyxoZWFkZXJzOiBoZWFkZXJzfSwgdENhbGxiYWNrKTsKCQkJdC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7Y29uc29sZS53c2xvZygiR290IGVycm9yOiAiICsgZS5tZXNzYWdlKTt9KTsKCQkJdC53cml0ZShKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7CgkJCXQuZW5kKCk7CgkJfQoJCWVsc2UgewoJCQkvL3F1ZXJ1eSB0byBnZXQgc3RhcnRpbmcga2V5CgkJCWNhbGxiYWNrKCk7CgkJfQoJfQoKCWZ1bmN0aW9uIGRvQ29tbWl0KCl7CgoJCWlmKCBjb21tYW5kTGluZS5jYWxsYmFjayApewoJCQljb25zb2xlLndzbG9nKCJkbyBjb21wbGV0ZSBjYWxsYmFjayIpOwoJCQljb21tYW5kTGluZS5jYWxsYmFjaygpOwoJCX0KCQllbHNlIHsKCQkJY29uc29sZS53c2xvZygiZG8gY29tcGxldGUgY29tbWl0Iik7CgkJCXZhciB0Q2FsbGJhY2sgPSBjYWxsYmFjay5iaW5kKHt9KTsKCQkJdmFyIHQgPSBodHRwLmdldCh7aG9zdDogdmFsaWRhdGVTb2xySG9zdCxwb3J0OiB2YWxpZGF0ZVNvbHJQb3J0LHBhdGg6IHZhbGlkYXRlU29sclVwZGF0ZVBhdGggKyAiP2NvbW1pdD10cnVlIn0sIHRDYWxsYmFjayk7CgkJfQoJfQoKCWZ1bmN0aW9uIGRvV29yaygpewoJCWxvYWRWYWxpZGF0aW9uRGF0YShjdXJzb3JNYXJrLExPT1BDVFgpOwoJfQoJdHJ1bmNhdGVSZXN1bHRzKHdyaXRlTW9kZSxkb1dvcmspOwp9CgoKCmZ1bmN0aW9uIHN0YXJ0V29yayhvQ29tbWFuZExpbmUpewoKdmFyIGRvRmluYWxseSA9IGZ1bmN0aW9uKCl7CgkJCWNvbnNvbGUud3Nsb2coImRvIGZpbmFsbHkiKTsKCWxldCBmaW5hbENCID0gZnVuY3Rpb24oKXsKCQljb25zb2xlLndzbG9nKCJmaW5hbGx5IGRvbmUiKTsKCgkJCQkJaWYoIG9Db21tYW5kTGluZS5jYWxsYmFjayApIG9Db21tYW5kTGluZS5jYWxsYmFjayhvQ29tbWFuZExpbmUucmVzdWx0Q29udGV4dCk7Cgl9Cgl2YXIgc291cmNlU29sckIgPSB7dGVzdE5hbWU6IG9Db21tYW5kTGluZS50ZXN0TmFtZSA/IG9Db21tYW5kTGluZS50ZXN0TmFtZSAgOiAiZGVmYXVsdCIsCgkJCQkJCXNvdXJjZVNvbHJIb3N0OiAicHJvZHVjdC1kaXNjb3ZlcnktYnJvd3NlLXNlYXJjaC1icy1zdC5hcHBzLm5vbnByb2QubWVtLmNsb3VkLmF1dG96b25lLmNvbSIsCgkJCQkJCXNvdXJjZVNvbHJJZEZpZWxkOiBvQ29tbWFuZExpbmUuc291cmNlSWRGaWVsZCA/IG9Db21tYW5kTGluZS5zb3VyY2VJZEZpZWxkIDogInBhcnRUeXBlTmFtZSxpdGVtRGVzY3JpcHRpb24iLAoJCQkJCQlzb3VyY2VNb2RlOiAiQVoiLAoJCQkJCQlzb3VyY2VTb2xyUG9ydDogNDQzLAoJCQkJCQlzb3VyY2VTb2xyQ29sbGVjdGlvbjogIiIsCgkJCQkJCXZhbGlkYXRlU29sclR5cGU6IkJFRk9SRSIsCgkJCQkJCUFVVEhLRVk6IENPTlRFWFQuQVVUSEtFWQoJCQkJCX07Cglmb3IobGV0IGEgaW4gb0NvbW1hbmRMaW5lKXsKCQlzb3VyY2VTb2xyQlthXSA9IG9Db21tYW5kTGluZVthXTsKCX0KCQkJc291cmNlU29sckIuY2FsbGJhY2sgPSBmaW5hbENCOwoKCWV4dHJhY3RUZXN0KHNvdXJjZVNvbHJCKTsKfQoKdmFyIHNvdXJjZVNvbHJBID0ge3Rlc3ROYW1lOiBvQ29tbWFuZExpbmUudGVzdE5hbWUgPyBvQ29tbWFuZExpbmUudGVzdE5hbWUgIDogImRlZmF1bHQiLAoJCQkJCXNvdXJjZVNvbHJJZEZpZWxkOiBvQ29tbWFuZExpbmUuc291cmNlSWRGaWVsZCA/IG9Db21tYW5kTGluZS5zb3VyY2VJZEZpZWxkIDogInBhcnRUeXBlTmFtZSxpdGVtRGVzY3JpcHRpb24iLAoJCQkJCXNvdXJjZU1vZGU6ICJBWiIsCgkJCQkJc291cmNlU29sckhvc3Q6ICJwcm9kdWN0LWRpc2NvdmVyeS1icm93c2Utc2VhcmNoLWJzLmFwcHMucHJvZC5tZW0uY2xvdWQuYXV0b3pvbmUuY29tIiwKCQkJCQlzb3VyY2VTb2xyUG9ydDogNDQzLAoJCQkJCXNvdXJjZVNvbHJDb2xsZWN0aW9uOiAiIiwKCQkJCQl2YWxpZGF0ZVNvbHJUeXBlOiJBRlRFUiIsCgkJCQkJQVVUSEtFWTogQ09OVEVYVC5BVVRIS0VZCgkJCQl9Owpmb3IobGV0IGEgaW4gb0NvbW1hbmRMaW5lKXsKCXNvdXJjZVNvbHJBW2FdID0gb0NvbW1hbmRMaW5lW2FdOwp9Cglzb3VyY2VTb2xyQS5jYWxsYmFjayA9IGRvRmluYWxseTsKCmV4dHJhY3RUZXN0KHNvdXJjZVNvbHJBKTsKCgp9CgoKc3RhcnRXb3JrKG9Db21tYW5kTGluZSk7Cgp9",
        "_version_":1779337813519499264},
      {
        "assetname":"extractScript",
        "assettype":"script",
        "assetnotes":"ZXh0cmFjdCBzY3JpcHQ=",
        "assetscript_s":"",
        "id":"ASSET1692806543531",
        "contenttype":"ASSET",
        "crawldate":"2023-10-10T02:49:10.918Z",
        "assetscript":"ZnVuY3Rpb24ob0NvbW1hbmRMaW5lKXsKCWZ1bmN0aW9uIGV4dHJhY3RUZXN0KGNvbW1hbmRMaW5lKXsKCXZhciBiYXRjaFNpemUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnYmF0Y2hTaXplJykgPyBjb21tYW5kTGluZVsnYmF0Y2hTaXplJ10gOiAxMjsKCXZhciBzb3VyY2VSZXN1bHRTaXplID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVJlc3VsdFNpemUnKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VSZXN1bHRTaXplJ10gOiAxMjsKCXZhciB2ZWhpY2xlSWQ9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2ZWhpY2xlSWQnKSA/IGNvbW1hbmRMaW5lWyd2ZWhpY2xlSWQnXSA6ICcnOwoJdmFyIHNvdXJjZU1vZGUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlTW9kZScpID8gY29tbWFuZExpbmVbJ3NvdXJjZU1vZGUnXSA6ICdTT0xSJzsKICAgICAgICB2YXIgdGVzdE5hbWUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndGVzdE5hbWUnKSA/IGNvbW1hbmRMaW5lWyd0ZXN0TmFtZSddIDogJyc7Cgl2YXIgc291cmNlU29sckhvc3QgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlU29sckhvc3QnKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VTb2xySG9zdCddIDogQ09OVEVYVC5TT0xSSE9TVDsKCXZhciBzb3VyY2VTb2xyUG9ydCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdzb3VyY2VTb2xyUG9ydCcpID8gY29tbWFuZExpbmVbJ3NvdXJjZVNvbHJQb3J0J10gOiBDT05URVhULlNPTFJQT1JUOwoJdmFyIHNvdXJjZVNvbHJDb2xsZWN0aW9uID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVNvbHJDb2xsZWN0aW9uJykgPyBjb21tYW5kTGluZVsnc291cmNlU29sckNvbGxlY3Rpb24nXSA6IENPTlRFWFQuU09MUkNPTExFQ1RJT047Cgl2YXIgc291cmNlU29sclBhdGggPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlU29sclBhdGgnKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VTb2xyUGF0aCddIDogIi9hcGkvc29sci8iICsgc291cmNlU29sckNvbGxlY3Rpb24gKyAiL3NlbGVjdD9mbD0qJnd0PWpzb24mcm93cz0iICsgc291cmNlUmVzdWx0U2l6ZSArICImIjsKCXZhciBzb3VyY2VTb2xyRmllbGQgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlU29sckZpZWxkJykgPyBjb21tYW5kTGluZVsnc291cmNlU29sckZpZWxkJ10gOiAiaWQiOwoJdmFyIHNvdXJjZVNvbHJJZEZpZWxkID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVNvbHJJZEZpZWxkJykgPyBjb21tYW5kTGluZVsnc291cmNlU29scklkRmllbGQnXSA6ICJpZCI7CgoJdmFyIHZhbGlkYXRlU29sckhvc3QgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndmFsaWRhdGVTb2xySG9zdCcpID8gY29tbWFuZExpbmVbJ3ZhbGlkYXRlU29sckhvc3QnXSA6IENPTlRFWFQuU09MUkhPU1Q7Cgl2YXIgdmFsaWRhdGVTb2xyUG9ydCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJQb3J0JykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyUG9ydCddIDogQ09OVEVYVC5TT0xSUE9SVDsKCXZhciB2YWxpZGF0ZVNvbHJQYXRoID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3ZhbGlkYXRlU29sclBhdGgnKSA/IGNvbW1hbmRMaW5lWyd2YWxpZGF0ZVNvbHJQYXRoJ10gOiAiL2FwaS9zb2xyLyIgKyBDT05URVhULlNPTFJDT0xMRUNUSU9OICsgIi9zZWxlY3Q/ZnE9Y29udGVudHR5cGU6U0VBUkNIJnE9KHRlc3RuYW1lOiIgKyB0ZXN0TmFtZSArICIpJnd0PWpzb24mc29ydD1pZCtkZXNjJnJvd3M9IiArIGJhdGNoU2l6ZTsKCXZhciB2YWxpZGF0ZVNvbHJVcGRhdGVQYXRoID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3ZhbGlkYXRlU29sclVwZGF0ZVBhdGgnKSA/IGNvbW1hbmRMaW5lWyd2YWxpZGF0ZVNvbHJVcGRhdGVQYXRoJ10gOiAiL2FwaS9zb2xyLyIgKyBDT05URVhULlNPTFJDT0xMRUNUSU9OICsgIi91cGRhdGUiOwoJdmFyIHZhbGlkYXRlU29sclR5cGVGaWVsZCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJUeXBlRmllbGQnKSA/IGNvbW1hbmRMaW5lWyd2YWxpZGF0ZVNvbHJUeXBlRmllbGQnXSA6ICJjb250ZW50dHlwZSI7Cgl2YXIgdmFsaWRhdGVTb2xyVHlwZSA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJUeXBlJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyVHlwZSddIDogIkJFRk9SRSI7Cgl2YXIgdmFsaWRhdGVTb2xyRmllbGQgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndmFsaWRhdGVTb2xyRmllbGQnKSA/IGNvbW1hbmRMaW5lWyd2YWxpZGF0ZVNvbHJGaWVsZCddIDogInF1ZXJ5X3R4dCI7Cgl2YXIgdmFsaWRhdGVTb2xySWRGaWVsZCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJJZEZpZWxkJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xySWRGaWVsZCddIDogImlkIjsKCXZhciBpbmNsdWRlRGV0YWlsID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ2luY2x1ZGVEZXRhaWwnKSA/IGNvbW1hbmRMaW5lWydpbmNsdWRlRGV0YWlsJ10gOiAnJzsKCXZhciB3cml0ZU1vZGUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnd3JpdGVNb2RlJykgPyBjb21tYW5kTGluZVsnd3JpdGVNb2RlJ10gOiAndHJ1bmNhdGUnOwoJdmFyIGN1cnNvck1hcmsgPSAiKiI7Cgl2YXIgcXVlcnlDb3VudCA9IDA7CgkJCglsZXQgTE9PUENUWCA9IHtvZmZzZXQ6IDAsZG9jczogW10sc2l6ZTogMH07IAoKICAgIGZ1bmN0aW9uIGxvb3BSZXN1bHRzKCl7CgkJbGV0IGN0eCA9IHRoaXMuY3R4OwoJCWxldCBoYXNNb3JlID0gdGhpcy5oYXNNb3JlOwoKCQlpZiggY3R4Lm9mZnNldCA8IGN0eC5zaXplICl7CgkJCWxldCBkb2MgPSBjdHguZG9jc1tjdHgub2Zmc2V0KytdOwoJCQl2YWxpZGF0ZVF1ZXJ5KGRvYyxoYXNNb3JlLGN0eCk7CgkJfQoJCWVsc2UgewoJCQlpZiggaGFzTW9yZSApCgkJCQlsb2FkVmFsaWRhdGlvbkRhdGEoY3Vyc29yTWFyayxjdHgpOwoJCQllbHNlCgkJCQlkb0NvbW1pdCgpOwoJCX0KCX0KCglmdW5jdGlvbiB2YWxpZGF0ZUNhbGxiYWNrKHJlcykgewoJICBsZXQgc3RyID0gIiI7CgkgIGxldCBjdHggPSB0aGlzLmN0eDsKCgkgIHJlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewoJCQkJICBzdHIgKz0gY2h1bms7CgkJCQkgIAoJCQl9KTsKCgkgIHJlcy5vbignZW5kJywgZnVuY3Rpb24gKCkgewoJCQlsZXQgZGF0YSA9IEpTT04ucGFyc2Uoc3RyKTsKCQkJCgkJCWlmKCBkYXRhLnJlc3BvbnNlICYmIGRhdGEucmVzcG9uc2UuZG9jcyApewoJCQkJcXVlcnlDb3VudCA9IGRhdGEucmVzcG9uc2UuZG9jcy5sZW5ndGg7CgkJCQljdHguc2l6ZSA9IGRhdGEucmVzcG9uc2UuZG9jcy5sZW5ndGg7CgkJCQljdHguZG9jcyA9IGRhdGEucmVzcG9uc2UuZG9jczsKCQkJCWN0eC5vZmZzZXQgPSAwOwoJCQkJbGV0IGhhc01vcmUgPSBkYXRhLm5leHRDdXJzb3JNYXJrICYmIGN1cnNvck1hcmsgIT0gZGF0YS5uZXh0Q3Vyc29yTWFyayAmJiBxdWVyeUNvdW50ID09IGJhdGNoU2l6ZTsKCgkJCQkvL2NvbnNvbGUud3Nsb2coZGF0YSk7CgkJCQlpZiggZGF0YS5uZXh0Q3Vyc29yTWFyayApewoJCQkJCWlmKCBjdXJzb3JNYXJrICE9IGRhdGEubmV4dEN1cnNvck1hcmsgKXsJCgkJCQkJCWN1cnNvck1hcmsgPSBkYXRhLm5leHRDdXJzb3JNYXJrOwoJCQkJCX0KCQkJCQllbHNlIHsKCQkJCQkJY29uc29sZS53c2xvZygiY29tcGxldGUiKTsKCQkJCQl9CgkJCQl9CgoJCQkJbG9vcFJlc3VsdHMuYmluZCh7Y3R4LGhhc01vcmV9KSgpOwoJCQkJLyoKCQkJCWZvcihsZXQgZCBpbiBkYXRhLnJlc3BvbnNlLmRvY3MpewoJCQkJCWxldCBkb2MgPSBkYXRhLnJlc3BvbnNlLmRvY3NbZF07CgkJCQkJCgkJCQkJdmFsaWRhdGVRdWVyeShkb2MsZGF0YS5uZXh0Q3Vyc29yTWFyayAmJiBjdXJzb3JNYXJrICE9IGRhdGEubmV4dEN1cnNvck1hcmsgJiYgcXVlcnlDb3VudCA9PSBiYXRjaFNpemUpOwoJCQkJfSovCgkJCX0KCQkJCgkgIH0pOwoJfQoKCWZ1bmN0aW9uIHVwZGF0ZUNhbGxiYWNrKHJlcykgewoJICBsZXQgc3RyID0gIiI7CgkgIGxldCBxdWVyeURvYyA9IHRoaXMucXVlcnlEb2M7CgkgIGxldCBoYXNNb3JlID0gdGhpcy5oYXNNb3JlOwoJICBsZXQgY3R4ID0gdGhpcy5jdHg7CgoJICByZXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsKCQkJCSAgc3RyICs9IGNodW5rOwoJCQkJICAKCQkJfSk7CgoJICByZXMub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHsKCQkJY29uc29sZS53c2xvZyhxdWVyeURvYy5pZCwiVVBEQVRFIixzdHIpOwoJCQkKCQkJY29uc29sZS53c2xvZygiY2hlY2tpbmcgcXVlcnkgY291bnQiLHF1ZXJ5Q291bnQpOwoJCQlpZiggcXVlcnlDb3VudCA8PSAwICkgewoJCQkJY29uc29sZS53c2xvZygiY2FsbCBsb2FkIHN5YmMiLGhhc01vcmUpOwoJCQkJCgkJCQkvKmlmKCBoYXNNb3JlICkKCQkJCQlsb2FkVmFsaWRhdGlvbkRhdGEoY3Vyc29yTWFyayk7CgkJCQllbHNlCgkJCQkJZG9Db21taXQoKTsqLwoJCQl9CgkJCWxvb3BSZXN1bHRzLmJpbmQoe2N0eCxoYXNNb3JlfSkoKTsKCSAgfSk7Cgl9CgoJZnVuY3Rpb24gY2FsbGJhY2socmVzKSB7CgkgIHZhciBzdHIgPSAiIjsKCSAgcmVzLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7CgkJCQkgIHN0ciArPSBjaHVuazsKCQkJCSAgCgkJCX0pOwoKCSAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CgkJCWNvbnNvbGUud3Nsb2coIkNPTU1JVCIpOwoJICB9KTsKCX0KCglmdW5jdGlvbiBnZXRJdGVtU291cmNlSWQoZG9jLGZpZWxkU3RyKXsKCQlsZXQgcmVzdWx0ID0gIiI7CgoJCWxldCBmaWVsZExpc3QgPSBmaWVsZFN0ci5zcGxpdCgiLCIpOwoKCQlmb3IobGV0IGZpIGluIGZpZWxkTGlzdCl7CgkJCWlmKCBmaSA+IDAgKQoJCQkJcmVzdWx0ICs9ICI6OiI7CgoJCQlyZXN1bHQgKz0gZG9jW2ZpZWxkTGlzdFtmaV1dOwoJCX0KCgkJaWYoICFyZXN1bHQgKQoJCQlyZXN1bHQgPSBkb2MuaWQ7CgoJCXJldHVybiggcmVzdWx0ICk7Cgl9CgkgCglmdW5jdGlvbiBxdWVyeUNhbGxiYWNrKHJlcykgewoJICBsZXQgc3RyID0gIiI7CgkgIGxldCBxdWVyeURvYyA9IHRoaXMucXVlcnlEb2M7CgkgIGxldCBoYXNNb3JlID0gdGhpcy5oYXNNb3JlOwoJICBsZXQgY3R4ID0gdGhpcy5jdHg7CgoJICByZXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsKCQkJCSAgc3RyICs9IGNodW5rOwoJCQkJICAgCgkJCX0pOwoKCSAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CgkJCS8vY29uc29sZS53c2xvZyhyZXMuZmllbGQpOwoJCQlsZXQgZG9jID0gcXVlcnlEb2M7CgkJCXF1ZXJ5Q291bnQtLTsKCgkJCQoKCQkJLy9jb25zb2xlLndzbG9nKHJlcy5xdWVyeURvYyxzdHIpOwoJCQkKCQkJbGV0IGRhdGEgPSBKU09OLnBhcnNlKHN0cik7CgkJCWxldCBkb2NEZXRhaWxMaXN0ID0gW107CgkJCQoJCQlsZXQgbmV3RG9jID0geyAgCgkJCQkJCQlpZDogdmFsaWRhdGVTb2xyVHlwZSArIGRvY1t2YWxpZGF0ZVNvbHJJZEZpZWxkXSwKCQkJCQkJCXBhcmVudGlkOiBkb2NbdmFsaWRhdGVTb2xySWRGaWVsZF0sCgkJCQkJCQlxdWVyeV90eHQ6IGRvY1t2YWxpZGF0ZVNvbHJGaWVsZF0sCgkJCQkJCQl0ZXN0bmFtZTogZG9jWyJ0ZXN0bmFtZSJdLAoJCQkJCQkJbGFuZ3VhZ2VpZDogZG9jWyJsYW5ndWFnZWlkIl0sCgkJCQkJCQljaGFubmVsaWQ6IGRvY1siY2hhbm5lbGlkIl0sCgkJCQkJCQlzb3VyY2U6IHNvdXJjZVNvbHJIb3N0ICsgJy0nICsgc291cmNlU29sckNvbGxlY3Rpb24KCQkJCQkJfTsKCQkJCQkJbmV3RG9jW3ZhbGlkYXRlU29sclR5cGVGaWVsZF0gPSB2YWxpZGF0ZVNvbHJUeXBlOwoKCQkJbGV0IGRvY0xpc3QgPSBmYWxzZTsKCQkJaWYoIHNvdXJjZU1vZGUgPT0gJ0NPVkVPJyApewoJCQkJbmV3RG9jWyJyb3djb3VudCJdID0gZGF0YS50b3RhbENvdW50ID8gZGF0YS50b3RhbENvdW50IDogMDsKCQkJCW5ld0RvY1sicXRpbWUiXSA9IGRhdGEuZHVyYXRpb24gPyBkYXRhLmR1cmF0aW9uIDogMDsKCQkJCW5ld0RvY1sic3RhdHVzX2kiXSA9IGRhdGEuZHVyYXRpb24gPyBkYXRhLmR1cmF0aW9uIDogMDsKCQkJCWRvY0xpc3QgPSBkYXRhLnJlc3VsdHM7CgkJCX0KCQkJZWxzZSBpZiggc291cmNlTW9kZSA9PSAnQVonICl7CgkJCQluZXdEb2NbInJvd2NvdW50Il0gPSBkYXRhLnNlYXJjaFJlc3VsdHMgPyBkYXRhLnNlYXJjaFJlc3VsdHMudG90YWxOdW1iZXJPZlJlY29yZHMgOiAwOwoJCQkJbmV3RG9jWyJxdGltZSJdID0gMTsKCQkJCW5ld0RvY1sic3RhdHVzX2kiXSA9IDE7CgkJCQlkb2NMaXN0ID0gZGF0YT8uc2VhcmNoUmVzdWx0cz8uc2t1UmVjb3JkczsKCQkJfQoJCQllbHNlIGlmKCBzb3VyY2VNb2RlID09ICdBWlAnICl7CgkJCQluZXdEb2NbInJvd2NvdW50Il0gPSBkYXRhLnNlYXJjaFJlc3VsdHMgPyBkYXRhLnNlYXJjaFJlc3VsdHMudG90YWxOdW1iZXJPZlJlY29yZHMgOiAwOwoJCQkJbmV3RG9jWyJxdGltZSJdID0gMTsKCQkJCW5ld0RvY1sic3RhdHVzX2kiXSA9IDE7CgkJCQlkb2NMaXN0ID0gZGF0YT8uc2VhcmNoUmVzdWx0cz8uc2t1UmVjb3JkczsKCQkJfQoJCQllbHNlIGlmKCBzb3VyY2VNb2RlID09ICdBWkYnICl7CgkJCQluZXdEb2NbInJvd2NvdW50Il0gPSBkYXRhLnRvdGFsQ291bnQgPyBkYXRhLnRvdGFsQ291bnQgOiAwOwoJCQkJbmV3RG9jWyJxdGltZSJdID0gZGF0YS5kdXJhdGlvbiA/IGRhdGEuZHVyYXRpb24gOiAwOwoJCQkJbmV3RG9jWyJzdGF0dXNfaSJdID0gZGF0YS5kdXJhdGlvbiA/IGRhdGEuZHVyYXRpb24gOiAwOwoJCQkJZG9jTGlzdCA9IGRhdGEucmVzdWx0czsKCQkJfQoJCQllbHNlIHsKCQkJCW5ld0RvY1sicm93Y291bnQiXSA9IGRhdGEucmVzcG9uc2UgJiYgZGF0YS5yZXNwb25zZS5udW1Gb3VuZCA/IGRhdGEucmVzcG9uc2UubnVtRm91bmQgOiAwOwoJCQkJbmV3RG9jWyJxdGltZSJdID0gZGF0YS5yZXNwb25zZUhlYWRlciAmJiBkYXRhLnJlc3BvbnNlSGVhZGVyLlFUaW1lID8gZGF0YS5yZXNwb25zZUhlYWRlci5RVGltZSA6IDA7CgkJCQluZXdEb2NbInN0YXR1c19pIl0gPSBkYXRhLnJlc3BvbnNlSGVhZGVyICYmIGRhdGEucmVzcG9uc2VIZWFkZXIuc3RhdHVzID8gZGF0YS5yZXNwb25zZUhlYWRlci5zdGF0dXMgOiAwOwoJCQkJZG9jTGlzdCA9IGRhdGEucmVzcG9uc2UuZG9jczsKCQkJfQoKCQkJCgkJCWlmKCBkb2NMaXN0ICYmIGRvY0xpc3QubGVuZ3RoID4gMCApewoJCQkJbGV0IGJ1ZmZlciA9ICcnOwoJCQkJCgkJCQlmb3IobGV0IGkgPSAwO2kgPCBkb2NMaXN0Lmxlbmd0aDtpKyspewoJCQkJCWlmKCBpID4gMCApCgkJCQkJCWJ1ZmZlciArPSAifiI7CgkJCQkJbGV0IHNvdXJjZUZpZWxkVHh0ID0gZ2V0SXRlbVNvdXJjZUlkKGRvY0xpc3RbaV0sc291cmNlU29scklkRmllbGQpOwoKCQkJCQlidWZmZXIgKz0gc291cmNlRmllbGRUeHQ7CgkJCQkJCgkJCQkJbGV0IG5ld0RvY0RldGFpbCA9IHsKCQkJCQkJCQkJCSJpZCI6IHZhbGlkYXRlU29sclR5cGUgKyBzb3VyY2VGaWVsZFR4dCArIGksCgkJCQkJCQkJCQkicGFyZW50aWQiOiBzb3VyY2VGaWVsZFR4dCwKCQkJCQkJCQkJCSJxdWVyeV90eHQiOiBkb2NbdmFsaWRhdGVTb2xyRmllbGRdLAoJCQkJCQkJCQkJdGVzdG5hbWU6IGRvY1sidGVzdG5hbWUiXSwKCQkJCQkJCQkJCWxhbmd1YWdlaWQ6IGRvY1sibGFuZ3VhZ2VpZCJdLAoJCQkJCQkJCQkJImNoYW5uZWxpZCI6IGRvY1siY2hhbm5lbGlkIl0KCQkJCQkJCQkJfTsKCQkJCQluZXdEb2NEZXRhaWxbdmFsaWRhdGVTb2xyVHlwZUZpZWxkXSA9IHZhbGlkYXRlU29sclR5cGUgKyAiREVUQUlMIjsKCQkJCQluZXdEb2NEZXRhaWxbInNlcXVlbmNlIl0gPSBpOwoJCQkJCW5ld0RvY0RldGFpbFsiZG9jc2NvcmUiXSA9IGRvY0xpc3RbaV0uc2NvcmU7CgkJCQkJaWYoIGluY2x1ZGVEZXRhaWwgKSBkb2NEZXRhaWxMaXN0LnB1c2gobmV3RG9jRGV0YWlsKTsKCQkJCX0KCQkJCQoJCQkJbmV3RG9jWyJ0b3Bkb2MiXSA9IGJ1ZmZlcjsKCQkJfQoJCQllbHNlCgkJCQluZXdEb2NbInRvcGRvYyJdID0gJ25vbmUnOwoKCQkJbGV0IHRDYWxsYmFjayA9IHVwZGF0ZUNhbGxiYWNrLmJpbmQoe3F1ZXJ5RG9jOiBkb2MsaGFzTW9yZTogaGFzTW9yZSxjdHh9KTsKCQkJCgkJCWRvY0RldGFpbExpc3QucHVzaChuZXdEb2MpOwoJCQkKCQkJbGV0IGhlYWRlcnMgPSB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ307CgkJCWlmIChjb21tYW5kTGluZS5BVVRIS0VZKQoJCQkJaGVhZGVyc1siQXV0aG9yaXphdGlvbiJdID0gIkJhc2ljICIgKyBjb21tYW5kTGluZS5BVVRIS0VZOwoKCQkJdmFyIHQgPSBDT05URVhULmxpYi5odHRwcy5yZXF1ZXN0KHtob3N0bmFtZTogdmFsaWRhdGVTb2xySG9zdCxwb3J0OiB2YWxpZGF0ZVNvbHJQb3J0LHBhdGg6IHZhbGlkYXRlU29sclVwZGF0ZVBhdGgsbWV0aG9kOiAnUE9TVCcsaGVhZGVyczogaGVhZGVyc30sIHRDYWxsYmFjayk7CgkJCXQub24oJ2Vycm9yJywgZnVuY3Rpb24oZSkge2NvbnNvbGUud3Nsb2coIkdvdCBlcnJvcjogIiArIGUubWVzc2FnZSk7fSk7CgkJCXQud3JpdGUoSlNPTi5zdHJpbmdpZnkoZG9jRGV0YWlsTGlzdCkpOwoJCQl0LmVuZCgpOwoJCQkKCSAgfSk7Cgl9CgoJZnVuY3Rpb24gdmFsaWRhdGVRdWVyeShkb2MsaGFzTW9yZSxjdHgpewoJCWxldCB0Q2FsbGJhY2sgPSBxdWVyeUNhbGxiYWNrLmJpbmQoe3F1ZXJ5RG9jOiBkb2MsaGFzTW9yZTogaGFzTW9yZSxjdHh9KTsKCQkvL2NvbnNvbGUud3Nsb2coZG9jW3ZhbGlkYXRlU29sckZpZWxkXSk7CgkJCgkJaWYoIHNvdXJjZU1vZGUgPT0gJ0NPVkVPJyApewoJCQlsZXQgcGF5bG9hZCAgPSB7cTogZG9jWyJxdWVyeV90eHQiXSxwaXBlbGluZTogc291cmNlU29sckNvbGxlY3Rpb24sc29ydENyaXRlcmlhOiAicmVsZXZhbmN5IixmaXJzdFJlc3VsdDogMCxudW1iZXJPZlJlc3VsdHM6IGJhdGNoU2l6ZX07CgkJCS8vY29uc29sZS53c2xvZyh0U291cmNlU29sclBhdGgpOwoJCQlsZXQgdCA9IENPTlRFWFQubGliLmh0dHBzLnJlcXVlc3Qoe2hvc3RuYW1lOiBzb3VyY2VTb2xySG9zdCxwb3J0OiBzb3VyY2VTb2xyUG9ydCxwYXRoOiBzb3VyY2VTb2xyUGF0aCxtZXRob2Q6ICdQT1NUJyxoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ319LCB0Q2FsbGJhY2spOwoJCQl0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHtjb25zb2xlLndzbG9nKCJHb3QgZXJyb3I6ICIgKyBlLm1lc3NhZ2UpO30pOwoJCQl0LndyaXRlKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTsKCQkJdC5lbmQoKTsKCQl9CgkJZWxzZSBpZiggc291cmNlTW9kZSA9PSAnQVonICl7CgkJCWxldCBwYXlsb2FkID0gewoJCQkJInByZXZpZXciOiBmYWxzZSwKCQkJCSJjb3VudHJ5IjogIlVTQSIsCgkJCQkiY3VzdG9tZXJUeXBlIjogIkIyQyIsCgkJCQkic2FsZXNDaGFubmVsIjogIkVDT01NIiwKCQkJCSJyZWNvcmRzUGVyUGFnZSI6IGJhdGNoU2l6ZSwKCQkJCSJzZWFyY2hUZXh0IjogZG9jWyJxdWVyeV90eHQiXQoJCQl9OwoJCQkvL2xldCBwYXlsb2FkICA9IHsiY291bnRyeSI6ICJVU0EiLCJjdXN0b21lclR5cGUiOiAiQjJDIiwiZGV2aWNlVHlwZSI6ICJhcHAiLCJpZ25vcmVWZWhpY2xlU3BlY2lmaWNQcm9kdWN0c0NoZWNrIjogZmFsc2UsImlzVmVoaWNsZVNwZWNpZmljIjogZmFsc2UsImtleXdvcmRTZWFyY2hWaXN1YWwiOiBmYWxzZSwicGFnZU51bWJlciI6IDEsInByZXZpZXciOiBmYWxzZSwicmVjb3Jkc1BlclBhZ2UiOiBiYXRjaFNpemUsInNhbGVzQ2hhbm5lbCI6ICJFQ09NTSIsInNlYXJjaFRleHQiOiBkb2NbInF1ZXJ5X3R4dCJdLCJzdG9yZUlkIjogNjAyOSwidmVoaWNsZUlkIjogdmVoaWNsZUlkfTsKCQkJLy9jb25zb2xlLndzbG9nKHRTb3VyY2VTb2xyUGF0aCk7CgkJCWxldCBoZWFkZXJzID0geydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9OwoJCQlsZXQgY29uZiA9IHtob3N0bmFtZTogc291cmNlU29sckhvc3QscG9ydDogc291cmNlU29sclBvcnQscGF0aDogIi92MS9wcm9kdWN0cy9zZWFyY2giLG1ldGhvZDogJ1BPU1QnLGhlYWRlcnM6IGhlYWRlcnN9OwoJCQljb25mLmFnZW50ID0gIENPTlRFWFQubGliLmh0dHBzLkFnZW50KHtrZWVwQWxpdmU6dHJ1ZX0pOwoJCQlsZXQgdCA9IENPTlRFWFQubGliLmh0dHBzLnJlcXVlc3QoY29uZiwgdENhbGxiYWNrKTsKCgkJCXQub24oJ2Vycm9yJywgZnVuY3Rpb24oZSkgewoJCQkJY29uc29sZS53c2xvZygiR290IGVycm9yOiAiICsgZS5tZXNzYWdlKTsKCQkJfSk7CgkJCXQub24oJ3NvY2tldCcsIGZ1bmN0aW9uIChzb2NrZXQpIHsKCQkJCXNvY2tldC5zZXRUaW1lb3V0KDUwMDApOyAgCgkJCQkvL3NvY2tldC5zZXRFbmNvZGluZygndXRmOCcpOwoJCQkJc29ja2V0Lm9uKCd0aW1lb3V0JywgZnVuY3Rpb24oKSB7CgkJCQkJdC5hYm9ydCgpOwoJCQkJCWNvbnNvbGUubG9nKCJ0aW1lb3V0Iik7CgkJCQl9KTsKCQkJfSk7CgkJCQoJCQl0LndyaXRlKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTsKCQkJdC5lbmQoKTsKCQl9CgkJZWxzZSBpZiggc291cmNlTW9kZSA9PSAnQVpQJyApewoJCQlsZXQgcGF5bG9hZCA9IHsKCQkJCSJwcmV2aWV3IjogdHJ1ZSwKCQkJCSJjb3VudHJ5IjogIlVTQSIsCgkJCQkiY3VzdG9tZXJUeXBlIjogIkIyQyIsCgkJCQkic2FsZXNDaGFubmVsIjogIkVDT01NIiwKCQkJCSJyZWNvcmRzUGVyUGFnZSI6IGJhdGNoU2l6ZSwKCQkJCSJzZWFyY2hUZXh0IjogZG9jWyJxdWVyeV90eHQiXQoJCQl9OwoJCQkvL2xldCBwYXlsb2FkICA9IHsiY291bnRyeSI6ICJVU0EiLCJjdXN0b21lclR5cGUiOiAiQjJDIiwiZGV2aWNlVHlwZSI6ICJhcHAiLCJpZ25vcmVWZWhpY2xlU3BlY2lmaWNQcm9kdWN0c0NoZWNrIjogZmFsc2UsImlzVmVoaWNsZVNwZWNpZmljIjogZmFsc2UsImtleXdvcmRTZWFyY2hWaXN1YWwiOiBmYWxzZSwicGFnZU51bWJlciI6IDEsInByZXZpZXciOiBmYWxzZSwicmVjb3Jkc1BlclBhZ2UiOiBiYXRjaFNpemUsInNhbGVzQ2hhbm5lbCI6ICJFQ09NTSIsInNlYXJjaFRleHQiOiBkb2NbInF1ZXJ5X3R4dCJdLCJzdG9yZUlkIjogNjAyOSwidmVoaWNsZUlkIjogdmVoaWNsZUlkfTsKCQkJLy9jb25zb2xlLndzbG9nKHRTb3VyY2VTb2xyUGF0aCk7CgkJCWxldCBoZWFkZXJzID0geydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9OwoJCQlsZXQgY29uZiA9IHtob3N0bmFtZTogc291cmNlU29sckhvc3QscG9ydDogc291cmNlU29sclBvcnQscGF0aDogIi92MS9wcm9kdWN0cy9zZWFyY2giLG1ldGhvZDogJ1BPU1QnLGhlYWRlcnM6IGhlYWRlcnN9OwoJCQljb25mLmFnZW50ID0gIENPTlRFWFQubGliLmh0dHBzLkFnZW50KHtrZWVwQWxpdmU6dHJ1ZX0pOwoJCQlsZXQgdCA9IENPTlRFWFQubGliLmh0dHBzLnJlcXVlc3QoY29uZiwgdENhbGxiYWNrKTsKCgkJCXQub24oJ2Vycm9yJywgZnVuY3Rpb24oZSkgewoJCQkJY29uc29sZS53c2xvZygiR290IGVycm9yOiAiICsgZS5tZXNzYWdlKTsKCQkJfSk7CgkJCXQub24oJ3NvY2tldCcsIGZ1bmN0aW9uIChzb2NrZXQpIHsKCQkJCXNvY2tldC5zZXRUaW1lb3V0KDUwMDApOyAgCgkJCQkvL3NvY2tldC5zZXRFbmNvZGluZygndXRmOCcpOwoJCQkJc29ja2V0Lm9uKCd0aW1lb3V0JywgZnVuY3Rpb24oKSB7CgkJCQkJdC5hYm9ydCgpOwoJCQkJCWNvbnNvbGUubG9nKCJ0aW1lb3V0Iik7CgkJCQl9KTsKCQkJfSk7CgkJCQoJCQl0LndyaXRlKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTsKCQkJdC5lbmQoKTsKCQl9CgkJZWxzZSB7CgkJCWxldCB0U291cmNlU29sclBhdGggID0gc291cmNlU29sclBhdGggKyAicT10aXRsZV90eHQ6IiArIGRvY1sicXVlcnlfdHh0Il07CgkJCWNvbnNvbGUud3Nsb2coInNvbHIgcGF0aCIsdFNvdXJjZVNvbHJQYXRoKTsKCQkJbGV0IGhlYWRlcnMgPSB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ307CgkJCWlmIChjb21tYW5kTGluZS5BVVRIS0VZKQoJCQkJaGVhZGVyc1siQXV0aG9yaXphdGlvbiJdID0gIkJhc2ljICIgKyBjb21tYW5kTGluZS5BVVRIS0VZOwoJCQlsZXQgdCA9IENPTlRFWFQubGliLmh0dHBzLnJlcXVlc3Qoe2hvc3RuYW1lOiBzb3VyY2VTb2xySG9zdCxwb3J0OiBzb3VyY2VTb2xyUG9ydCxwYXRoOiBlbmNvZGVVUkkodFNvdXJjZVNvbHJQYXRoKSxtZXRob2Q6ICdHRVQnLGhlYWRlcnM6IGhlYWRlcnN9LCB0Q2FsbGJhY2spOwoJCQl0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHtjb25zb2xlLndzbG9nKCJHb3QgZXJyb3I6ICIgKyBlLm1lc3NhZ2UpO30pOwoJCQl0LmVuZCgpOwoJCX0gICAgICAgICAKCX0KCglmdW5jdGlvbiBsb2FkVmFsaWRhdGlvbkRhdGEoY3Vyc29yTWFyayxjdHgpewoJCWxldCB0Q2FsbGJhY2sgPSB2YWxpZGF0ZUNhbGxiYWNrLmJpbmQoe2N0eH0pOwoJCQoJCWxldCB0VmFsaWRhdGVTb2xyUGF0aCA9IHZhbGlkYXRlU29sclBhdGggKyAiJmN1cnNvck1hcms9IiArIGN1cnNvck1hcms7CgkJY29uc29sZS53c2xvZygiU0VBUkNIVVJMIix0VmFsaWRhdGVTb2xyUGF0aCk7CgkJbGV0IGhlYWRlcnMgPSB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ307CgkJCWlmIChjb21tYW5kTGluZS5BVVRIS0VZKQoJCQkJaGVhZGVyc1siQXV0aG9yaXphdGlvbiJdID0gIkJhc2ljICIgKyBjb21tYW5kTGluZS5BVVRIS0VZOwoJCWxldCB0ID0gQ09OVEVYVC5saWIuaHR0cHMucmVxdWVzdCh7aG9zdG5hbWU6IHZhbGlkYXRlU29sckhvc3QscG9ydDogdmFsaWRhdGVTb2xyUG9ydCxwYXRoOiB0VmFsaWRhdGVTb2xyUGF0aCxtZXRob2Q6ICdHRVQnLGhlYWRlcnM6IGhlYWRlcnN9LCB0Q2FsbGJhY2spOwoJCXQub24oJ2Vycm9yJywgZnVuY3Rpb24oZSkge2NvbnNvbGUud3Nsb2coIkdvdCBlcnJvcjogIiArIGUubWVzc2FnZSk7fSk7CgkJdC5lbmQoKTsKCX0KCglmdW5jdGlvbiB0cnVuY2F0ZVJlc3VsdHMod3JpdGVNb2RlLGNhbGxiYWNrKXsKCQlpZiggd3JpdGVNb2RlID09ICJ0cnVuY2F0ZSIgKXsKCQkJbGV0IHRDYWxsYmFjayA9IGNhbGxiYWNrLmJpbmQoe30pOwoJCQlsZXQgcGF5bG9hZCA9IHsiZGVsZXRlIjogeyJxdWVyeSI6ICJjb250ZW50dHlwZToiICsgdmFsaWRhdGVTb2xyVHlwZSArICIrQU5EK3Rlc3RuYW1lOiIgKyB0ZXN0TmFtZX19OwoJCQlsZXQgdFZhbGlkYXRlU29sclBhdGggPSB2YWxpZGF0ZVNvbHJVcGRhdGVQYXRoICsgIj9jb21taXQ9dHJ1ZSI7CgkJCWxldCBoZWFkZXJzID0geydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9OwoJCQlpZiAoY29tbWFuZExpbmUuQVVUSEtFWSkKCQkJCWhlYWRlcnNbIkF1dGhvcml6YXRpb24iXSA9ICJCYXNpYyAiICsgY29tbWFuZExpbmUuQVVUSEtFWTsKCQkJbGV0IHQgPSBDT05URVhULmxpYi5odHRwcy5yZXF1ZXN0KHtob3N0bmFtZTogdmFsaWRhdGVTb2xySG9zdCxwb3J0OiB2YWxpZGF0ZVNvbHJQb3J0LHBhdGg6IHRWYWxpZGF0ZVNvbHJQYXRoLG1ldGhvZDogJ1BPU1QnLGhlYWRlcnM6IGhlYWRlcnN9LCB0Q2FsbGJhY2spOwoJCQl0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHtjb25zb2xlLndzbG9nKCJHb3QgZXJyb3I6ICIgKyBlLm1lc3NhZ2UpO30pOwoJCQl0LndyaXRlKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTsKCQkJdC5lbmQoKTsKCQl9CgkJZWxzZSB7CgkJCS8vcXVlcnV5IHRvIGdldCBzdGFydGluZyBrZXkKCQkJY2FsbGJhY2soKTsKCQl9Cgl9CgoJZnVuY3Rpb24gZG9Db21taXQoKXsKCgkJaWYoIGNvbW1hbmRMaW5lLmNhbGxiYWNrICl7CgkJCWNvbnNvbGUud3Nsb2coImRvIGNvbXBsZXRlIGNhbGxiYWNrIik7CgkJCWNvbW1hbmRMaW5lLmNhbGxiYWNrKCk7CgkJfQoJCWVsc2UgewoJCQljb25zb2xlLndzbG9nKCJkbyBjb21wbGV0ZSBjb21taXQiKTsKCQkJdmFyIHRDYWxsYmFjayA9IGNhbGxiYWNrLmJpbmQoe30pOwoJCQl2YXIgdCA9IGh0dHAuZ2V0KHtob3N0OiB2YWxpZGF0ZVNvbHJIb3N0LHBvcnQ6IHZhbGlkYXRlU29sclBvcnQscGF0aDogdmFsaWRhdGVTb2xyVXBkYXRlUGF0aCArICI/Y29tbWl0PXRydWUifSwgdENhbGxiYWNrKTsKCQl9Cgl9CgoJZnVuY3Rpb24gZG9Xb3JrKCl7CgkJbG9hZFZhbGlkYXRpb25EYXRhKGN1cnNvck1hcmssTE9PUENUWCk7Cgl9Cgl0cnVuY2F0ZVJlc3VsdHMod3JpdGVNb2RlLGRvV29yayk7Cn0KCgoKZnVuY3Rpb24gc3RhcnRXb3JrKG9Db21tYW5kTGluZSl7Cgp2YXIgZG9GaW5hbGx5ID0gZnVuY3Rpb24oKXsKCQkJY29uc29sZS53c2xvZygiZG8gZmluYWxseSIpOwoJbGV0IGZpbmFsQ0IgPSBmdW5jdGlvbigpewoJCWNvbnNvbGUud3Nsb2coImZpbmFsbHkgZG9uZSIpOwoKCQkJCQlpZiggb0NvbW1hbmRMaW5lLmNhbGxiYWNrICkgb0NvbW1hbmRMaW5lLmNhbGxiYWNrKG9Db21tYW5kTGluZS5yZXN1bHRDb250ZXh0KTsKCX0KCXZhciBzb3VyY2VTb2xyQiA9IHt0ZXN0TmFtZTogb0NvbW1hbmRMaW5lLnRlc3ROYW1lID8gb0NvbW1hbmRMaW5lLnRlc3ROYW1lICA6ICJkZWZhdWx0IiwKCQkJCQkJc291cmNlU29sckhvc3Q6ICJwcm9kdWN0LWRpc2NvdmVyeS1icm93c2Utc2VhcmNoLWJzLXN0LmFwcHMubm9ucHJvZC5tZW0uY2xvdWQuYXV0b3pvbmUuY29tIiwKCQkJCQkJc291cmNlU29scklkRmllbGQ6IG9Db21tYW5kTGluZS5zb3VyY2VJZEZpZWxkID8gb0NvbW1hbmRMaW5lLnNvdXJjZUlkRmllbGQgOiAicGFydFR5cGVOYW1lLGl0ZW1EZXNjcmlwdGlvbiIsCgkJCQkJCXNvdXJjZU1vZGU6ICJBWiIsCgkJCQkJCXNvdXJjZVNvbHJQb3J0OiA0NDMsCgkJCQkJCXNvdXJjZVNvbHJDb2xsZWN0aW9uOiAiYXV0em9uZSIsCgkJCQkJCXZhbGlkYXRlU29sclR5cGU6IkJFRk9SRSIsCgkJCQkJCUFVVEhLRVk6IENPTlRFWFQuQVVUSEtFWQoJCQkJCX07Cglmb3IobGV0IGEgaW4gb0NvbW1hbmRMaW5lKXsKCQlzb3VyY2VTb2xyQlthXSA9IG9Db21tYW5kTGluZVthXTsKCX0KCQkJc291cmNlU29sckIuY2FsbGJhY2sgPSBmaW5hbENCOwoKCWV4dHJhY3RUZXN0KHNvdXJjZVNvbHJCKTsKfQoKdmFyIHNvdXJjZVNvbHJBID0ge3Rlc3ROYW1lOiBvQ29tbWFuZExpbmUudGVzdE5hbWUgPyBvQ29tbWFuZExpbmUudGVzdE5hbWUgIDogImRlZmF1bHQiLAoJCQkJCXNvdXJjZVNvbHJJZEZpZWxkOiBvQ29tbWFuZExpbmUuc291cmNlSWRGaWVsZCA/IG9Db21tYW5kTGluZS5zb3VyY2VJZEZpZWxkIDogInBhcnRUeXBlTmFtZSxpdGVtRGVzY3JpcHRpb24iLAoJCQkJCXNvdXJjZU1vZGU6ICJBWiIsCgkJCQkJc291cmNlU29sckhvc3Q6ICJwcm9kdWN0LWRpc2NvdmVyeS1icm93c2Utc2VhcmNoLWJzLmFwcHMucHJvZC5tZW0uY2xvdWQuYXV0b3pvbmUuY29tIiwKCQkJCQlzb3VyY2VTb2xyUG9ydDogNDQzLAoJCQkJCXNvdXJjZVNvbHJDb2xsZWN0aW9uOiAiIiwKCQkJCQl2YWxpZGF0ZVNvbHJUeXBlOiJBRlRFUiIsCgkJCQkJQVVUSEtFWTogQ09OVEVYVC5BVVRIS0VZCgkJCQl9Owpmb3IobGV0IGEgaW4gb0NvbW1hbmRMaW5lKXsKCXNvdXJjZVNvbHJBW2FdID0gb0NvbW1hbmRMaW5lW2FdOwp9Cglzb3VyY2VTb2xyQS5jYWxsYmFjayA9IGRvRmluYWxseTsKCmV4dHJhY3RUZXN0KHNvdXJjZVNvbHJBKTsKCgp9CgoKc3RhcnRXb3JrKG9Db21tYW5kTGluZSk7Cgp9",
        "_version_":1779335064104992768},
      {
        "assetname":"summarizeScript",
        "assettype":"script",
        "assetnotes":"",
        "assetscript_s":"",
        "id":"ASSET1692807162568",
        "contenttype":"ASSET",
        "crawldate":"2023-09-22T16:55:33.943Z",
        "assetscript":"ZnVuY3Rpb24oY29tbWFuZExpbmUpewp2YXIgYmF0Y2hTaXplID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ2JhdGNoU2l6ZScpID8gY29tbWFuZExpbmVbJ2JhdGNoU2l6ZSddIDogMTA7CnZhciBzb3VyY2VSZXN1bHRTaXplID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVJlc3VsdFNpemUnKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VSZXN1bHRTaXplJ10gOiAyOwp2YXIgdGVzdE5hbWUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndGVzdE5hbWUnKSA/IGNvbW1hbmRMaW5lWyd0ZXN0TmFtZSddIDogJ2RlZmF1bHQnOwoKdmFyIHNvdXJjZVNvbHJIb3N0ID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVNvbHJIb3N0JykgPyBjb21tYW5kTGluZVsnc291cmNlU29sckhvc3QnXSA6IENPTlRFWFQuU09MUkhPU1Q7CnZhciBzb3VyY2VTb2xyUG9ydCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdzb3VyY2VTb2xyUG9ydCcpID8gY29tbWFuZExpbmVbJ3NvdXJjZVNvbHJQb3J0J10gOiBDT05URVhULlNPTFJQT1JUOwp2YXIgc291cmNlU29sckNvbGxlY3Rpb24gPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlU29sckNvbGxlY3Rpb24nKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VTb2xyQ29sbGVjdGlvbiddIDogQ09OVEVYVC5TT0xSQ09MTEVDVElPTjsKdmFyIHNvdXJjZVNvbHJQYXRoID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVNvbHJQYXRoJykgPyBjb21tYW5kTGluZVsnc291cmNlU29sclBhdGgnXSA6ICIvYXBpL3NvbHIvIiArIHNvdXJjZVNvbHJDb2xsZWN0aW9uICsgIi9zZWxlY3Q/d3Q9anNvbiZzb3J0PXBhcmVudGlkIGRlc2MsY29udGVudHR5cGUgZGVzYyZyb3dzPSIgKyBzb3VyY2VSZXN1bHRTaXplOwp2YXIgc291cmNlSGVhZGVyU29sclBhdGggPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlSGVhZGVyU29sclBhdGgnKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VIZWFkZXJTb2xyUGF0aCddIDogIi9hcGkvc29sci8iICsgc291cmNlU29sckNvbGxlY3Rpb24gKyAiL3NlbGVjdD93dD1qc29uJnJvd3M9MTAwMCZxPXRlc3RuYW1lOiIgKyB0ZXN0TmFtZTsKdmFyIHNvdXJjZVNvbHJJZEZpZWxkID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVNvbHJJZEZpZWxkJykgPyBjb21tYW5kTGluZVsnc291cmNlU29scklkRmllbGQnXSA6ICJpZCI7CnZhciBzb3VyY2VGaWx0ZXJRdWVyeSA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdzb3VyY2VGaWx0ZXJRdWVyeScpID8gY29tbWFuZExpbmVbJ3NvdXJjZUZpbHRlclF1ZXJ5J10gOiAiKGNvbnRlbnR0eXBlOkJFRk9SRSBPUiBjb250ZW50dHlwZTpBRlRFUikiOwp2YXIgc291cmNlSGVhZGVyRmlsdGVyUXVlcnkgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc291cmNlSGVhZGVyRmlsdGVyUXVlcnknKSA/IGNvbW1hbmRMaW5lWydzb3VyY2VIZWFkZXJGaWx0ZXJRdWVyeSddIDogIihjb250ZW50dHlwZTpKTVhRVUVSWUJFRk9SRSBPUiBjb250ZW50dHlwZTpKTVhRVUVSWUFGVEVSKSI7Cgp2YXIgdmFsaWRhdGVTb2xySG9zdCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJIb3N0JykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xySG9zdCddIDogQ09OVEVYVC5TT0xSSE9TVDsKdmFyIHZhbGlkYXRlU29sclBvcnQgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndmFsaWRhdGVTb2xyUG9ydCcpID8gY29tbWFuZExpbmVbJ3ZhbGlkYXRlU29sclBvcnQnXSA6IENPTlRFWFQuU09MUlBPUlQ7CnZhciB2YWxpZGF0ZVNvbHJDb2xsZWN0aW9uID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3ZhbGlkYXRlU29sckNvbGxlY3Rpb24nKSA/IGNvbW1hbmRMaW5lWyd2YWxpZGF0ZVNvbHJDb2xsZWN0aW9uJ10gOiBDT05URVhULlNPTFJDT0xMRUNUSU9OOwp2YXIgdmFsaWRhdGVTb2xyUGF0aCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJQYXRoJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyUGF0aCddIDogIi9hcGkvc29sci8iICsgdmFsaWRhdGVTb2xyQ29sbGVjdGlvbiArICIvc2VsZWN0P3E9KGNvbnRlbnR0eXBlOlNFQVJDSCtBTkQrdGVzdG5hbWU6IiArIHRlc3ROYW1lICsgIikmd3Q9anNvbiZzb3J0PWlkK2Rlc2Mmcm93cz0iICsgYmF0Y2hTaXplOwp2YXIgdmFsaWRhdGVTb2xyVXBkYXRlUGF0aCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZVNvbHJVcGRhdGVQYXRoJykgPyBjb21tYW5kTGluZVsndmFsaWRhdGVTb2xyVXBkYXRlUGF0aCddIDogIi9hcGkvc29sci92YWxpZGF0ZS91cGRhdGUiOwp2YXIgdmFsaWRhdGVTb2xyVHlwZUZpZWxkID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3ZhbGlkYXRlU29sclR5cGVGaWVsZCcpID8gY29tbWFuZExpbmVbJ3ZhbGlkYXRlU29sclR5cGVGaWVsZCddIDogImNvbnRlbnR0eXBlIjsKdmFyIHZhbGlkYXRlU29sclR5cGUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgndmFsaWRhdGVTb2xyVHlwZScpID8gY29tbWFuZExpbmVbJ3ZhbGlkYXRlU29sclR5cGUnXSA6ICJTVU1NQVJZIjsKCnZhciBtaXNzaW5nU2VudGluYWwgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnbWlzc2luZ1NlbnRpbmFsJykgPyBjb21tYW5kTGluZVsnbWlzc2luZ1NlbnRpbmFsJ10gOiAtMTAwMDsKCnZhciBjdXJzb3JNYXJrID0gIioiOwp2YXIgcXVlcnlDb3VudCA9IDA7CglsZXQgTE9PUENUWCA9IHtvZmZzZXQ6IDAsZG9jczogW10sc2l6ZTogMH07IAoKICAgIGZ1bmN0aW9uIGxvb3BSZXN1bHRzKCl7CgkJbGV0IGN0eCA9IHRoaXMuY3R4OwoJCWxldCBoYXNNb3JlID0gdGhpcy5oYXNNb3JlOwoKCQlpZiggY3R4Lm9mZnNldCA8IGN0eC5zaXplICl7CgkJCWxldCBkb2MgPSBjdHguZG9jc1tjdHgub2Zmc2V0KytdOwoJCQl2YWxpZGF0ZVF1ZXJ5KGRvYyxoYXNNb3JlLGN0eCk7CgkJfQoJCWVsc2UgewoJCQlpZiggaGFzTW9yZSApCgkJCQlsb2FkVmFsaWRhdGlvbkRhdGEoY3Vyc29yTWFyayxjdHgpOwoJCQllbHNlCgkJCQlkb0NvbW1pdCgpOwoJCX0KCX0KCQoKZnVuY3Rpb24gdmFsaWRhdGVDYWxsYmFjayhyZXMpIHsKICBsZXQgc3RyID0gIiI7CiAgbGV0IGN0eCA9IHRoaXMuY3R4OwogIAogIHJlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewogICAgICAgICAgICAgIHN0ciArPSBjaHVuazsKICAgICAgICAgICAgICAKICAgICAgICB9KTsKCiAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMuZmllbGQpOwoJCS8vY29uc29sZS5sb2coc3RyKTsKCQkKCQlsZXQgZGF0YSA9IEpTT04ucGFyc2Uoc3RyKTsKCQkKCQlpZiggZGF0YS5yZXNwb25zZSAmJiBkYXRhLnJlc3BvbnNlLmRvY3MgKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q291bnQgPSBkYXRhLnJlc3BvbnNlLmRvY3MubGVuZ3RoOwoJCQkJY3R4LnNpemUgPSBkYXRhLnJlc3BvbnNlLmRvY3MubGVuZ3RoOwoJCQkJY3R4LmRvY3MgPSBkYXRhLnJlc3BvbnNlLmRvY3M7CgkJCQljdHgub2Zmc2V0ID0gMDsKCQkJCWxldCBoYXNNb3JlID0gZGF0YS5uZXh0Q3Vyc29yTWFyayAmJiBjdXJzb3JNYXJrICE9IGRhdGEubmV4dEN1cnNvck1hcmsgJiYgcXVlcnlDb3VudCA9PSBiYXRjaFNpemU7CiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgICAgICAgaWYoIGRhdGEubmV4dEN1cnNvck1hcmsgKXsKICAgICAgICAgICAgICAgICAgICBpZiggY3Vyc29yTWFyayAhPSBkYXRhLm5leHRDdXJzb3JNYXJrICl7CQogICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3JNYXJrID0gZGF0YS5uZXh0Q3Vyc29yTWFyazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud3Nsb2coImNvbXBsZXRlIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKCQkJLypmb3IobGV0IGQgaW4gZGF0YS5yZXNwb25zZS5kb2NzKXsKCQkJCWxldCBkb2MgPSBkYXRhLnJlc3BvbnNlLmRvY3NbZF07CgkJCQkKCQkJCXZhbGlkYXRlUXVlcnkoZG9jLGRhdGEubmV4dEN1cnNvck1hcmsgJiYgY3Vyc29yTWFyayAhPSBkYXRhLm5leHRDdXJzb3JNYXJrICYmIHF1ZXJ5Q291bnQgPT0gYmF0Y2hTaXplKTsKCQkJfSovCiAgICAgICAgICAgICAgICAgICBsb29wUmVzdWx0cy5iaW5kKHtjdHgsaGFzTW9yZX0pKCk7CgkJfQoKICB9KTsKfQoKZnVuY3Rpb24gdXBkYXRlQ2FsbGJhY2socmVzKSB7CiAgbGV0IHN0ciA9ICIiOwogIGxldCBxdWVyeURvYyA9IHRoaXMucXVlcnlEb2M7CiAgbGV0IGhhc01vcmUgPSB0aGlzLmhhc01vcmU7CiAgbGV0IGN0eCA9IHRoaXMuY3R4OwogIHJlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewogICAgICAgICAgICAgIHN0ciArPSBjaHVuazsKICAgICAgICAgICAgICAKICAgICAgICB9KTsKCiAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS53c2xvZyhxdWVyeURvYy5pZCwiVVBEQVRFIixzdHIpOwogICAgICAgIGNvbnNvbGUud3Nsb2coImNoZWNraW5nIHF1ZXJ5IGNvdW50IixxdWVyeUNvdW50KTsKICAgICAgICBpZiggcXVlcnlDb3VudCA8PSAwICkgewogICAgICAgICAgICBjb25zb2xlLndzbG9nKCJjYWxsIGxvYWQgc3liYyIsaGFzTW9yZSk7CiAgICAgICAgfQogICAgICAgIGxvb3BSZXN1bHRzLmJpbmQoe2N0eCxoYXNNb3JlfSkoKTsKICB9KTsKfQoKZnVuY3Rpb24gY2FsbGJhY2socmVzKSB7CiAgbGV0IHN0ciA9ICIiOwogIHJlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewogICAgICAgICAgICAgIHN0ciArPSBjaHVuazsKICAgICAgICAgICAgICAKICAgICAgICB9KTsKCiAgcmVzLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS53c2xvZygiQ09NTUlUIik7CiAgfSk7Cn0KCmZ1bmN0aW9uIGZpbmRNYXRjaChrZXksb3RoZXJMaXN0KXsKCWxldCByZXN1bHQgPSAtMTsKCWZvcihsZXQgaSA9IDA7aSA8IG90aGVyTGlzdC5sZW5ndGg7aSsrKXsKCQlpZigga2V5ID09PSBvdGhlckxpc3RbaV0gKXsKCQkJcmVzdWx0ID0gaTsKCQkJYnJlYWs7CgkJfQoJfQoKCXJldHVybiggcmVzdWx0ICk7Cn0KCmZ1bmN0aW9uIHF1ZXJ5Q2FsbGJhY2socmVzKSB7CiAgbGV0IHN0ciA9ICIiOwogIGxldCBxdWVyeURvYyA9IHRoaXMucXVlcnlEb2M7CiAgbGV0IGhhc01vcmUgPSB0aGlzLmhhc01vcmU7CiAgbGV0IGN0eCA9IHRoaXMuY3R4OwoKICByZXMub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsKICAgICAgICAgICAgICBzdHIgKz0gY2h1bms7CiAgICAgICAgICAgICAgCiAgICAgICAgfSk7CgogIHJlcy5vbignZW5kJywgZnVuY3Rpb24gKCkgewogICAgICAgIC8vY29uc29sZS5sb2cocmVzLmZpZWxkKTsKCQlsZXQgZG9jID0gcXVlcnlEb2M7CgkJLy9jb25zb2xlLmxvZyhxdWVyeURvYyxzdHIpOwoJCXF1ZXJ5Q291bnQtLTsKCQlsZXQgZGF0YSA9IEpTT04ucGFyc2Uoc3RyKTsKCQlsZXQgZG9jRGV0YWlsTGlzdCA9IFtdOwoJCQoJCWxldCBuZXdEb2MgPSB7ImlkIjogdmFsaWRhdGVTb2xyVHlwZSArIGRvYy5pZCwicGFyZW50aWQiOiBkb2MuaWQsInF1ZXJ5X3R4dCI6IGRvY1sicXVlcnlfdHh0Il0sdGVzdG5hbWU6IGRvY1sidGVzdG5hbWUiXSxsYW5ndWFnZWlkOiBkb2NbImxhbmd1YWdlaWQiXSwiY2hhbm5lbGlkIjogZG9jWyJjaGFubmVsaWQiXX07CgkJbmV3RG9jW3ZhbGlkYXRlU29sclR5cGVGaWVsZF0gPSB2YWxpZGF0ZVNvbHJUeXBlOwoJCW5ld0RvY1sicm93Y291bnQiXSA9IGRhdGEucmVzcG9uc2UgJiYgZGF0YS5yZXNwb25zZS5udW1Gb3VuZCA/IGRhdGEucmVzcG9uc2UubnVtRm91bmQgOiAwOwoJCQoJCWlmKCBkYXRhLnJlc3BvbnNlICYmIGRhdGEucmVzcG9uc2UubnVtRm91bmQgPiAxICl7CgkJCWxldCBiZWZvcmVSZWMgPSBkYXRhLnJlc3BvbnNlLmRvY3NbMF07CgkJCWxldCBhZnRlclJlYyA9IGRhdGEucmVzcG9uc2UuZG9jc1sxXTsKCQkJCgkJCW5ld0RvY1sicm93Y291bnRiZWZvcmUiXSA9IGJlZm9yZVJlY1sncm93Y291bnQnXTsKCQkJbmV3RG9jWyJyb3djb3VudGFmdGVyIl0gPSBhZnRlclJlY1sncm93Y291bnQnXTsKCQkKCQkJbmV3RG9jWyJxdGltZWIiXSA9IGJlZm9yZVJlY1sncXRpbWUnXTsKCQkJbmV3RG9jWyJxdGltZWEiXSA9IGFmdGVyUmVjWydxdGltZSddOwoJCSAgICAgICAgbmV3RG9jWyJxdGltZSJdID0gYmVmb3JlUmVjWydxdGltZSddLSBhZnRlclJlY1sncXRpbWUnXTsKCQkKCQkJbmV3RG9jWyJyb3djb3VudGIiXSA9IGJlZm9yZVJlY1sncm93Y291bnQnXTsKCQkJbmV3RG9jWyJyb3djb3VudGEiXSA9IGFmdGVyUmVjWydyb3djb3VudCddOwoJCSAgICAgICAgbmV3RG9jWyJyb3djb3VudCJdID0gYmVmb3JlUmVjWydyb3djb3VudCddLSBhZnRlclJlY1sncm93Y291bnQnXTsKCQkKCQkJCgkJCWxldCBjb3VudFNjb3JlID0gYWZ0ZXJSZWNbInJvd2NvdW50Il0gLSBiZWZvcmVSZWNbInJvd2NvdW50Il07CgkKCQkJbGV0IGJ1ZmZlciA9ICcnOwoJCQkKCQkJbGV0IGJlZm9yZUxpc3QgPSBiZWZvcmVSZWNbInRvcGRvYyJdLnNwbGl0KCIsIik7CgkJCWxldCBhZnRlckxpc3QgPSBhZnRlclJlY1sidG9wZG9jIl0uc3BsaXQoIiwiKTsKCQkJCgkJCW5ld0RvY1sidG9wZG9jYmVmb3JlIl0gPSBiZWZvcmVSZWNbJ3RvcGRvYyddOwoJCQluZXdEb2NbInRvcGRvY2FmdGVyIl0gPSBhZnRlclJlY1sndG9wZG9jJ107CgkJCQoJCQlsZXQgbWF0Y2hTY29yZUxpc3QgPSBbXTsKCQkJbGV0IG1hdGNoU2NvcmUgPSAwOwoJCQlmb3IobGV0IGkgPSAwO2kgPCBiZWZvcmVMaXN0Lmxlbmd0aDtpKyspewoJCQkJbGV0IGlkeCA9IGZpbmRNYXRjaChiZWZvcmVMaXN0W2ldLGFmdGVyTGlzdCk7CgkJCQkKCQkJCWlmKCBpZHggPiAtMSApewoJCQkJCW1hdGNoU2NvcmVMaXN0LnB1c2goaWR4IC0gaSk7CgkJCQkJbWF0Y2hTY29yZSArPSAoaWR4IC0gaSk7CQkJCQkKCQkJCX0KCQkJCWVsc2UgewoJCQkJCW1hdGNoU2NvcmVMaXN0LnB1c2gobWlzc2luZ1NlbnRpbmFsKTsKCQkJCQltYXRjaFNjb3JlICs9IG1pc3NpbmdTZW50aW5hbDsKCQkJCX0KCQkJfQoJCQluZXdEb2NbIm1hdGNoc2NvcmUiXSA9IG1hdGNoU2NvcmU7CgkJCW5ld0RvY1sibWF0Y2hzY29yZWxpc3QiXSA9IG1hdGNoU2NvcmVMaXN0OwoJCQluZXdEb2NbImRpZmZlcmVuY2VzY29yZSJdID0gY291bnRTY29yZSArIG1hdGNoU2NvcmU7CgkJCW5ld0RvY1siY291bnRzY29yZSJdID0gY291bnRTY29yZTsKCQl9CgkJZWxzZSB7CgkJCW5ld0RvY1sicHNjb3JlIl0gPSAnMCc7CgkJfQoJCWxldCB0Q2FsbGJhY2sgPSB1cGRhdGVDYWxsYmFjay5iaW5kKHtxdWVyeURvYzogZG9jLGhhc01vcmU6IGhhc01vcmUsY3R4fSk7CgkJCgkJZG9jRGV0YWlsTGlzdC5wdXNoKG5ld0RvYyk7CgkJdmFyIGNvbmYgPSB7aG9zdG5hbWU6IHZhbGlkYXRlU29sckhvc3QscG9ydDogdmFsaWRhdGVTb2xyUG9ydCxwYXRoOiB2YWxpZGF0ZVNvbHJVcGRhdGVQYXRoLG1ldGhvZDogJ1BPU1QnLGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfX07CgogICAgICAgICAgICAgICAgaWYoIENPTlRFWFQuQVVUSEtFWSApCiAgICAgICAgICAgICAgICAgICAgY29uZi5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmFzaWMgJyArIENPTlRFWFQuQVVUSEtFWTsKCgkJdmFyIHQgPSBDT05URVhULmxpYi5odHRwcy5yZXF1ZXN0KGNvbmYsIHRDYWxsYmFjayk7CgkJdC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7Y29uc29sZS5sb2coIkdvdCBlcnJvcjogIiArIGUubWVzc2FnZSk7fSk7CgkJdC53cml0ZShKU09OLnN0cmluZ2lmeShkb2NEZXRhaWxMaXN0KSk7CgkJdC5lbmQoKTsKICB9KTsKfQoKZnVuY3Rpb24gdmFsaWRhdGVRdWVyeShkb2MsaGFzTW9yZSxjdHgpewoJbGV0IHRDYWxsYmFjayA9IHF1ZXJ5Q2FsbGJhY2suYmluZCh7cXVlcnlEb2M6IGRvYyxoYXNNb3JlOiBoYXNNb3JlLGN0eH0pOwoJLy9jb25zb2xlLmxvZyhkb2MpOwoJbGV0IHRTb3VyY2VTb2xyUGF0aCA9IHNvdXJjZVNvbHJQYXRoICsgIiZmcT0iICsgc291cmNlRmlsdGVyUXVlcnkgKyAiJnE9cGFyZW50aWQ6IiArIGRvY1siaWQiXTsKCS8vY29uc29sZS5sb2codFNvdXJjZVNvbHJQYXRoKTsKICAgICAgICBsZXQgY29uZiA9IHtob3N0bmFtZTogc291cmNlU29sckhvc3QscG9ydDogc291cmNlU29sclBvcnQscGF0aDogZW5jb2RlVVJJKHRTb3VyY2VTb2xyUGF0aCksbWV0aG9kOiAnR0VUJyxoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ319OwogICAgICAgIGlmKCBDT05URVhULkFVVEhLRVkgKQogICAgICAgICAgICAgICAgICAgIGNvbmYuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0Jhc2ljICcgKyBDT05URVhULkFVVEhLRVk7CgoJbGV0IHQgPSBDT05URVhULmxpYi5odHRwcy5yZXF1ZXN0KGNvbmYsIHRDYWxsYmFjayk7Cgl0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHtjb25zb2xlLmxvZygiR290IGVycm9yOiAiICsgZS5tZXNzYWdlKTt9KTsKCXQuZW5kKCk7Cn0KCmZ1bmN0aW9uIGxvYWRWYWxpZGF0aW9uRGF0YShjdXJzb3JNYXJrLGN0eCl7CiAgICBsZXQgdENhbGxiYWNrID0gdmFsaWRhdGVDYWxsYmFjay5iaW5kKHtjdHh9KTsKCQoJbGV0IHRWYWxpZGF0ZVNvbHJQYXRoID0gdmFsaWRhdGVTb2xyUGF0aCArICImY3Vyc29yTWFyaz0iICsgY3Vyc29yTWFyazsKCWNvbnNvbGUubG9nKHRWYWxpZGF0ZVNvbHJQYXRoKTsKICAgICAgICAgdmFyIGNvbmYgPSB7aG9zdG5hbWU6IHZhbGlkYXRlU29sckhvc3QscG9ydDogdmFsaWRhdGVTb2xyUG9ydCxwYXRoOiB0VmFsaWRhdGVTb2xyUGF0aCxtZXRob2Q6ICdHRVQnLGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfX07CgogICAgICAgICAgICAgICAgaWYoIENPTlRFWFQuQVVUSEtFWSApCiAgICAgICAgICAgICAgICAgICAgY29uZi5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmFzaWMgJyArIENPTlRFWFQuQVVUSEtFWTsKCWxldCB0ID0gQ09OVEVYVC5saWIuaHR0cHMucmVxdWVzdChjb25mLCB0Q2FsbGJhY2spOwoJdC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7Y29uc29sZS5sb2coIkdvdCBlcnJvcjogIiArIGUubWVzc2FnZSk7fSk7Cgl0LmVuZCgpOwp9CgpmdW5jdGlvbiBkb0NvbW1pdCgpewogICAgaWYoIGNvbW1hbmRMaW5lLmNhbGxiYWNrICl7CiAgICAgICAgY29uc29sZS5sb2coImRvIGNvbXBsZXRlIGNhbGxiYWNrIik7CiAgICAgICAgY29tbWFuZExpbmUuY2FsbGJhY2soKTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIHZhciB0Q2FsbGJhY2sgPSBjYWxsYmFjay5iaW5kKHt9KTsKdmFyIHRWYWxpZGF0ZVNvbHJQYXRoID0gdmFsaWRhdGVTb2xyVXBkYXRlUGF0aCArICI/Y29tbWl0PXRydWUiOwoKdmFyIGNvbmYgPSB7aG9zdG5hbWU6IHZhbGlkYXRlU29sckhvc3QscG9ydDogdmFsaWRhdGVTb2xyUG9ydCxwYXRoOiB0VmFsaWRhdGVTb2xyUGF0aCxtZXRob2Q6ICdHRVQnLGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfX07CgogICAgICAgICAgICAgICAgaWYoIENPTlRFWFQuQVVUSEtFWSApCiAgICAgICAgICAgICAgICAgICAgY29uZi5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmFzaWMgJyArIENPTlRFWFQuQVVUSEtFWTsKICAgICAgICB2YXIgdCA9IENPTlRFWFQubGliLmh0dHBzLmdldChjb25mLCB0Q2FsbGJhY2spOwogICAgfQp9Cgpsb2FkVmFsaWRhdGlvbkRhdGEoY3Vyc29yTWFyayxMT09QQ1RYKTsKCn0=",
        "_version_":1777757568572063744},
      {
        "assetname":"harvestLogFilesScript",
        "assettype":"script",
        "assetnotes":"",
        "assetscript_s":"",
        "id":"ASSET1695667657013",
        "contenttype":"ASSET",
        "crawldate":"2023-09-25T18:47:37.250Z",
        "assetscript":"ZnVuY3Rpb24oY29tbWFuZExpbmUpewpsZXQgY29uZmlnID0gewoJCQkgIGhvc3Q6ICdzb2xyc2VydmVyJywKCQkJICBwb3J0OiAyMiwKCQkJICB1c2VybmFtZTogY29tbWFuZExpbmUudXNlcm5hbWUsCgkJCSAgcGFzc3dvcmQ6IGNvbW1hbmRMaW5lLnBhc3N3b3JkCgkJCX07CgpmdW5jdGlvbiByZWRhY3Qob2JqLGZpZWxkTmFtZSl7CiAgbGV0IHJlc3VsdCA9ICcnOwoKZm9yKGxldCBwIGluIG9iail7CiAgIGlmKCBwICE9IGZpZWxkTmFtZSApewogICAgICAgIHJlc3VsdCArPSAiICIgKyBwICsgIjoiICsgb2JqW3BdOwogICB9Cn0KCgpyZXR1cm4oIHJlc3VsdCApOwp9CgpmdW5jdGlvbiB3cml0ZUxvZ0xpbmUob3V0U3RyZWFtLGxvZyl7CglvdXRTdHJlYW0ud3JpdGUobG9nICsgIlxuIik7Cn0KCmxldCBzaHV0RG93biA9IGZhbHNlOwpsZXQgc2h1dERvd25Db3VudGVyID0gMDsKZnVuY3Rpb24gY2hlY2tTaXplKGNsaWVudCxjYil7CglsZXQgc3RhdHMgPSBmcy5zdGF0U3luYyhjb21tYW5kTGluZS5vdXRGaWxlTmFtZSk7Cgljb25zb2xlLmxvZyhzdGF0cy5zaXplKTsKCXNodXREb3duQ291bnRlcisrOwoJaWYoIHN0YXRzLnNpemUgPj0gY29tbWFuZExpbmUubWF4U2l6ZSAgfHwgc2h1dERvd25Db3VudGVyID4gMjAwICl7CgkJaWYoIGNsaWVudCAmJiAhc2h1dERvd24pewoJCQlzaHV0RG93biA9IHRydWU7CgkJCWNiKCk7CgkJfQoJfQoJZWxzZSB7CgkJc2V0VGltZW91dChjaGVja1NpemUsNTAwMCxjbGllbnQsY2IpOwoJfQp9CgoKZnVuY3Rpb24gY29weUZpbGVGaXJzdChjb25maWcsY2FsbGJhY2spewogICAgbGV0IGZpbGVOYW1lSW4gPSAnL3dheWZhaXIvZGF0YS9zb2xyL3Zhci9sb2dzL3NvbHIubG9nJzsKICAgIGxldCBmaWxlTmFtZU91dCA9ICcvdG1wL3NvbHIubG9nJzsKICAgIGNvbnNvbGUubG9nKHJlZGFjdChjb25maWcsInBhc3N3b3JkIikpOwoJdmFyIGNvbm4gPSBuZXcgU1NIQ2xpZW50KCk7Cgljb25uLm9uKCdyZWFkeScsIGZ1bmN0aW9uKCkgewoJICAgIGNvbnNvbGUubG9nKCdDbGllbnQgOjogcmVhZHknKTsKCSAgICBjb25uLmV4ZWMoJ3N1ZG8gY2F0ICcgKyBmaWxlTmFtZUluICsgJyA+ICcgKyBmaWxlTmFtZU91dCwgeyBwdHk6IHRydWUgfSwgZnVuY3Rpb24oZXJyLCBzdHJlYW0pIHsKCSAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyOwoJICAgICAgICBzdHJlYW0ub24oJ2Nsb3NlJywgZnVuY3Rpb24oY29kZSwgc2lnbmFsKSB7CgkgICAgICAgICAgICBjb25zb2xlLmxvZygnU3RyZWFtIDo6IGNsb3NlIDo6IGNvZGU6ICcgKyBjb2RlICsgJywgc2lnbmFsOiAnICsgc2lnbmFsKTsKCSAgICAgICAgICAgIGNvbm4uZW5kKCk7CgkgICAgICAgICAgICBjYWxsYmFjayh7c3RhdHVzOiAxfSk7CgkgICAgICAgIH0pLm9uKCdkYXRhJywgZnVuY3Rpb24oZGF0YSkgewoJICAgICAgICAgICAgaWYgKGRhdGEuaW5kZXhPZignOicpID49IGRhdGEubGVuZ3RoIC0gMikgewoJICAgICAgICAgICAgc3RyZWFtLndyaXRlKGNvbmZpZy5wYXNzd29yZCArICdcbicpOwpjb25zb2xlLmxvZygic2V0dGluZyBwYXNzd29yZCIpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NURE9VVDogJyArIGRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2FsbGJhY2soe3N0YXR1czogMX0pOwoJICAgICAgICB9KS5zdGRlcnIub24oJ2RhdGEnLCBmdW5jdGlvbihkYXRhKSB7CgkgICAgICAgICAgICBjb25zb2xlLmxvZygnU1RERVJSOiAnICsgZGF0YSk7CgkgICAgICAgIH0pOwoJICAgIH0pOwoJfSkuY29ubmVjdChjb25maWcpOwp9CgpmdW5jdGlvbiBnZXRDb3JlTG9nQ2FsbGJhY2socmVzKSB7CglsZXQgc3RyID0gIiI7CiAgICBsZXQgb3V0RmlsZU5hbWUgPSB0aGlzLm91dEZpbGVOYW1lOwogICAgbGV0IG91dFN0cmVhbSA9IHRoaXMub3V0U3RyZWFtOwoJbGV0IGNhbGxiYWNrID0gdGhpcy5jYWxsYmFjazsKCWxldCBjb3JlTGlzdCA9IHRoaXMuY29yZUxpc3Q7CglsZXQgaW5kZXggPSB0aGlzLmluZGV4OwogICAgbGV0IGNsaWVudCA9IHRoaXMuY2xpZW50OwogICAgbGV0IGRldGFpbHMgPSB0aGlzLmRldGFpbHM7CgogICAgY29uc29sZS5sb2coImdldCIpOwogICAgbGV0IHJlbW90ZVBhdGggPSAnL3RtcC9zb2xyLmxvZyc7CgoJCQlsZXQgb3B0aW9ucyA9IHsKCQkJICBjb25jdXJyZW5jeTogNjQsIAoJCQkgIGF1dG9DbG9zZTogZmFsc2UsCgkJCSAgY2h1bmtTaXplOiAzMjc2OCwgCgkJCSAgc3RlcDogZnVuY3Rpb24odG90YWxfdHJhbnNmZXJyZWQsIGNodW5rLCB0b3RhbCkgewoJCQkgICAgY29uc29sZS5sb2codG90YWxfdHJhbnNmZXJyZWQsdG90YWwpOwoJCQkgIH0KCQkJfTsKICAgIGxldCBjYiA9IGZ1bmN0aW9uKCl7CiAgICAJdGhpcy5jbGllbnQuZW5kKCk7CiAgICAgICAgY29uc29sZS5sb2coImVuZCIpOwogICAgICAgIHRoaXMub3V0U3RyZWFtLmNsb3NlKCk7CiAgICAgICBjb25zb2xlLmxvZygiQ09SRUxPR1MiKTsKICAgICAgbGV0IGRvbmUgPSB0cnVlOwogICAgICB0aGlzLmNvcmVMaXN0W3RoaXMuaW5kZXhdLmRhdGEgPSB0cnVlOwogICAgICBsZXQgbmV4dEluZGV4ID0gLTE7CgkJICBmb3IobGV0IGkgaW4gdGhpcy5jb3JlTGlzdCl7CgkJCSAgaWYoICF0aGlzLmNvcmVMaXN0W2ldLmRhdGEgKXsKCQkJCSAgZG9uZSA9IGZhbHNlOwoJCQkJICBuZXh0SW5kZXggPSBpOwoJCQkJICBicmVhazsKCQkJICB9CgkJICB9CgoJCSAgaWYoIGRvbmUgKXsKCQkJbGV0IG1lc3NhZ2VzID0gW3ttZXNzYWdlOiAiRE9ORSJ9XTsKCQkJCgkJCWNhbGxiYWNrKG1lc3NhZ2VzKTsKCQkgfQoJCSBlbHNlIHsKCQkgCWdldENvcmVMb2coY29uZmlnLGNvcmVMaXN0LGRldGFpbHMsY2FsbGJhY2ssbmV4dEluZGV4KTsKCQkgfQogICAgfS5iaW5kKHtjbGllbnQ6IGNsaWVudCxjb3JlTGlzdDogY29yZUxpc3QsaW5kZXg6IGluZGV4LG91dFN0cmVhbTogb3V0U3RyZWFtfSk7CiAKIAlsZXQgY2IyID0gZnVuY3Rpb24oKXsKCSAgICAvL2NvbnNvbGUuZXJyb3IoIkVSUk9SIixlcnIubWVzc2FnZSk7CgkgICAgdGhpcy5jYigpOwoJICB9LmJpbmQoe2NiOiBjYn0pOwogICAgIGNvbnNvbGUubG9nKCJjb25uZWN0IixyZW1vdGVQYXRoLG9wdGlvbnMpOwogICAgY2xpZW50LmdldChyZW1vdGVQYXRoLCBvdXRTdHJlYW0sb3B0aW9ucykudGhlbihjYikKCSAgLmNhdGNoKGNiMik7CgogICAgY2hlY2tTaXplKGNsaWVudCxjYik7CgoKCQkgIAogIH0KCiAgZnVuY3Rpb24gc2hhbGxvd0Nsb25lKGFyZ3MpewogIAlsZXQgcmVzdWx0ID0ge307CgogIAlpZiggYXJncyl7CgkgIAlmb3IobGV0IHAgaW4gYXJncyl7CgkgIAkJaWYoIGFyZ3MuaGFzT3duUHJvcGVydHkocCkgKSAKCSAgCQkJcmVzdWx0W3BdID0gYXJnc1twXTsKCSAgCX0KCX0KCiAgCS8vYWNvbnNvbGUubG9nKCJjbG9uZSIsYXJncyxyZXN1bHQpOwogIAlyZXR1cm4oIHJlc3VsdCApOwogIH0KCmZ1bmN0aW9uIGdldENvcmVMb2coY29uZmlnLGNvcmVMaXN0LGRldGFpbHMsY2FsbGJhY2ssc3RhcnRJbmRleCl7CgkKCWxldCBnZXRMb2dGaWxlID0gZnVuY3Rpb24oaSl7CgkJbGV0IHN0YXJ0VG9rZW4gPSAiaHR0cDovLyI7CgkJbGV0IGVuZFRva2VuID0gIi9zb2xyIjsKCQlsZXQgY29yZUxpc3QgPSB0aGlzLmNvcmVMaXN0OwoJCWxldCBjb25maWcgPSB0aGlzLmNvbmZpZzsKCQlsZXQgZGV0YWlscyA9IHRoaXMuZGV0YWlsczsKCQlsZXQgY2FsbGJhY2sgPSB0aGlzLmNhbGxiYWNrOwoKCQkvL2xldCBtZXNzYWdlcyA9IFtdOwoJCWlmKCBpIDwgY29yZUxpc3QubGVuZ3RoICl7CgkJCWxldCB0Q29yZSA9IGNvcmVMaXN0W2ldLnVybDsKCSAgICAgICAgbGV0IHRQYXRoID0gY29yZUxpc3RbaV0ucGF0aDsKCgkJCWxldCBpZHggPSB0Q29yZS5pbmRleE9mKHN0YXJ0VG9rZW4pOwoJCQlsZXQgc2lkeCA9IHRDb3JlLmluZGV4T2YoZW5kVG9rZW4pOwoJCQlpZiggaWR4ID4gLTEgJiYgc2lkeCA+IC0xICl7CgkJCQlsZXQgc291cmNlU29sckhvc3QgPSB0Q29yZS5zdWJzdHJpbmcoaWR4ICsgc3RhcnRUb2tlbi5sZW5ndGgsc2lkeCk7CgkJCQlsZXQgc291cmNlU29sclBvcnQgPSA4MDsKCQkJCWxldCBwaWR4ID0gc291cmNlU29sckhvc3QuaW5kZXhPZigiOiIpOwoJCQkJaWYoIHBpZHggPiAtMSApewoJCQkJCXNvdXJjZVNvbHJQb3J0ID0gc291cmNlU29sckhvc3Quc3Vic3RyaW5nKHBpZHgrMSk7CgkJCQkJc291cmNlU29sckhvc3QgPSBzb3VyY2VTb2xySG9zdC5zdWJzdHJpbmcoMCxwaWR4KTsKCQkJCX0KCQkJCWxldCB0Q29uZmlnID0gc2hhbGxvd0Nsb25lKGNvbmZpZyk7CgkJICAgICAgICB0Q29uZmlnLmhvc3QgPSBzb3VyY2VTb2xySG9zdDsKCQkgICAgICAgICAgIAoKCSAgICAgICAgICAgIC8vbGV0IHQgPSBodHRwLmdldCh7aG9zdDogc291cmNlU29sckhvc3QscG9ydDogc291cmNlU29sclBvcnQscGF0aDogdFBhdGh9LCB0Q2FsbGJhY2spOwoJICAgICAgICAgICAgbGV0IHNjYiA9IGZ1bmN0aW9uKCl7CgkgICAgICAgICAgICAJbGV0IHNmdENsaWVudCA9IG5ldyBTU0gyQ2xpZW50KCk7CgkJICAgICAgICAgICAgbGV0IHRDYWxsYmFjayA9IGdldENvcmVMb2dDYWxsYmFjay5iaW5kKHtzb3VyY2VTb2xySG9zdDogdGhpcy5zb3VyY2VTb2xySG9zdCxjbGllbnQ6IHNmdENsaWVudCxvdXRTdHJlYW06IHRoaXMub3V0U3RyZWFtLG91dEZpbGVOYW1lOnRoaXMub3V0RmlsZU5hbWUsZGV0YWlsczogdGhpcy5kZXRhaWxzLGluZGV4OiB0aGlzLmluZGV4LGNvcmVMaXN0OiB0aGlzLmNvcmVMaXN0LGNhbGxiYWNrOiB0aGlzLmNhbGxiYWNrfSk7CgkJICAgICAgICAgICAgCgkJICAgICAgICAgICAgc2Z0Q2xpZW50LmNvbm5lY3QodGhpcy5jb25maWcpLnRoZW4odENhbGxiYWNrKTsKCSAgICAgICAgICAgIH0uYmluZCh7c291cmNlU29sckhvc3Q6IHNvdXJjZVNvbHJIb3N0LG91dFN0cmVhbTogZGV0YWlscy5vdXRTdHJlYW0sb3V0RmlsZU5hbWU6ZGV0YWlscy5vdXRGaWxlTmFtZSxkZXRhaWxzOiBkZXRhaWxzLGluZGV4OiBpLGNvcmVMaXN0OiBjb3JlTGlzdCxjYWxsYmFjazogY2FsbGJhY2ssY29uZmlnOiB0Q29uZmlnfSk7CgkgICAgICAgICAgICAKCSAgICAgICAgICAgIGNvcHlGaWxlRmlyc3QodENvbmZpZyxzY2IpOwoJICAgICAgICB9CgkJfQoJfS5iaW5kKHtjb3JlTGlzdDogY29yZUxpc3QsY29uZmlnOiBjb25maWcsZGV0YWlsczogZGV0YWlscyxjYWxsYmFjazogY2FsbGJhY2t9KTsKCgoJaWYoIGNvcmVMaXN0Lmxlbmd0aCA9PSAwICkKCQljYWxsYmFjayhbe21lc3NhZ2U6ICJOT0NPUkUifV0pOwoJZWxzZQoJCWdldExvZ0ZpbGUoc3RhcnRJbmRleCk7Cn0KCgpmdW5jdGlvbiBnZXRMb2dzQ2FsbGJhY2socmVzKSB7CiAgbGV0IHN0ciA9ICIiOwogIGxldCBzb3VyY2VTb2xySG9zdCA9IHRoaXMuc291cmNlU29sckhvc3Q7CiAgbGV0IHNvdXJjZVNvbHJQb3J0ID0gdGhpcy5zb3VyY2VTb2xyUG9ydDsKICBsZXQgc291cmNlU29sckNvbGxlY3Rpb24gPSB0aGlzLnNvdXJjZVNvbHJDb2xsZWN0aW9uOwogIGxldCBvdXRGaWxlTmFtZSA9IHRoaXMub3V0RmlsZU5hbWU7CiAgbGV0IG91dFN0cmVhbSA9IHRoaXMub3V0U3RyZWFtOwogIGxldCBjYWxsYmFjayA9IHRoaXMuY2FsbGJhY2s7CiAgCiAgcmVzLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7CiAgICAgICAgICAgICAgc3RyICs9IGNodW5rOwogICAgICAgICAgICAgIAogICAgICAgIH0pOwoKICByZXMub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygiQ0xVU1RFUlNUQVRVUyIsc291cmNlU29sckhvc3Qsc291cmNlU29sclBvcnQsc291cmNlU29sckNvbGxlY3Rpb24pOwoJCWxldCBjbHVzdGVyU3RhdHVzID0gSlNPTi5wYXJzZShzdHIpOwoJCQoJCWlmKCBjbHVzdGVyU3RhdHVzLmNsdXN0ZXIgICYmIGNsdXN0ZXJTdGF0dXMuY2x1c3Rlci5jb2xsZWN0aW9ucyAmJiBjbHVzdGVyU3RhdHVzLmNsdXN0ZXIuY29sbGVjdGlvbnNbc291cmNlU29sckNvbGxlY3Rpb25dICl7CgkJCWxldCBjb2xsZWN0aW9uSW5mbyA9IGNsdXN0ZXJTdGF0dXMuY2x1c3Rlci5jb2xsZWN0aW9uc1tzb3VyY2VTb2xyQ29sbGVjdGlvbl07CgoJCQlpZiggY29sbGVjdGlvbkluZm8uc2hhcmRzICl7CgkJCQlsZXQgY29yZUxpc3QgPSBbXTsKCQkJCWZvcihsZXQgcyBpbiBjb2xsZWN0aW9uSW5mby5zaGFyZHMpewoJCQkJCWxldCBzaGFyZCA9IGNvbGxlY3Rpb25JbmZvLnNoYXJkc1tzXTsKCQkJCQlmb3IobGV0IHIgaW4gc2hhcmQucmVwbGljYXMpewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVwbGljYSA9IHNoYXJkLnJlcGxpY2FzW3JdOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygicmVwbGljYSIscmVkYWN0KHJlcGxpY2EsInBhc3N3b3JkIikpOwoJCQkJCQlpZiggcmVwbGljYS5zdGF0ZSA9PSAnYWN0aXZlJyApewoJCQkJCQkJY29yZUxpc3QucHVzaCh7dXJsOiByZXBsaWNhLmJhc2VfdXJsLHBhdGg6Ii9zb2xyL2FkbWluL2luZm8vbG9nZ2luZz9fPTE1NzQyMDA0MzE2NzEmc2luY2U9MCZ3dD1qc29uIn0pOwoJCQkJCQkJLy9icmVhazsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJCWdldENvcmVMb2coY29uZmlnLGNvcmVMaXN0LHtvdXRGaWxlTmFtZTogb3V0RmlsZU5hbWUsb3V0U3RyZWFtOiBvdXRTdHJlYW19LGNhbGxiYWNrLDApOwoJCQl9CgkJCWVsc2UgewoJCQkJY2FsbGJhY2soe2NvbGxlY3Rpb246IHNvdXJjZVNvbHJDb2xsZWN0aW9uLG1lc3NhZ2VzOiBbe21lc3NhZ2U6ICJOTyBTSEFSRFMifV19KTsKCQkJfQoJCX0KCQllbHNlIHsKCQkJY29uc29sZS5sb2coIk5PIERFU1RJTkFUSU9OIixzb3VyY2VTb2xyQ29sbGVjdGlvbik7CgkJCWNhbGxiYWNrKHtjb2xsZWN0aW9uOiBzb3VyY2VTb2xyQ29sbGVjdGlvbixtZXNzYWdlczogW3ttZXNzYWdlOiAiTk8gREVTVElOQVRJT04ifV19KTsKCQl9CiAgfSk7Cn0KCmZ1bmN0aW9uIGdldENvcmVTdGF0cyhhcmdzLGNhbGxiYWNrKXsKCWxldCBzb3VyY2VTb2xySG9zdCA9IGFyZ3MuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVNvbHJIb3N0JykgPyBhcmdzWydzb3VyY2VTb2xySG9zdCddIDogImMzLnNvbHJjbG91ZC5zZXJ2aWNlLmludHJhYm8xLmNvbnN1bC5jc256b28uY29tIjsKCWxldCBzb3VyY2VTb2xyUG9ydCA9IGFyZ3MuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVNvbHJQb3J0JykgPyBhcmdzWydzb3VyY2VTb2xyUG9ydCddIDogODE4MDsKCWxldCBzb3VyY2VTb2xyQ29sbGVjdGlvbiA9IGFyZ3MuaGFzT3duUHJvcGVydHkoJ3NvdXJjZVNvbHJDb2xsZWN0aW9uJykgPyBhcmdzWydzb3VyY2VTb2xyQ29sbGVjdGlvbiddIDogJ2Rlbm9ybV91cyc7CiAgICBsZXQgb3V0RmlsZU5hbWUgPSBhcmdzLmhhc093blByb3BlcnR5KCdvdXRGaWxlTmFtZScpID8gYXJnc1snb3V0RmlsZU5hbWUnXSA6ICcvd2F5ZmFpci9kYXRhL2Rlbm9ybV9zb2xyLmxvZyc7CiAgICB2YXIgb3V0U3RyZWFtID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0ob3V0RmlsZU5hbWUpOwogICAgICAgIGNvbW1hbmRMaW5lLm91dEZpbGVOYW1lID0gb3V0RmlsZU5hbWU7CglvdXRTdHJlYW0ud3JpdGFibGUgPSB0cnVlOwogICAgbGV0IG1heFNpemUgPSBhcmdzLmhhc093blByb3BlcnR5KCdtYXhTaXplJykgPyBhcmdzWydtYXhTaXplJ10gOiAxMCoxMDAwMDAwOwogICAgICAgY29tbWFuZExpbmUubWF4U2l6ZSA9IG1heFNpemU7CglsZXQgdENhbGxiYWNrID0gZ2V0TG9nc0NhbGxiYWNrLmJpbmQoe3NvdXJjZVNvbHJIb3N0OiBzb3VyY2VTb2xySG9zdCxzb3VyY2VTb2xyUG9ydDogc291cmNlU29sclBvcnQsc291cmNlU29sckNvbGxlY3Rpb246IHNvdXJjZVNvbHJDb2xsZWN0aW9uLG91dEZpbGVOYW1lOiBvdXRGaWxlTmFtZSxvdXRTdHJlYW06IG91dFN0cmVhbSxjYWxsYmFjazogY2FsbGJhY2t9KTsKCWxldCB0ID0gaHR0cC5nZXQoe2hvc3Q6IHNvdXJjZVNvbHJIb3N0LHBvcnQ6IHNvdXJjZVNvbHJQb3J0LHBhdGg6ICIvc29sci9hZG1pbi9jb2xsZWN0aW9ucz9hY3Rpb249Q0xVU1RFUlNUQVRVUyZ3dD1qc29uIn0sIHRDYWxsYmFjayx0Q2FsbGJhY2spOwp9CgpmdW5jdGlvbiBjYihtZXNzYWdlcyl7Cgljb25zb2xlLmxvZygiY29tcGxldGUiLG1lc3NhZ2VzKTsKfQpnZXRDb3JlU3RhdHMoY29tbWFuZExpbmUsY2IpOwoKCn0=",
        "_version_":1778036409369624576},
      {
        "assetname":"buildSampleScript",
        "assettype":"script",
        "assetnotes":"",
        "assetscript_s":"testName=",
        "id":"ASSET1695667578804",
        "contenttype":"ASSET",
        "crawldate":"2023-09-25T18:46:19.093Z",
        "assetscript":"ZnVuY3Rpb24oY29tbWFuZExpbmUpewp2YXIgc29sckhvc3QgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc29sckhvc3QnKSA/IGNvbW1hbmRMaW5lWydzb2xySG9zdCddIDogQ09OVEVYVC5TT0xSSE9TVDsKdmFyIHNvbHJQb3J0ID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NvbHJQb3J0JykgPyBjb21tYW5kTGluZVsnc29sclBvcnQnXSA6IENPTlRFWFQuU09MUlBPUlQ7CnZhciBzb2xyQ29sbGVjdGlvbiA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdzb2xyQ29sbGVjdGlvbicpID8gY29tbWFuZExpbmVbJ3NvbHJDb2xsZWN0aW9uJ10gOiBDT05URVhULlNPTFJDT0xMRUNUSU9OOwp2YXIgc29sclBhdGggPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnc29sclBhdGgnKSA/IGNvbW1hbmRMaW5lWydzb2xyUGF0aCddIDogIi9hcGkvc29sci8iICsgc29sckNvbGxlY3Rpb24gKyAiL3VwZGF0ZSI7CnZhciBiYXRjaFNpemUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnYmF0Y2hTaXplJykgPyBjb21tYW5kTGluZVsnYmF0Y2hTaXplJ10gOiAxMDsKdmFyIGluRmlsZU5hbWUgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnaW5GaWxlTmFtZScpID8gY29tbWFuZExpbmVbJ2luRmlsZU5hbWUnXSA6ICcvdG1wL291dF9zb2xyLmxvZyc7CnZhciB0ZXN0TmFtZSA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCd0ZXN0TmFtZScpID8gY29tbWFuZExpbmVbJ3Rlc3ROYW1lJ10gOiAnY292ZW9iYXNlJzsKdmFyIHN0YXJ0VGFnID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3N0YXJ0VGFnJykgPyBjb21tYW5kTGluZVsnc3RhcnRUYWcnXSA6ICdwYXJhbXM9eyc7CnZhciBlbmRUYWcgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgnZW5kVGFnJykgPyBjb21tYW5kTGluZVsnZW5kVGFnJ10gOiAnfSBoaXRzPSc7CnZhciBrZXlUYWcgPSBjb21tYW5kTGluZS5oYXNPd25Qcm9wZXJ0eSgna2V5VGFnJykgPyBjb21tYW5kTGluZVsna2V5VGFnJ10gOiAnJzsKdmFyIHJlcXVpcmVkVGFnID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3JlcXVpcmVkVGFnJykgPyBjb21tYW5kTGluZVsncmVxdWlyZWRUYWcnXSA6ICJjOiIgKyB0ZXN0TmFtZTsKdmFyIGlkU2VlZCA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdpZFNlZWQnKSA/IGNvbW1hbmRMaW5lWydpZFNlZWQnXSA6ICdTRUFSQ0gnOwp2YXIgaWdub3JlUGF0dGVybiA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdpZ25vcmVQYXR0ZXJuJykgPyBjb21tYW5kTGluZVsnaWdub3JlUGF0dGVybiddLnNwbGl0KCIsIikgOiBbJ3E9KjoqJnJvd3M9MCZ3dD1qc29uJywnbnVtVGVybXM9MCZzaG93PWluZGV4Jnd0PWpzb24nXTsKdmFyIGRvV29yayA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdkb1dvcmsnKSA/IGNvbW1hbmRMaW5lWydkb1dvcmsnXSA9PT0gJ3RydWUnIDogdHJ1ZTsKbGV0IHBhc3NUaHJvdWdoUGFyYW1zID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3Bhc3NUaHJvdWdoUGFyYW1zJykgPyBjb21tYW5kTGluZVsncGFzc1Rocm91Z2hQYXJhbXMnXS5zcGxpdCgiLCIpIDogWyIqIl07CnZhciB1c2VBc1NlZWQgID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3VzZUFzU2VlZCcpID8gY29tbWFuZExpbmVbJ3VzZUFzU2VlZCddID09PSAndHJ1ZScgOiB0cnVlOwp2YXIgc2VlZFRlbXBsYXRlID0gY29tbWFuZExpbmUuaGFzT3duUHJvcGVydHkoJ3NlZWRUZW1wbGF0ZScpID8gY29tbWFuZExpbmVbJ3NlZWRUZW1wbGF0ZSddIDogJyc7CnZhciBjc3ZEYXRhICA9IGNvbW1hbmRMaW5lLmhhc093blByb3BlcnR5KCdjc3ZEYXRhJykgPyBjb21tYW5kTGluZVsnY3N2RGF0YSddLnJlcGxhY2UoL1wrL2csJyAnKSA6IGZhbHNlOwoKZnVuY3Rpb24gY2FsbGJhY2socmVzKSB7CgogICAgdmFyIHN0ciA9ICIiOwoKICAgIHJlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewogICAgICAgICAgICBzdHIgKz0gY2h1bms7CiAgICAgICAgICAgIAogICAgICAgIH0pOwoKICAgIHJlcy5vbignZW5kJywgZnVuY3Rpb24gKCkgewogICAgICAgIC8vY29uc29sZS5sb2cocmVzLmZpZWxkKTsKICAgICAgICBjb25zb2xlLmxvZyhzdHIpOwogICAgfSk7Cn0KCgpmdW5jdGlvbiBleHRyYWN0UGFyYW1zKHN0cil7CiAgIGxldCByZXN1bHQgPSBbXTsKCiAgIGlmKCBzdHIgKXsKICAgICAgdHJ5IHsKICAgICAgICAgIHZhciB1UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhzdHIpOwogICAgICAgICAgdVBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLGtleSl7IHJlc3VsdC5wdXNoKHtuYW1lOiBrZXksdmFsdWU6IHZhbHVlfSk7fSk7CgogICAgICB9CiAgICAgIGNhdGNoKGUpewogICAgICAgIGNvbnNvbGUubG9nKCJmYWlsZWQgcGFyc2luZzogIiArIGUpOwogICAgICB9CgogICB9CgogICByZXR1cm4oIHJlc3VsdCApOwp9CgpmdW5jdGlvbiBjaGVja1BhcmFtKHApewoJbGV0IHJlc3VsdCA9IGZhbHNlOwogICAgICAgIGxldCB0cCA9IHAgKyAiIjsKCiAgICAgICAgZm9yKGxldCBpIGluIHBhc3NUaHJvdWdoUGFyYW1zKXsKCQlpZiggcGFzc1Rocm91Z2hQYXJhbXNbaV0gPT0gIioiIHx8IChwYXNzVGhyb3VnaFBhcmFtc1tpXS5lbmRzV2l0aCgiKiIpICYmIHRwLnN0YXJ0c1dpdGgocGFzc1Rocm91Z2hQYXJhbXNbaV0uc3Vic3RyaW5nKDAscGFzc1Rocm91Z2hQYXJhbXNbaV0ubGVuZ3RoLTEpKSApIHx8IHRwLmluZGV4T2YocGFzc1Rocm91Z2hQYXJhbXNbaV0pID4gLTEgKXsKCQkJcmVzdWx0ID0gdHJ1ZTsKCQkJYnJlYWs7CgkJfQoJfSAKCXJldHVybiggcmVzdWx0ICk7Cn0KCmZ1bmN0aW9uIGNoZWNrSWdub3JlUGF0dGVybihwKXsKCWxldCByZXN1bHQgPSBmYWxzZTsKCiAgICAgICAgZm9yKGxldCBpIGluIGlnbm9yZVBhdHRlcm4pewoJCWlmKCBwLmluZGV4T2YoaWdub3JlUGF0dGVybltpXSkgPiAtMSApewoJCQlyZXN1bHQgPSB0cnVlOwoJCQlicmVhazsKCQl9Cgl9IAoJcmV0dXJuKCByZXN1bHQgKTsKfQoKZnVuY3Rpb24gZ2V0UmVxdWlyZWRQYXJhbXMobGluZSl7CiAgIGxldCByZXN1bHQgPSAnJzsKICAgbGV0IHBhcmFtcyA9IGV4dHJhY3RQYXJhbXMobGluZSk7CgogICBmb3IobGV0IGkgaW4gcGFyYW1zKXsKICAgICBsZXQgcCA9IHBhcmFtc1tpXS5uYW1lOwoKICAgICBpZiggIGNoZWNrUGFyYW0oW3BdKSApewoKICAgICAgICBpZiggcmVzdWx0Lmxlbmd0aCA+IDAgKSByZXN1bHQgKz0gIiYiOwogICAgICAgIHJlc3VsdCArPSBwICsgIj0iICsgcGFyYW1zW2ldLnZhbHVlOwogICAgIH0KICAgfQogICBjb25zb2xlLmxvZygicGFyYW1zIixyZXN1bHQpOwoKICAgcmV0dXJuKCByZXN1bHQgKTsKfQoKZnVuY3Rpb24gZmxhdHRlbkZyYW1lKHJlYyl7CglsZXQgcmVzdWx0ID0gJyc7CgoJaWYoIHJlYyApIHsKCQlmb3IobGV0IHAgaW4gcmVjKXsKCQkgICAgIGlmKCByZXN1bHQubGVuZ3RoID4gMCApIHJlc3VsdCArPSAiJiI7CgkJICAgICByZXN1bHQgKz0gcCArICc9JyArIHJlY1twXTsKCQl9Cgl9CmNvbnNvbGUubG9nKCJmbGF0dGVuIixyZXN1bHQpOwoJcmV0dXJuKCByZXN1bHQgKTsKfQoKdmFyIHJsID0gZmFsc2U7CgppZiggY3N2RGF0YSApewogICAgdmFyIGluc3RyZWFtID0gbmV3IENPTlRFWFQubGliLnN0cmVhbS5QYXNzVGhyb3VnaCgpCiAgICBpbnN0cmVhbS53cml0ZShjc3ZEYXRhKTsKICAgIGluc3RyZWFtLmVuZCgpOwogICAgcmwgPSBDT05URVhULmxpYi5yZWFkbGluZS5jcmVhdGVJbnRlcmZhY2UoewogICAgICAgIGlucHV0OiBpbnN0cmVhbSwKICAgICAgICB0ZXJtaW5hbDogZmFsc2UKICAgICAgICB9KTsKfQplbHNlIHsKICAgIHZhciBpbnN0cmVhbSA9IENPTlRFWFQubGliLmZzLmNyZWF0ZVJlYWRTdHJlYW0oaW5GaWxlTmFtZSk7CiAgICBpbnN0cmVhbS5yZWFkYWJsZSA9IHRydWU7CgogICAgcmwgPSBDT05URVhULmxpYi5yZWFkbGluZS5jcmVhdGVJbnRlcmZhY2UoewogICAgaW5wdXQ6IGluc3RyZWFtLAogICAgdGVybWluYWw6IGZhbHNlCiAgICB9KTsKfQoKdmFyIHJvd0NvdW50ZXIgPSAwOwp2YXIgcm93TGlzdCA9IFtdOwoKZnVuY3Rpb24gcmVhZEZ1bmMobGluZSkgewogICAgLy9vbnNvbGUubG9nKGxpbmUpOwogICAgaWYoIHVzZUFzU2VlZCApewogICAgICAgIGxldCB0UmVjID0ge2lkOiBpZFNlZWQgKyB0ZXN0TmFtZSArIHJvd0NvdW50ZXIsImNvbnRlbnR0eXBlIjogJ1NFQVJDSCcsInRlc3RuYW1lIjogdGVzdE5hbWV9OwogICAgICAgIHRSZWNbInF1ZXJ5X3R4dCJdID0gc2VlZFRlbXBsYXRlICsgbGluZTsKICAgICAgICAvL2NvbnNvbGUubG9nKCJkYXRhIix0UmVjKTsKICAgICAgICByb3dMaXN0LnB1c2godFJlYyk7CiAgICAgICAgCiAgICAgICAgaWYoIHJvd0xpc3QubGVuZ3RoID4gYmF0Y2hTaXplICl7CiAgICAgICAgICAgIHNlbmRUb1NvbHIoY2FsbGJhY2spOwogICAgICAgIH0KICAgICAgICByb3dDb3VudGVyKys7CiAgICB9CiAgICBlbHNlIHsKICAgICAgbGV0IGlkeCA9IC0xOwogICAgICBpZiggbGluZS5pbmRleE9mKCJodHRwOiIpIDwgMCAmJiAoICFyZXF1aXJlZFRhZyB8fCBsaW5lLmluZGV4T2YocmVxdWlyZWRUYWcpID4gLTEgKSAmJiAoaWR4ID0gbGluZS5pbmRleE9mKHN0YXJ0VGFnKSkgPiAtMSApewogICAgICAgICAgbGluZSA9IGxpbmUuc3Vic3RyaW5nKGlkeCtzdGFydFRhZy5sZW5ndGgpOwogICAgICAgICAgaWYoICBrZXlUYWcgJiYgKGlkeCA9IGxpbmUuaW5kZXhPZihrZXlUYWcpKSA+IC0xICl7CiAgICAgICAgICAgICAgbGluZSA9IGxpbmUuc3Vic3RyaW5nKGlkeCtrZXlUYWcubGVuZ3RoKS50cmltKCk7CiAgICAgICAgICB9CiAgICAgICAgICAKICAgICAgICAgIGlmKCAoaWR4ID0gbGluZS5pbmRleE9mKGVuZFRhZykpID4gLTEgKXsKICAgICAgICAgICAgICBsaW5lID0gbGluZS5zdWJzdHJpbmcoMCxpZHgpLnRyaW0oKTsKICAgICAgICAgICAgICBpZiggIWNoZWNrSWdub3JlUGF0dGVybihsaW5lKSApewogICAgICAgICAgICAgIC8vaWYoIGxpbmUuaW5kZXhPZigid3Q9amF2YWJpbiIpID4gLTEgKSAgbGluZSA9IGxpbmUucmVwbGFjZSgid3Q9amF2YWJpbiIsInd0PWpzb24iKTsKICAgICAgICAgICAgICAvL2lmKCBsaW5lLmluZGV4T2YoInNoYXJkLnVybD0iKSA+IC0xICkgIGxpbmUgPSBsaW5lLnJlcGxhY2UoInNoYXJkLnVybD0iLCJ0c2hhcmQudXJsPSIpOwogICAgICAgICAgICAgIC8vaWYoIGxpbmUuaW5kZXhPZigiZGlzdHJpYj1mYWxzZSIpID4gLTEgKSAgbGluZSA9IGxpbmUucmVwbGFjZSgiZGlzdHJpYj1mYWxzZSIsImRpc3RyaWI9dHJ1ZSIpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpbmUpOwogICAgICAgICAgCiAgICAgICAgICAgICAgbGV0IHRSZWMgPSB7aWQ6IGlkU2VlZCArIHRlc3ROYW1lICsgcm93Q291bnRlciwiY29udGVudHR5cGUiOiAnU0VBUkNIJywidGVzdG5hbWUiOiB0ZXN0TmFtZX07CiAgICAgICAgICAgICAgLy90UmVjWyJxdWVyeV90eHQiXSA9IGxpbmU7CiAgCSAgICB0UmVjWyJxdWVyeV90eHQiXSA9IGdldFJlcXVpcmVkUGFyYW1zKGxpbmUpOwogICAgICAgICAgICAgIC8vY29uc29sZS5sb2coImRhdGEiLHRSZWMpOwogICAgICAgICAgICAgIHJvd0xpc3QucHVzaCh0UmVjKTsKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBpZiggcm93TGlzdC5sZW5ndGggPiBiYXRjaFNpemUgKXsKICAgICAgICAgICAgICAgICAgc2VuZFRvU29scihjYWxsYmFjayk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJvd0NvdW50ZXIrKzsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgCiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coImludmFsaWQgbGluZSIsICggIXJlcXVpcmVkVGFnIHx8IGxpbmUuaW5kZXhPZihyZXF1aXJlZFRhZykgPiAtMSApICYmIGxpbmUuaW5kZXhPZihzdGFydFRhZykgPiAtMT8gbGluZSA6ICJJViIsc3RhcnRUYWcgKTsKICAgICAgfQogICAgfQp9CgpmdW5jdGlvbiBzZW5kVG9Tb2xyKGNhbGxiYWNrKXsKICAgIGNvbnNvbGUud3Nsb2cocm93TGlzdCk7CiAgICBpZiggZG9Xb3JrICl7CiAgICBsZXQgdENhbGxiYWNrID0gY2FsbGJhY2suYmluZCh7fSk7CiAgICBsZXQgY29uZiA9IHtob3N0bmFtZTogc29sckhvc3QscG9ydDogc29sclBvcnQscGF0aDogc29sclBhdGgsbWV0aG9kOiAnUE9TVCcsaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9fTsKICAgIGlmKCBDT05URVhULkFVVEhLRVkgKXsKICAgICAgICAgY29uZi5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmFzaWMgJyArIENPTlRFWFQuQVVUSEtFWTsKICAgIH0KICAgIGxldCB0ID0gQ09OVEVYVC5saWIuaHR0cHMucmVxdWVzdChjb25mLCB0Q2FsbGJhY2spOwogICAgdC5vbignZXJyb3InLCBmdW5jdGlvbihlKSB7Y29uc29sZS5sb2coIkdvdCBlcnJvcjogIiArIGUubWVzc2FnZSk7fSk7CiAgICB0LndyaXRlKEpTT04uc3RyaW5naWZ5KHJvd0xpc3QpKTsKICAgIHQuZW5kKCk7CiAgICB9CiAgICByb3dMaXN0ID0gW107Cn0KCmZ1bmN0aW9uIGRvQ29tbWl0KCl7CiAgICBpZiggZG9Xb3JrICl7CiAgICAgICAgbGV0IGRvRmluYWxseSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciB0Q2FsbGJhY2sgPSBjYWxsYmFjay5iaW5kKHt9KTsKICAgICAgICAgICAgbGV0IGNvbmYgPSB7aG9zdG5hbWU6IHNvbHJIb3N0LHBvcnQ6IHNvbHJQb3J0LHBhdGg6IHNvbHJQYXRoLG1ldGhvZDogJ1BPU1QnLGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfX07CiAgICAgICAgICAgIGlmKCBDT05URVhULkFVVEhLRVkgKXsKICAgICAgICAgICAgICAgIGNvbmYuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0Jhc2ljICcgKyBDT05URVhULkFVVEhLRVk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmYucGF0aCA9IHNvbHJQYXRoICsgIj9jb21taXQ9dHJ1ZSI7CiAgICAgICAgICAgIHZhciB0ID0gQ09OVEVYVC5saWIuaHR0cHMuZ2V0KGNvbmYsIHRDYWxsYmFjayk7CgogICAgICAgICAgICBpZiggY29tbWFuZExpbmUuY2FsbGJhY2sgKSBjb21tYW5kTGluZS5jYWxsYmFjayhjb21tYW5kTGluZS5yZXN1bHRDb250ZXh0KTsKICAgICAgICB9CgogICAgICAgIGlmKCByb3dMaXN0ICYmIHJvd0xpc3QubGVuZ3RoID4gMCApCiAgICAgICAgICAgIHNlbmRUb1NvbHIoZG9GaW5hbGx5KTsKICAgICAgICBlbHNlICAgIAogICAgICAgICAgICBkb0ZpbmFsbHkoKTsKICAgIH0KfQppZiggcmwgKSBybC5vbignbGluZScsIHJlYWRGdW5jKTsKaWYoIHJsICkgcmwub24oJ2Nsb3NlJywgZG9Db21taXQpOwp9",
        "_version_":1778036327416070144}



        testsample

        {
        "testname":"listC",
        "comments":"listC",
        "testsample":"listC",
        "testnotes":"YmFzZQ==",
        "testdetailscript":"QVNTRVQ6ZGV0YWlsc1NjcmlwdA==",
        "testdetailscript_s":"",
        "testharvestscript":"QVNTRVQ6aGFydmVzdExvZ0ZpbGVzU2NyaXB0",
        "testharvestscript_s":"username=search password= maxSize=10000000 sourceSolrHost=server1 sourceSolrCollection=collection1 outFileName=/tmp/out_solr.log",
        "testcopyscript":"QVNTRVQ6Y29weUNvbGxlY3Rpb25TY3JpcHQ=",
        "testcopyscript_s":"testName=listC sourceSolrIdField=id sourceSolrHostA=server1 sourceSolrCollectionA=collection1 destinationSolrHostA=server2 destinationSolrCollectionA=collection2 sourceSolrHostB=server1 sourceSolrCollectionB=collection1 destinationSolrHostB=server2 destinationSolrCollectionB=collection2",
        "testbuildscript":"QVNTRVQ6YnVpbGRTYW1wbGVTY3JpcHQ=",
        "testbuildscript_s":"inFileName=/tmp/out_solr.log testName=listC useAsSeed=true csvData= requiredTag=",
        "testextractscript":"QVNTRVQ6ZXh0cmFjdEdyb3VwU2NyaXB0",
        "testextractscript_s":"testName=listC vehicleId=0 sourceIdField=partTypeName,eCommerceProductId,itemId,itemDescription",
        "testinterpretscript":"QVNTRVQ6aW50ZXJwcmV0U2NyaXB0",
        "testinterpretscript_s":"",
        "testsummaryscript":"QVNTRVQ6c3VtbWFyaXplU2NyaXB0",
        "testsummaryscript_s":"testName=listC",
        "testsummaryextractscript":"QVNTRVQ6c3VtbWFyeUV4cG9ydFNjcmlwdA==",
        "testsummaryextractscript_s":"testName=listC",
        "id":"TEST1699972340287",
        "contenttype":"TEST",
        "crawldate":"2023-11-14T14:32:20.489Z",
        "_version_":1782550196900593664}


        {
        "testname":"skuC",
        "comments":"skuC",
        "testsample":"skuC",
        "testnotes":"YmFzZQ==",
        "testdetailscript":"QVNTRVQ6ZGV0YWlsc1NjcmlwdA==",
        "testdetailscript_s":"",
        "testharvestscript":"QVNTRVQ6aGFydmVzdExvZ0ZpbGVzU2NyaXB0",
        "testharvestscript_s":"username=search password= maxSize=10000000 sourceSolrHost=server1 sourceSolrCollection=collection1 outFileName=/tmp/out_solr.log",
        "testcopyscript":"QVNTRVQ6Y29weUNvbGxlY3Rpb25TY3JpcHQ=",
        "testcopyscript_s":"testName=skuC FsourceSolrIdField=id sourceSolrHostA=server1 sourceSolrCollectionA=collection1 destinationSolrHostA=server2 destinationSolrCollectionA=collection2 sourceSolrHostB=server1 sourceSolrCollectionB=collection1 destinationSolrHostB=server2 destinationSolrCollectionB=collection2",
        "testbuildscript":"QVNTRVQ6YnVpbGRTYW1wbGVTY3JpcHQ=",
        "testbuildscript_s":"inFileName=/tmp/out_solr.log testName=skuC useAsSeed=true csvData= requiredTag=",
        "testextractscript":"QVNTRVQ6ZXh0cmFjdFNjcmlwdA==",
        "testextractscript_s":"testName=skuC vehicleId=0 sourceIdField=partTypeName,eCommerceProductId,itemId,itemDescription,partNumber",
        "testinterpretscript":"QVNTRVQ6aW50ZXJwcmV0U2NyaXB0",
        "testinterpretscript_s":"",
        "testsummaryscript":"QVNTRVQ6c3VtbWFyaXplU2NyaXB0",
        "testsummaryscript_s":"testName=skuC",
        "testsummaryextractscript":"QVNTRVQ6c3VtbWFyeUV4cG9ydFNjcmlwdA==",
        "testsummaryextractscript_s":"testName=skuC",
        "id":"TEST1699972301495",
        "contenttype":"TEST",
        "crawldate":"2023-11-14T14:31:41.739Z",
        "_version_":1782550156271419392}
